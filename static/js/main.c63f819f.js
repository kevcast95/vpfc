/*! For license information please see main.c63f819f.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ee)&&(Ce(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function je(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,je.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Et,It,St=!1,Tt=[],Nt=null,Ct=null,At=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return En}var Sn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Nn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,jn=null;l&&"documentMode"in document&&(jn=document.documentMode);var Ln=l&&"TextEvent"in window&&!jn,Mn=l&&(!Dn||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Qn(e){Fr(e,0)}function $n(e){if(W(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Gn(t,Wn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Nr=Ir("animationstart"),Cr=Ir("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Sr:case Tr:case Nr:u=yn;break;case Cr:u=An;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ei(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ni=Ei(Ti),Ci=Ei(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ci),Ii(Ni)}function Di(e,t,n){if(Ni.current!==Ti)throw Error(a(168));Si(Ni,t),Si(Ci,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ni.current,Si(Ni,e),Si(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ci),Ii(Ni),Si(Ni,e)):Ii(Ci),Si(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var qi=k.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=Ei(null),Ki=null,Wi=null,Qi=null;function $i(){Qi=Wi=Ki=null}function Yi(e){var t=Gi.current;Ii(Gi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Ki=e,Qi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===Ki)throw Error(a(308));Wi=e,Ki.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ru|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=Ju(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=Ju(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xu(),r=Ju(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zu(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Oi(t)?Ai:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Oi(t)?Ai:Ni.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ba=null,ka=0,wa=[],xa=0,_a=null,Ea=1,Ia="";function Sa(e,t){ya[ga++]=ka,ya[ga++]=ba,ba=e,ka=t}function Ta(e,t,n){wa[xa++]=Ea,wa[xa++]=Ia,wa[xa++]=_a,_a=e;var r=Ea;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ea=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else Ea=1<<a|n<<i|r,Ia=e}function Na(e){null!==e.return&&(Sa(e,1),Ta(e,1,0))}function Ca(e){for(;e===ba;)ba=ya[--ga],ya[ga]=null,ka=ya[--ga],ya[ga]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,Ea=wa[--xa],wa[xa]=null}var Aa=null,Pa=null,Oa=!1,Ra=null;function Da(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ja(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Pa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Ea,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Pa=null,!0);default:return!1}}function La(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Ma(e){if(Oa){var t=Pa;if(t){var n=t;if(!ja(e,t)){if(La(e))throw Error(a(418));t=ci(n.nextSibling);var r=Aa;t&&ja(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Oa=!1,Aa=e)}}else{if(La(e))throw Error(a(418));e.flags=-4097&e.flags|2,Oa=!1,Aa=e}}}function Fa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Ua(e){if(e!==Aa)return!1;if(!Oa)return Fa(e),Oa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(La(e)){for(e=Pa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=ci(t.nextSibling)}if(Fa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Aa?ci(e.stateNode.nextSibling):null;return!0}function Va(){Pa=Aa=null,Oa=!1}function Ba(e){null===Ra?Ra=[e]:Ra.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Ga(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ha(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=Mc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Dc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),Oa&&Sa(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Oa&&Sa(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Oa&&Sa(i,v),c}function m(i,s,u,c){var l=j(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),Oa&&Sa(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return Oa&&Sa(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Oa&&Sa(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Dc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=za(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Mc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(j(o))return m(r,a,o,u);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ka=Ga(!0),Wa=Ga(!1),Qa={},$a=Ei(Qa),Ya=Ei(Qa),Xa=Ei(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Si(Xa,t),Si(Ya,e),Si($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Si($a,t)}function eo(){Ii($a),Ii(Ya),Ii(Xa)}function to(e){Ja(Xa.current);var t=Ja($a.current),n=ue(t,e.type);t!==n&&(Si(Ya,e),Si($a,n))}function no(e){Ya.current===e&&(Ii($a),Ii(Ya))}var ro=Ei(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=k.ReactCurrentDispatcher,uo=k.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Eo(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,lo.lanes|=f,Ru|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ru|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function No(e,t){var n=lo,r=_o(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Uo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Do(9,Ao.bind(null,n,r,i,t),void 0,null),null===Su)throw Error(a(349));0!==(30&co)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Zu(e,1,-1)}function Po(e,t,n){return n((function(){Oo(t)&&Zu(e,1,-1)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ro(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return _o().memoizedState}function Lo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}lo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Fo(e,t){return Lo(8390656,8,e,t)}function Uo(e,t){return Mo(2048,8,e,t)}function Vo(e,t){return Mo(4,2,e,t)}function Bo(e,t){return Mo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,zo.bind(null,t,e),n)}function Ho(){}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),lo.lanes|=n,Ru|=n,e.baseState=!0),t)}function Qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{bt=n,uo.transition=r}}function $o(){return _o().memoizedState}function Yo(e,t,n){var r=Ju(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(es(e,t,n),null!==(e=Zu(e,r,n=Xu()))&&ts(e,t,r))}function Xo(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=Zu(e,r,n=Xu()))&&ts(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},rs={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Ro,useDebugValue:Ho,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Oa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Su)throw Error(a(349));0!==(30&co)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Su.identifierPrefix;if(Oa){var n=Ia;t=":"+t+"R"+(n=(Ea&~(1<<32-ot(Ea)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Zi,useCallback:Go,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Ko,useReducer:Io,useRef:jo,useState:function(){return Io(Eo)},useDebugValue:Ho,useDeferredValue:function(e){return Wo(_o(),fo.memoizedState,e)},useTransition:function(){return[Io(Eo)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:No,useId:$o,unstable_isNewReconciler:!1},as={readContext:Zi,useCallback:Go,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Ko,useReducer:So,useRef:jo,useState:function(){return So(Eo)},useDebugValue:Ho,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Wo(t,fo.memoizedState,e)},useTransition:function(){return[So(Eo)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:No,useId:$o,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,cs,ls,fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,zu=r),ss(0,t)},n}function ds(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ys(e,t){if(!Oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bs(e,t,n){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:case 17:return Oi(t.type)&&Ri(),gs(t),null;case 3:return r=t.stateNode,eo(),Ii(Ci),Ii(Ni),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(ac(Ra),Ra=null))),gs(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gs(t),null}if(e=Ja($a.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,us(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja($a.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gs(t),null;case 13:if(Ii(ro),r=t.memoizedState,Oa&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ua(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gs(t),null}return null!==Ra&&(ac(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ua(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Pu&&(Pu=3):pc())),null!==t.updateQueue&&(t.flags|=4),gs(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gs(t),null;case 10:return Yi(t.type._context),gs(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ys(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,ys(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Uu&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Oa)return gs(t),null}else 2*Xe()-o.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Si(ro,r?1&n|2:1&n),t):(gs(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Cu)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var ks=k.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Wa(t,null,n,r):Ka(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=ko(e,t,n,r,a,i),n=wo(),null===e||ws?(Oa&&n&&Na(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ns(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Au,Cu),Cu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Au,Cu),Cu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Au,Cu),Cu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Au,Cu),Cu|=r;return xs(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,i){var a=Oi(n)?Ai:Ni.current;return a=Pi(t,a),Ji(t,i),n=ko(e,t,n,r,a,i),r=wo(),null===e||ws?(Oa&&r&&Na(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Pi(t,c=Oi(n)?Ai:Ni.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||ta?("function"===typeof l&&(fa(t,n,l,r),u=t.memoizedState),(s=ta||da(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Hi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=Pi(t,u=Oi(n)?Ai:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&va(t,o,r,u),ta=!1,h=t.memoizedState,o.state=h,ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Za(e,t.containerInfo)}function Os(e,t,n,r,i){return Va(),Ba(i),t.flags|=256,xs(e,t,n,r),t.child}var Rs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ls(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(ro,1&o),null===e)return Ma(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=jc(o,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Rs,e):Ms(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Vs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=jc({mode:"visible",children:i.children},o,0,null),(s=Dc(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,n),t.child.memoizedState=Ds(n),t.memoizedState=Rs,s);if(0===(1&t.mode))t=Vs(e,t,n,null);else if("$!"===r.data)t=Vs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ws||i){if(null!==(i=Su)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Zu(e,i,-1))}pc(),t=Vs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=ci(r.nextSibling),Aa=t,Oa=!0,Ra=null,null!==n&&(wa[xa++]=Ea,wa[xa++]=Ia,wa[xa++]=_a,Ea=n.id,Ia=n.overflow,_a=t),(t=Ms(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ds(n):js(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i):(n=Fs(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ds(n):js(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i):(n=Fs(e,t,i.children,n),t.memoizedState=null,n)}function Ms(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){var i=e.child;return e=i.sibling,n=Oc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Us(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Oc(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Oc(o,r):(r=Dc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vs(e,t,n,r){return null!==r&&Ba(r),Ka(t,e.child,null,n),(e=Ms(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){switch(Ca(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ci),Ii(Ni),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Ks=!1,Ws=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Ys(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Xs(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xs(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function cu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ws||Ys(n,t);case 6:var r=su,i=uu;su=null,cu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,cu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Ws&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xs(n,t,o),i=i.next}while(i!==r)}cu(e,t,n);break;case 1:if(!Ws&&(Ys(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(Ws=(r=Ws)||null!==n.memoizedState,cu(e,t,n),Ws=r):cu(e,t,n);break;default:cu(e,t,n)}}function fu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));lu(o,s,i),su=null,uu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hu(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(v){_c(e,e.return,v)}try{Zs(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hu(t,e),pu(e),512&r&&null!==n&&Ys(n,n.return);break;case 5:if(hu(t,e),pu(e),512&r&&null!==n&&Ys(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hu(t,e),pu(e);break;case 13:hu(t,e),pu(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Fu=Xe()),4&r&&fu(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Ws=(f=Ws)||l,hu(t,e),Ws=f):hu(t,e),pu(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for($s=e,e=e.child;null!==e;){for(l=$s=e;null!==$s;){switch(h=(f=$s).child,f.tag){case 0:case 11:case 14:case 15:Zs(4,f,f.return);break;case 1:if(Ys(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:Ys(f,f.return);break;case 22:if(null!==f.memoizedState){gu(l);continue}}null!==h?(h.return=f,$s=h):gu(l)}e=e.sibling}}break;case 19:hu(t,e),pu(e),4&r&&fu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){$s=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ws;s=Ks;var c=Ws;if(Ks=o,(Ws=u)&&!c)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?bu(i):null!==u?(u.return=o,$s=u):bu(i);for(;null!==a;)$s=a,mu(a,t,n),a=a.sibling;$s=i,Ks=s,Ws=c}yu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):yu(e)}}function yu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ws||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ws)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Ws||512&t.flags&&tu(t)}catch(d){_c(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function gu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function bu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){_c(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_c(t,i,u)}}var a=t.return;try{tu(t)}catch(u){_c(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){_c(t,o,u)}}}catch(u){_c(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var ku,wu=Math.ceil,xu=k.ReactCurrentDispatcher,_u=k.ReactCurrentOwner,Eu=k.ReactCurrentBatchConfig,Iu=0,Su=null,Tu=null,Nu=0,Cu=0,Au=Ei(0),Pu=0,Ou=null,Ru=0,Du=0,ju=0,Lu=null,Mu=null,Fu=0,Uu=1/0,Vu=null,Bu=!1,zu=null,qu=null,Hu=!1,Gu=null,Ku=0,Wu=0,Qu=null,$u=-1,Yu=0;function Xu(){return 0!==(6&Iu)?Xe():-1!==$u?$u:$u=Xe()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Nu?Nu&-Nu:null!==qi.transition?(0===Yu&&(Yu=vt()),Yu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zu(e,t,n){if(50<Wu)throw Wu=0,Qu=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Iu)&&r===Su||(r===Su&&(0===(2&Iu)&&(Du|=t),4===Pu&&oc(r,Nu)),nc(r,n),1===t&&0===Iu&&0===(1&e.mode)&&(Uu=Xe()+500,Ui&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Su||null!==ea)&&0!==(1&e.mode)&&0===(2&Iu)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Su?Nu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===Iu&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($u=-1,Yu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Su?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Iu;Iu|=2;var o=dc();for(Su===e&&Nu===t||(Vu=null,Uu=Xe()+500,fc(e,t));;)try{yc();break}catch(u){hc(e,u)}$i(),xu.current=o,Iu=i,null!==Tu?t=0:(Su=null,Nu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ou,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ou,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Mu,Vu);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Fu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Mu,Vu),t);break}kc(e,Mu,Vu);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Mu,Vu),r);break}kc(e,Mu,Vu);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Mu,Mu=n,null!==t&&ac(t)),e}function ac(e){null===Mu?Mu=e:Mu.push.apply(Mu,e)}function oc(e,t){for(t&=~ju,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Iu))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ou,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Mu,Vu),nc(e,Xe()),null}function uc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Uu=Xe()+500,Ui&&zi())}}function cc(e){null!==Gu&&0===Gu.tag&&0===(6&Iu)&&wc();var t=Iu;Iu|=1;var n=Eu.transition,r=bt;try{if(Eu.transition=null,bt=1,e)return e()}finally{bt=r,Eu.transition=n,0===(6&(Iu=t))&&zi()}}function lc(){Cu=Au.current,Ii(Au)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(Ca(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:eo(),Ii(Ci),Ii(Ni),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Su=e,Tu=e=Oc(e.current,null),Nu=Cu=t,Pu=0,Ou=null,ju=Du=Ru=0,Mu=Lu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Tu;try{if($i(),so.current=ns,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_u.current=null,null===n||null===n.return){Pu=1,Ou=t,Tu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ps(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ps(o,l,t),pc();break e}c=Error(a(426))}else if(Oa&&1&u.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),Ba(c);break e}}o=c,4!==Pu&&(Pu=2),null===Lu?Lu=[o]:Lu.push(o),c=os(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,hs(0,c,t));break e;case 1:o=c;var g=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qu||!qu.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,ds(u,o,t));break e}}u=u.return}while(null!==u)}bc(n)}catch(k){t=k,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function dc(){var e=xu.current;return xu.current=ns,null===e?ns:e}function pc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Su||0===(268435455&Ru)&&0===(268435455&Du)||oc(Su,Nu)}function vc(e,t){var n=Iu;Iu|=2;var r=dc();for(Su===e&&Nu===t||(Vu=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if($i(),Iu=n,xu.current=r,null!==Tu)throw Error(a(261));return Su=null,Nu=0,Pu}function mc(){for(;null!==Tu;)gc(Tu)}function yc(){for(;null!==Tu&&!$e();)gc(Tu)}function gc(e){var t=ku(e.alternate,e,Cu);e.memoizedProps=e.pendingProps,null===t?bc(e):Tu=t,_u.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bs(n,t,Cu)))return void(Tu=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Pu=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Pu&&(Pu=5)}function kc(e,t,n){var r=bt,i=Eu.transition;try{Eu.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Gu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Su&&(Tu=Su=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hu||(Hu=!0,Nc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Eu.transition,Eu.transition=null;var s=bt;bt=1;var u=Iu;Iu|=4,_u.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Hi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=Js,Js=!1}(e,n),du(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Ye(),Iu=u,bt=s,Eu.transition=o}else e.current=n;if(Hu&&(Hu=!1,Gu=e,Ku=i),0===(o=e.pendingLanes)&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bu)throw Bu=!1,e=zu,zu=null,e;0!==(1&Ku)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qu?Wu++:(Wu=0,Qu=e):Wu=0,zi()}(e,t,n,r)}finally{Eu.transition=i,bt=r}return null}function wc(){if(null!==Gu){var e=kt(Ku),t=Eu.transition,n=bt;try{if(Eu.transition=null,bt=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,Ku=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:Zs(8,f,o)}var h=f.child;if(null!==h)h.return=f,$s=h;else for(;null!==$s;){var d=(f=$s).sibling,p=f.return;if(nu(f),f===l){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$s=g;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var k=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,$s=k;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(x){_c(u,u.return,x)}if(u===s){$s=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break e}$s=u.return}}if(Iu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Eu.transition=t}}return!1}function xc(e,t,n){aa(e,t=hs(0,t=os(n,t),1)),t=Xu(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){aa(t,e=ds(t,e=os(n,e),1)),e=Xu(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xu(),e.pingedLanes|=e.suspendedLanes&n,Su===e&&(Nu&n)===n&&(4===Pu||3===Pu&&(130023424&Nu)===Nu&&500>Xe()-Fu?fc(e,0):ju|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xu();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return We(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Cc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Dc(n.children,i,o,t);case E:s=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case C:return(e=Ac(13,n,t,i)).elementType=C,e.lanes=o,e;case A:return(e=Ac(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case N:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return ji(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=ia(r=Xu(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Xu(),o=Ju(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zu(i,o,a))&&oa(e,i,o),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}ku=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),Va();break;case 5:to(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Gi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Si(ro,1&ro.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,Oa&&0!==(1048576&t.flags)&&Ta(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ni.current);Ji(t,n),i=ko(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,Oa&&o&&Na(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(r),e=Hi(r,e),i){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Es(null,t,r,Hi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Os(e,t,r,n,i=Error(a(424)));break e}for(Pa=ci(t.stateNode.containerInfo.firstChild),Aa=t,Oa=!0,Ra=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Ma(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&Ma(t),null;case 13:return Ls(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(Gi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Xi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=Hi(r=t.type,t.pendingProps),Es(e,t,r,i=Hi(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Xe()),0===(6&Iu)&&(Uu=Xe()+500,zi()))}break;case 13:var r=Xu();cc((function(){return Zu(e,1,r)})),Kc(e,1)}},xt=function(e){13===e.tag&&(Zu(e,134217728,Xu()),Kc(e,134217728))},_t=function(e){if(13===e.tag){var t=Xu(),n=Ju(e);Zu(e,n,t),Kc(e,n)}},Et=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ce=cc;var el={usingClientEntryPoint:!1,Events:[bi,ki,wi,Se,Te,uc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return y(e)===c}},900:function(e,t,n){"use strict";e.exports=n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+N(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+N(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(53))&&r.__esModule?r:{default:r}},53:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,I=null,S=-1,T=5,N=-1;function C(){return!(t.unstable_now()-N<T)}function A(){if(null!==I){var e=t.unstable_now();N=e;var n=!0;try{n=I(!0,e)}finally{n?_():(E=!1,I=null)}}else E=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){y(A,0)};function R(e){I=e,E||(E=!0,_())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&a.call(b,s)&&(y=b);var k=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=m,l(k,"constructor",m),l(m,"constructor",v),v.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),l(k,c,"Generator"),l(k,s,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:function(e,t,n){var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/vpfc/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return bn},SDK_VERSION:function(){return vr},_DEFAULT_ENTRY_NAME:function(){return nr},_addComponent:function(){return or},_addOrOverwriteComponent:function(){return sr},_apps:function(){return ir},_clearComponents:function(){return fr},_components:function(){return ar},_getProvider:function(){return cr},_registerComponent:function(){return ur},_removeServiceInstance:function(){return lr},deleteApp:function(){return br},getApp:function(){return yr},getApps:function(){return gr},initializeApp:function(){return mr},onLog:function(){return xr},registerVersion:function(){return wr},setLogLevel:function(){return _r}});var t=n(791),r=n(164),i=n(248),a=n(327);var o=function(e){e()},s=function(){return o},u=t.createContext(null);function c(){return(0,t.useContext)(u)}var l=function(){throw new Error("uSES not initialized!")};function f(e){if(Array.isArray(e))return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){return f(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||d(e,t)||p()}function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||m(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var k=n(110),w=n.n(k),x=n(900),_=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function E(e,t,n,r,i){var a,o,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):v?function(){var t=e(a,o),r=!h(t,s);return s=t,r&&(c=n(s,u,o)),c}():c}return function(i,l){return d?p(i,l):(s=e(a=i,o=l),u=t(r,o),c=n(s,u,o),d=!0,c)}}function I(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=b(t,_);return E(n(e,a),r(e,a),i(e,a),e,a)}function S(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function T(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function N(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=T(i),i=r(t,n)),i},r}}function C(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function A(e){return e&&"object"===typeof e?S((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?N(e):C(e,"mapDispatchToProps"):S((function(e){return{dispatch:e}}))}function P(e){return e?"function"===typeof e?N(e):C(e,"mapStateToProps"):S((function(){return{}}))}function O(e,t,n){return g({},n,e,t)}function R(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var s=e(t,n,o);return a?i(s,r)||(r=s):(a=!0,r=s),r}}}(e):C(e,"mergeProps"):function(){return O}}var D={notify:function(){},get:function(){return[]}};function j(e,t){var n,r=D;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=D)},getListeners:function(){return r}};return o}var L=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;function M(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function F(e,t){if(M(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!M(e[n[i]],t[n[i]]))return!1;return!0}var U=["reactReduxForwardedRef"],V=l,B=[null,null];function z(e,t,n){L((function(){return e.apply(void 0,y(t))}),n)}function q(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function H(e,t,n,r,i,a,o,s,u,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&s.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,u.current=e,o.current=!0,l())}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function G(e,t){return e===t}var K=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?G:a,s=i.areOwnPropsEqual,c=void 0===s?F:s,l=i.areStatePropsEqual,f=void 0===l?F:l,h=i.areMergedPropsEqual,d=void 0===h?F:h,p=i.forwardRef,m=void 0!==p&&p,y=i.context,k=void 0===y?u:y,_=k,E=P(e),S=A(n),T=R(r),N=Boolean(e),C=function(e){var n=e.displayName||e.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:N,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:E,initMapDispatchToProps:S,initMergeProps:T,areStatesEqual:o,areStatePropsEqual:f,areOwnPropsEqual:c,areMergedPropsEqual:d};function a(n){var r=(0,t.useMemo)((function(){var e=n.reactReduxForwardedRef,t=b(n,U);return[n.context,e,t]}),[n]),a=v(r,3),o=a[0],s=a[1],u=a[2],c=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,x.isContextConsumer)(t.createElement(o.Consumer,null))?o:_}),[o,_]),l=(0,t.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),h=Boolean(l)&&Boolean(l.store);var d=f?n.store:l.store,p=h?l.getServerState:d.getState,m=(0,t.useMemo)((function(){return I(d.dispatch,i)}),[d]),y=(0,t.useMemo)((function(){if(!N)return B;var e=j(d,f?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,f,l]),k=v(y,2),w=k[0],E=k[1],S=(0,t.useMemo)((function(){return f?l:g({},l,{subscription:w})}),[f,l,w]),T=(0,t.useRef)(),C=(0,t.useRef)(u),A=(0,t.useRef)(),P=(0,t.useRef)(!1),O=((0,t.useRef)(!1),(0,t.useRef)(!1)),R=(0,t.useRef)();L((function(){return O.current=!0,function(){O.current=!1}}),[]);var D,M=(0,t.useMemo)((function(){return function(){return A.current&&u===C.current?A.current:m(d.getState(),u)}}),[d,u]),F=(0,t.useMemo)((function(){return function(e){return w?H(N,d,w,m,C,T,P,O,A,E,e):function(){}}}),[w]);z(q,[C,T,P,u,A,E]);try{D=V(F,M,p?function(){return m(p(),u)}:M)}catch(K){throw R.current&&(K.message+="\nThe error may be correlated with this previous error:\n".concat(R.current.stack,"\n\n")),K}L((function(){R.current=void 0,A.current=void 0,T.current=D}));var G=(0,t.useMemo)((function(){return t.createElement(e,g({},D,{ref:s}))}),[s,e,D]);return(0,t.useMemo)((function(){return N?t.createElement(c.Provider,{value:S},G):G}),[c,G,S])}var s=t.memo(a);if(s.WrappedComponent=e,s.displayName=a.displayName=r,m){var u=t.forwardRef((function(e,n){return t.createElement(s,g({},e,{reactReduxForwardedRef:n}))})),l=u;return l.displayName=r,l.WrappedComponent=e,w()(l,e)}return w()(s,e)};return C};var W=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=j(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);L((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var c=r||u;return t.createElement(c.Provider,{value:o},i)};function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=e===u?c:function(){return(0,t.useContext)(e)};return function(){return n().store}}var $=Q();function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=e===u?$:Q(e);return function(){return t().dispatch}}var X,J=Y();function Z(e){return Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==Z(t)&&"function"!==typeof t?ie(e):t}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){return ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ae(e,t)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e}(a.useSyncExternalStoreWithSelector),function(e){V=e}(i.useSyncExternalStore),X=r.unstable_batchedUpdates,o=X;var se,ue=function(e){function t(){var e,n;ee(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return oe(ie(n=ne(this,(e=re(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),oe(ie(n),"_unsubscribe",void 0),oe(ie(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&te(n.prototype,r),i&&te(n,i),t}(t.PureComponent);oe(ue,"defaultProps",{children:null,loading:null}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(se||(se={}));var ce=function(e){return e};var le="beforeunload",fe="popstate";function he(e){e.preventDefault(),e.returnValue=""}function de(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function pe(){return Math.random().toString(36).substr(2,8)}function ve(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function me(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var ye=(0,t.createContext)(null);var ge=(0,t.createContext)(null);var be=(0,t.createContext)({outlet:null,matches:[]});function ke(e,t){if(!e)throw new Error(t)}function we(e,t,n){void 0===n&&(n="/");var r=Ce(("string"===typeof t?me(t):t).pathname||"/",n);if(null==r)return null;var i=xe(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Se(i[o],r);return a}function xe(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||ke(!1),a.relativePath=a.relativePath.slice(r.length));var o=Ae([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&ke(!1),xe(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:Ie(o,e.index),routesMeta:s})})),t}var _e=/^:\w+$/,Ee=function(e){return"*"===e};function Ie(e,t){var n=e.split("/"),r=n.length;return n.some(Ee)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Ee(e)})).reduce((function(e,t){return e+(_e.test(t)?3:""===t?1:10)}),r)}function Se(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Te({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:Ae([i,l.pathname]),pathnameBase:Pe(Ae([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Ae([i,l.pathnameBase]))}return a}function Te(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=v(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Ne(e,t,n){var r,i="string"===typeof e?me(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?me(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Oe(a),hash:Re(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function Ce(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Ae=function(e){return e.join("/").replace(/\/\/+/g,"/")},Pe=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Oe=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Re=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function De(e){je()||ke(!1);var n=(0,t.useContext)(ye),r=n.basename,i=n.navigator,a=Ue(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?me(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):Ae([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function je(){return null!=(0,t.useContext)(ge)}function Le(){return je()||ke(!1),(0,t.useContext)(ge).location}function Me(){je()||ke(!1);var e=(0,t.useContext)(ye),n=e.basename,r=e.navigator,i=(0,t.useContext)(be).matches,a=Le().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=Ne(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Ae([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function Fe(){var e=(0,t.useContext)(be).matches,n=e[e.length-1];return n?n.params:{}}function Ue(e){var n=(0,t.useContext)(be).matches,r=Le().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return Ne(e,JSON.parse(i),r)}),[e,i,r])}function Ve(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(be.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function Be(e){ke(!1)}function ze(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?se.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;je()&&ke(!1);var h=Pe(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=me(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,x=void 0===w?null:w,_=p.key,E=void 0===_?"default":_,I=(0,t.useMemo)((function(){var e=Ce(m,h);return null==e?null:{pathname:e,search:g,hash:k,state:x,key:E}}),[h,m,g,k,x,E]);return null==I?null:(0,t.createElement)(ye.Provider,{value:d},(0,t.createElement)(ge.Provider,{children:a,value:{location:I,navigationType:u}}))}function qe(e){var n=e.children,r=e.location;return function(e,n){je()||ke(!1);var r,i=(0,t.useContext)(be).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,Le());if(n){var c,l="string"===typeof n?me(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||ke(!1),r=l}else r=u;var f=r.pathname||"/",h=we(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return Ve(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Ae([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Ae([s,e.pathnameBase])})})),i)}(He(n),r)}function He(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==Be&&ke(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=He(e.props.children)),n.push(r)}else n.push.apply(n,He(e.props.children))})),n}function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var We=["onClick","reloadDocument","replace","state","target","to"];function Qe(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,ce({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(fe,(function(){if(a)f.call(a),a=null;else{var e=se.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=u-n;o&&(a={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else m(e)}}));var o=se.Pop,s=i(),u=s[0],c=s[1],l=de(),f=de();function h(e){return"string"===typeof e?e:ve(e)}function d(e,t){return void 0===t&&(t=null),ce(g({pathname:c.pathname,hash:"",search:""},"string"===typeof e?me(e):e,{state:t,key:pe()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){o=e;var t=i();u=t[0],c=t[1],l.call({action:o,location:c})}function y(e){r.go(e)}null==u&&(u=0,r.replaceState(g({},r.state,{idx:u}),""));var b={get action(){return o},get location(){return c},createHref:h,push:function e(t,i){var a=se.Push,o=d(t,i);if(v(a,o,(function(){e(t,i)}))){var s=p(o,u+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}m(a)}},replace:function e(t,n){var i=se.Replace,a=d(t,n);if(v(i,a,(function(){e(t,n)}))){var o=p(a,u),s=o[0],c=o[1];r.replaceState(s,"",c),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(le,he),function(){t(),f.length||n.removeEventListener(le,he)}}};return b}({window:i}));var o=a.current,s=v((0,t.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(ze,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var $e=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Ke(e,We),f=De(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=Me(),u=Le(),c=Ue(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||ve(u)===ve(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",Ge({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function Ye(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ye(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Xe(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ye(e))&&(r&&(r+=" "),r+=t);return r}function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function et(e){return"number"===typeof e&&!isNaN(e)}function tt(e){return"boolean"===typeof e}function nt(e){return"string"===typeof e}function rt(e){return"function"===typeof e}function it(e){return nt(e)||rt(e)?e:null}function at(e){return 0===e||e}var ot=!("undefined"===typeof window||!window.document||!window.document.createElement);function st(e){return(0,t.isValidElement)(e)||nt(e)||rt(e)||et(e)}var ut={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ct={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function lt(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,o=e.position,u=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=a?n+"--"+o:n,p=a?r+"--"+o:r,v=(0,t.useRef)(),m=(0,t.useRef)(0);function y(e){if(e.target===f.current){var t=f.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",y),t.removeEventListener("animationcancel",y),0===m.current&&(t.className=v.current)}}function g(){var e=f.current;e.removeEventListener("animationend",g),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()}return(0,t.useLayoutEffect)((function(){!function(){var e=f.current;v.current=e.className,e.className+=" "+d,e.addEventListener("animationend",y),e.addEventListener("animationcancel",y)}()}),[]),(0,t.useEffect)((function(){h||(u?g():function(){m.current=1;var e=f.current;e.className+=" "+p,e.addEventListener("animationend",g)}())}),[h]),t.createElement(t.Fragment,null,i)}}var ft={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}},ht=["delay","staleId"];function dt(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=n[1],i=(0,t.useState)([]),a=i[0],o=i[1],s=(0,t.useRef)(null),u=(0,t.useRef)(new Map).current,c=function(e){return-1!==a.indexOf(e)},l=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return u.get(e)}}).current;function f(e){var t=e.containerId;!l.props.limit||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function h(e){o((function(t){return at(e)?t.filter((function(t){return t!==e})):[]}))}function d(){var e=l.queue.shift();v(e.toastContent,e.toastProps,e.staleId)}function p(e,n){var i=n.delay,a=n.staleId,o=Ze(n,ht);if(st(e)&&!function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var c=o.toastId,f=o.updateId,p=o.data,m=l.props,y=function(){return h(c)},g=null==f;g&&l.count++;var b,k,w={toastId:c,updateId:f,isLoading:o.isLoading,theme:o.theme||m.theme,icon:null!=o.icon?o.icon:m.icon,isIn:!1,key:o.key||l.toastKey++,type:o.type,closeToast:y,closeButton:o.closeButton,rtl:m.rtl,position:o.position||m.position,transition:o.transition||m.transition,className:it(o.className||m.toastClassName),bodyClassName:it(o.bodyClassName||m.bodyClassName),style:o.style||m.toastStyle,bodyStyle:o.bodyStyle||m.bodyStyle,onClick:o.onClick||m.onClick,pauseOnHover:tt(o.pauseOnHover)?o.pauseOnHover:m.pauseOnHover,pauseOnFocusLoss:tt(o.pauseOnFocusLoss)?o.pauseOnFocusLoss:m.pauseOnFocusLoss,draggable:tt(o.draggable)?o.draggable:m.draggable,draggablePercent:o.draggablePercent||m.draggablePercent,draggableDirection:o.draggableDirection||m.draggableDirection,closeOnClick:tt(o.closeOnClick)?o.closeOnClick:m.closeOnClick,progressClassName:it(o.progressClassName||m.progressClassName),progressStyle:o.progressStyle||m.progressStyle,autoClose:!o.isLoading&&(b=o.autoClose,k=m.autoClose,!1===b||et(b)&&b>0?b:k),hideProgressBar:tt(o.hideProgressBar)?o.hideProgressBar:m.hideProgressBar,progress:o.progress,role:o.role||m.role,deleteToast:function(){u.delete(c);var e=l.queue.length;if(l.count=at(c)?l.count-1:l.count-l.displayedToast,l.count<0&&(l.count=0),e>0){var t=at(c)?1:l.props.limit;if(1===e||1===t)l.displayedToast++,d();else{var n=t>e?e:t;l.displayedToast=n;for(var i=0;i<n;i++)d()}}else r()}};rt(o.onOpen)&&(w.onOpen=o.onOpen),rt(o.onClose)&&(w.onClose=o.onClose),w.closeButton=m.closeButton,!1===o.closeButton||st(o.closeButton)?w.closeButton=o.closeButton:!0===o.closeButton&&(w.closeButton=!st(m.closeButton)||m.closeButton);var x=e;(0,t.isValidElement)(e)&&!nt(e.type)?x=(0,t.cloneElement)(e,{closeToast:y,toastProps:w,data:p}):rt(e)&&(x=e({closeToast:y,toastProps:w,data:p})),m.limit&&m.limit>0&&l.count>m.limit&&g?l.queue.push({toastContent:x,toastProps:w,staleId:a}):et(i)&&i>0?setTimeout((function(){v(x,w,a)}),i):v(x,w,a)}}function v(e,t,n){var r=t.toastId;n&&u.delete(n),u.set(r,{content:e,props:t}),o((function(e){return[].concat(e,[r]).filter((function(e){return e!==n}))}))}return(0,t.useEffect)((function(){return l.containerId=e.containerId,ft.cancelEmit(3).on(0,p).on(1,(function(e){return s.current&&h(e)})).on(5,f).emit(2,l),function(){return ft.emit(3,l)}}),[]),(0,t.useEffect)((function(){l.isToastActive=c,l.displayedToast=a.length,ft.emit(4,a.length,e.containerId)}),[a]),(0,t.useEffect)((function(){l.props=e})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:c}}function pt(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function vt(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function mt(e){var n=(0,t.useState)(!1),r=n[0],i=n[1],a=(0,t.useState)(!1),o=a[0],s=a[1],u=(0,t.useRef)(null),c=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,t.useRef)(e),f=e.autoClose,h=e.pauseOnHover,d=e.closeToast,p=e.onClick,v=e.closeOnClick;function m(t){if(e.draggable){c.didMove=!1,document.addEventListener("mousemove",k),document.addEventListener("mouseup",w),document.addEventListener("touchmove",k),document.addEventListener("touchend",w);var n=u.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=pt(t.nativeEvent),c.y=vt(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,a=t.right;e.pauseOnHover&&c.x>=i&&c.x<=a&&c.y>=n&&c.y<=r?b():g()}}function g(){i(!0)}function b(){i(!1)}function k(t){var n=u.current;c.canDrag&&n&&(c.didMove=!0,r&&b(),c.x=pt(t),c.y=vt(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function w(){document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",w);var t=u.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){l.current=e})),(0,t.useEffect)((function(){return u.current&&u.current.addEventListener("d",g,{once:!0}),rt(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=l.current;rt(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",g),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var x={onMouseDown:m,onTouchStart:m,onMouseUp:y,onTouchEnd:y};return f&&h&&(x.onMouseEnter=b,x.onMouseLeave=g),v&&(x.onClick=function(e){p&&p(e),c.canCloseOnClick&&d()}),{playToast:g,pauseToast:b,isRunning:r,preventExitTransition:o,toastRef:u,eventHandlers:x}}function yt(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return(0,t.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},(0,t.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt(e){var n,r,i=e.delay,a=e.isRunning,o=e.closeToast,s=e.type,u=e.hide,c=e.className,l=e.style,f=e.controlledProgress,h=e.progress,d=e.rtl,p=e.isIn,v=e.theme,m=Je({},l,{animationDuration:i+"ms",animationPlayState:a?"running":"paused",opacity:u?0:1});f&&(m.transform="scaleX("+h+")");var y=Xe("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+v,"Toastify__progress-bar--"+s,((n={})["Toastify__progress-bar--rtl"]=d,n)),g=rt(c)?c({rtl:d,type:s,defaultClassName:y}):Xe(y,c),b=((r={})[f&&h>=1?"onTransitionEnd":"onAnimationEnd"]=f&&h<1?null:function(){p&&o()},r);return(0,t.createElement)("div",Object.assign({role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:g,style:m},b))}gt.defaultProps={type:ct.DEFAULT,hide:!1};var bt=["theme","type"],kt=function(e){var n=e.theme,r=e.type,i=Ze(e,bt);return(0,t.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var wt={info:function(e){return(0,t.createElement)(kt,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,t.createElement)(kt,Object.assign({},e),(0,t.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,t.createElement)(kt,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,t.createElement)(kt,Object.assign({},e),(0,t.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,t.createElement)("div",{className:"Toastify__spinner"})}},xt=function(e){var n,r,i=mt(e),a=i.isRunning,o=i.preventExitTransition,s=i.toastRef,u=i.eventHandlers,c=e.closeButton,l=e.children,f=e.autoClose,h=e.onClick,d=e.type,p=e.hideProgressBar,v=e.closeToast,m=e.transition,y=e.position,g=e.className,b=e.style,k=e.bodyClassName,w=e.bodyStyle,x=e.progressClassName,_=e.progressStyle,E=e.updateId,I=e.role,S=e.progress,T=e.rtl,N=e.toastId,C=e.deleteToast,A=e.isIn,P=e.isLoading,O=e.icon,R=e.theme,D=Xe("Toastify__toast","Toastify__toast-theme--"+R,"Toastify__toast--"+d,((n={})["Toastify__toast--rtl"]=T,n)),j=rt(g)?g({rtl:T,position:y,type:d,defaultClassName:D}):Xe(D,g),L=!!S,M=wt[d],F={theme:R,type:d},U=M&&M(F);return!1===O?U=void 0:rt(O)?U=O(F):(0,t.isValidElement)(O)?U=(0,t.cloneElement)(O,F):nt(O)?U=O:P&&(U=wt.spinner()),(0,t.createElement)(m,{isIn:A,done:C,position:y,preventExitTransition:o,nodeRef:s},(0,t.createElement)("div",Object.assign({id:N,onClick:h,className:j},u,{style:b,ref:s}),(0,t.createElement)("div",Object.assign({},A&&{role:I},{className:rt(k)?k({type:d}):Xe("Toastify__toast-body",k),style:w}),U&&(0,t.createElement)("div",{className:Xe("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!P,r))},U),(0,t.createElement)("div",null,l)),function(e){if(e){var n={closeToast:v,type:d,theme:R};return rt(e)?e(n):(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):void 0}}(c),(f||L)&&(0,t.createElement)(gt,Object.assign({},E&&!L?{key:"pb-"+E}:{},{rtl:T,theme:R,delay:f,isRunning:a,isIn:A,closeToast:v,hide:p,type:d,style:_,className:x,controlledProgress:L,progress:S}))))},_t=lt({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),Et=function(e){var n=dt(e),r=n.getToastToRender,i=n.containerRef,a=n.isToastActive,o=e.className,s=e.style,u=e.rtl,c=e.containerId;function l(e){var t,n=Xe("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=u,t));return rt(o)?o({position:e,rtl:u,defaultClassName:n}):Xe(n,it(o))}return(0,t.createElement)("div",{ref:i,className:"Toastify",id:c},r((function(e,n){var r=n.length?Je({},s):Je({},s,{pointerEvents:"none"});return(0,t.createElement)("div",{className:l(e),style:r,key:"container-"+e},n.map((function(e){var n=e.content,r=e.props;return(0,t.createElement)(xt,Object.assign({},r,{isIn:a(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?yt:r.closeButton}),n)})))})))};Et.defaultProps={position:ut.TOP_RIGHT,transition:_t,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:yt,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var It,St,Tt,Nt=new Map,Ct=[],At=!1;function Pt(){return Math.random().toString(36).substring(2,9)}function Ot(e){return e&&(nt(e.toastId)||et(e.toastId))?e.toastId:Pt()}function Rt(e,n){return Nt.size>0?ft.emit(0,e,n):(Ct.push({content:e,options:n}),At&&ot&&(At=!1,St=document.createElement("div"),document.body.appendChild(St),(0,r.render)((0,t.createElement)(Et,Object.assign({},Tt)),St))),n.toastId}function Dt(e,t){return Je({},t,{type:t&&t.type||e,toastId:Ot(t)})}function jt(e){return function(t,n){return Rt(t,Dt(e,n))}}function Lt(e,t){return Rt(e,Dt(ct.DEFAULT,t))}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}function Ft(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mt(e)););return e}function Ut(){return Ut="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ft(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ut.apply(this,arguments)}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bt(e,t)}function zt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bt(e,t)}function qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Gt(e,t){if(t&&("object"===Ht(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function Kt(e){var t=qt();return function(){var n,r=Mt(e);if(t){var i=Mt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gt(this,n)}}function Wt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Qt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function $t(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Qt(a,r,i,o,s,"next",e)}function s(e){Qt(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t,n){return t&&Xt(e.prototype,t),n&&Xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lt.loading=function(e,t){return Rt(e,Dt(ct.DEFAULT,Je({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Lt.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=nt(i)?Lt.loading(i,n):Lt.loading(i.render,Je({},n,i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=function(e,t,i){if(null!=t){var a=Je({type:e},s,n,{data:i}),o=nt(t)?{render:t}:t;return r?Lt.update(r,Je({},a,o)):Lt(o.render,Je({},a,o)),i}Lt.dismiss(r)},c=rt(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},Lt.success=jt(ct.SUCCESS),Lt.info=jt(ct.INFO),Lt.error=jt(ct.ERROR),Lt.warning=jt(ct.WARNING),Lt.warn=Lt.warning,Lt.dark=function(e,t){return Rt(e,Dt(ct.DEFAULT,Je({theme:"dark"},t)))},Lt.dismiss=function(e){return ft.emit(1,e)},Lt.clearWaitingQueue=function(e){return void 0===e&&(e={}),ft.emit(5,e)},Lt.isActive=function(e){var t=!1;return Nt.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Lt.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Nt.get(n||It);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,a=Je({},r,t,{toastId:t.toastId||e,updateId:Pt()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,Rt(o,a)}}),0)},Lt.done=function(e){Lt.update(e,{progress:1})},Lt.onChange=function(e){return rt(e)&&ft.on(4,e),function(){rt(e)&&ft.off(4,e)}},Lt.configure=function(e){void 0===e&&(e={}),At=!0,Tt=e},Lt.POSITION=ut,Lt.TYPE=ct,ft.on(2,(function(e){It=e.containerId||e,Nt.set(It,e),Ct.forEach((function(e){ft.emit(0,e.content,e.options)})),Ct=[]})).on(3,(function(e){Nt.delete(e.containerId||e),0===Nt.size&&ft.off(0).off(1).off(5),ot&&St&&document.body.removeChild(St)}));var en=n(687),tn=n.n(en);function nn(e,t,n){return nn=qt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Bt(i,n.prototype),i},nn.apply(null,arguments)}function rn(e){var t="function"===typeof Map?new Map:void 0;return rn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return nn(e,arguments,Mt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Bt(n,e)},rn(e)}var an=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},on={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(an(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},sn=function(e){return function(e){var t=an(e);return on.encodeByteArray(t,!0)}(e).replace(/\./g,"")},un=function(e){try{return on.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=cn(e[n],t[n]));return e}var ln=function(){function e(){var t=this;Yt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Jt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function fn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[sn(JSON.stringify({alg:"none",type:"JWT"})),sn(JSON.stringify(a)),""].join(".")}function hn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function dn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function pn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function vn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function mn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function yn(){var e=hn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gn(){return"object"===typeof indexedDB}var bn=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Vt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Vt(a),kn.prototype.create),a}return Jt(n)}(rn(Error)),kn=function(){function e(t,n,r){Yt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Jt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?wn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new bn(n,a,t);return o}}]),e}();function wn(e,t){return e.replace(xn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var xn=/\{\$([^}]+)}/g;function _n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function En(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(In(s)&&In(u)){if(!En(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function In(e){return null!==e&&"object"===typeof e}function Sn(e){for(var t=[],n=function(){var e=v(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Tn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=v(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Nn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Cn(e,t){var n=new An(e,t);return n.subscribe.bind(n)}var An=function(){function e(t,n){var r=this;Yt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Jt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Wt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Pn),void 0===r.error&&(r.error=Pn),void 0===r.complete&&(r.complete=Pn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Pn(){}function On(e){return e&&e._delegate?e._delegate:e}function Rn(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Dn=function(){function e(t){Yt(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Jt(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new jn(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Ln(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),jn=function(){function e(t){var n=this;Yt(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Jt(e,[{key:"objectStore",value:function(e){return new Ln(this._transaction.objectStore(e))}}]),e}(),Ln=function(){function e(t){Yt(this,e),this._store=t}return Jt(e,[{key:"index",value:function(e){return new Mn(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Mn(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Rn(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Rn(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Rn(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Rn(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Mn=function(){function e(t){Yt(this,e),this._index=t}return Jt(e,[{key:"get",value:function(e){return Rn(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var Fn=function(){function e(t,n,r){Yt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Jt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Un="[DEFAULT]",Vn=function(){function e(t,n){Yt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Jt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ln;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Un})}catch(u){}var t,n=Wt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=$t(en.mark((function e(){var t;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(y(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),y(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Wt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=v(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(TE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Un?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(TE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un;return this.component?this.component.multipleInstances?e:Un:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Bn,zn,qn=function(){function e(t){Yt(this,e),this.name=t,this.providers=new Map}return Jt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Vn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Hn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zn||(zn={}));var Gn,Kn,Wn={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},Qn=zn.INFO,$n=(Zt(Bn={},zn.DEBUG,"log"),Zt(Bn,zn.VERBOSE,"log"),Zt(Bn,zn.INFO,"info"),Zt(Bn,zn.WARN,"warn"),Zt(Bn,zn.ERROR,"error"),Bn),Yn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$n[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Xn=function(){function e(t){Yt(this,e),this.name=t,this._logLevel=Qn,this._logHandler=Yn,this._userLogHandler=null,Hn.push(this)}return Jt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Wn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.DEBUG].concat(t)),this._logHandler.apply(this,[this,zn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.INFO].concat(t)),this._logHandler.apply(this,[this,zn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.WARN].concat(t)),this._logHandler.apply(this,[this,zn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.ERROR].concat(t)),this._logHandler.apply(this,[this,zn.ERROR].concat(t))}}]),e}();var Jn=function(){function e(t){Yt(this,e),this.container=t}return Jt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Zn="@firebase/app",er="0.7.22",tr=new Xn("@firebase/app"),nr="[DEFAULT]",rr=(Zt(Gn={},Zn,"fire-core"),Zt(Gn,"@firebase/app-compat","fire-core-compat"),Zt(Gn,"@firebase/analytics","fire-analytics"),Zt(Gn,"@firebase/analytics-compat","fire-analytics-compat"),Zt(Gn,"@firebase/app-check","fire-app-check"),Zt(Gn,"@firebase/app-check-compat","fire-app-check-compat"),Zt(Gn,"@firebase/auth","fire-auth"),Zt(Gn,"@firebase/auth-compat","fire-auth-compat"),Zt(Gn,"@firebase/database","fire-rtdb"),Zt(Gn,"@firebase/database-compat","fire-rtdb-compat"),Zt(Gn,"@firebase/functions","fire-fn"),Zt(Gn,"@firebase/functions-compat","fire-fn-compat"),Zt(Gn,"@firebase/installations","fire-iid"),Zt(Gn,"@firebase/installations-compat","fire-iid-compat"),Zt(Gn,"@firebase/messaging","fire-fcm"),Zt(Gn,"@firebase/messaging-compat","fire-fcm-compat"),Zt(Gn,"@firebase/performance","fire-perf"),Zt(Gn,"@firebase/performance-compat","fire-perf-compat"),Zt(Gn,"@firebase/remote-config","fire-rc"),Zt(Gn,"@firebase/remote-config-compat","fire-rc-compat"),Zt(Gn,"@firebase/storage","fire-gcs"),Zt(Gn,"@firebase/storage-compat","fire-gcs-compat"),Zt(Gn,"@firebase/firestore","fire-fst"),Zt(Gn,"@firebase/firestore-compat","fire-fst-compat"),Zt(Gn,"fire-js","fire-js"),Zt(Gn,"firebase","fire-js-all"),Gn),ir=new Map,ar=new Map;function or(e,t){try{e.container.addComponent(t)}catch(n){tr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function sr(e,t){e.container.addOrOverwriteComponent(t)}function ur(e){var t=e.name;if(ar.has(t))return tr.debug("There were multiple attempts to register component ".concat(t,".")),!1;ar.set(t,e);var n,r=Wt(ir.values());try{for(r.s();!(n=r.n()).done;){or(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function cr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nr;cr(e,t).clearInstance(n)}function fr(){ar.clear()}var hr=(Zt(Kn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Zt(Kn,"bad-app-name","Illegal App name: '{$appName}"),Zt(Kn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Zt(Kn,"app-deleted","Firebase App named '{$appName}' already deleted"),Zt(Kn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Zt(Kn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Zt(Kn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Zt(Kn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Zt(Kn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Zt(Kn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Kn),dr=new kn("app","Firebase",hr),pr=function(){function e(t,n,r){var i=this;Yt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",(function(){return i}),"PUBLIC"))}return Jt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}]),e}(),vr="9.7.0";function mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:nr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw dr.create("bad-app-name",{appName:String(i)});var a=ir.get(i);if(a){if(En(e,a.options)&&En(r,a.config))return a;throw dr.create("duplicate-app",{appName:i})}var o,s=new qn(i),u=Wt(ar.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new pr(e,r,s);return ir.set(i,l),l}function yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr,t=ir.get(e);if(!t)throw dr.create("no-app",{appName:e});return t}function gr(){return Array.from(ir.values())}function br(e){return kr.apply(this,arguments)}function kr(){return(kr=$t(en.mark((function e(t){var n;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ir.has(n)){e.next=6;break}return ir.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(e,t,n){var r,i=null!==(r=rr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void tr.warn(s.join(" "))}ur(new Fn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function xr(e,t){if(null!==e&&"function"!==typeof e)throw dr.create("invalid-log-argument");!function(e,t){var n,r=Wt(Hn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Wn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:zn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function _r(e){var t;t=e,Hn.forEach((function(e){e.setLogLevel(t)}))}var Er="firebase-heartbeat-store",Ir=null;function Sr(){var e,t,n;return Ir||(Ir=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Er)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Dn(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Dn(a.result),e.oldVersion,e.newVersion,new jn(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw dr.create("storage-open",{originalErrorMessage:e.message})}))),Ir}function Tr(e){return Nr.apply(this,arguments)}function Nr(){return Nr=$t(en.mark((function e(t){var n;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sr();case 3:return n=e.sent,e.abrupt("return",n.transaction(Er).objectStore(Er).get(Pr(t)));case 7:throw e.prev=7,e.t0=e.catch(0),dr.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Nr.apply(this,arguments)}function Cr(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=$t(en.mark((function e(t,n){var r,i,a;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sr();case 3:return r=e.sent,i=r.transaction(Er,"readwrite"),a=i.objectStore(Er),e.next=8,a.put(n,Pr(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),dr.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ar.apply(this,arguments)}function Pr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Or=function(){function e(t){var n=this;Yt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Lr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Jt(e,[{key:"triggerHeartbeat",value:function(){var e=$t(en.mark((function e(){var t,n,r;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Rr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=$t(en.mark((function e(){var t,n,r,i,a;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Rr(),n=Dr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=sn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rr(){return(new Date).toISOString().substring(0,10)}function Dr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Wt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Mr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Mr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var jr,Lr=function(){function e(t){Yt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Jt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=$t(en.mark((function e(){return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=$t(en.mark((function e(){var t;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Tr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=$t(en.mark((function e(t){var n,r;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Cr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=$t(en.mark((function e(t){var n,r;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Cr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(y(r.heartbeats),y(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Mr(e){return sn(JSON.stringify({version:2,heartbeats:e})).length}jr="",ur(new Fn("platform-logger",(function(e){return new Jn(e)}),"PRIVATE")),ur(new Fn("heartbeat",(function(e){return new Or(e)}),"PRIVATE")),wr(Zn,er,jr),wr(Zn,er,"esm2017"),wr("fire-js","");function Fr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ur;Object.create;var Vr="facebook.com",Br="github.com",zr="google.com",qr="password",Hr="twitter.com",Gr="EMAIL_SIGNIN",Kr="PASSWORD_RESET",Wr="RECOVER_EMAIL",Qr="REVERT_SECOND_FACTOR_ADDITION",$r="VERIFY_AND_CHANGE_EMAIL",Yr="VERIFY_EMAIL";function Xr(){return Zt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Jr=function(){var e;return Zt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Zt(e,"argument-error",""),Zt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Zt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Zt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Zt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Zt(e,"cordova-not-ready","Cordova framework is not ready."),Zt(e,"cors-unsupported","This browser is not supported."),Zt(e,"credential-already-in-use","This credential is already associated with a different user account."),Zt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Zt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Zt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Zt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Zt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Zt(e,"email-already-in-use","The email address is already in use by another account."),Zt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Zt(e,"expired-action-code","The action code has expired."),Zt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Zt(e,"internal-error","An internal AuthError has occurred."),Zt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Zt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Zt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Zt(e,"invalid-auth-event","An internal AuthError has occurred."),Zt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Zt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Zt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Zt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Zt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Zt(e,"invalid-email","The email address is badly formatted."),Zt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Zt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Zt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Zt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Zt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Zt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Zt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Zt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Zt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Zt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Zt(e,"wrong-password","The password is invalid or the user does not have a password."),Zt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Zt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Zt(e,"invalid-provider-id","The specified provider ID is invalid."),Zt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Zt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Zt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Zt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Zt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Zt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Zt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Zt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Zt(e,"missing-continue-uri","A continue URL must be provided in the request."),Zt(e,"missing-iframe-start","An internal AuthError has occurred."),Zt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Zt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Zt(e,"missing-multi-factor-info","No second factor identifier is provided."),Zt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Zt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Zt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Zt(e,"app-deleted","This instance of FirebaseApp has been deleted."),Zt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Zt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Zt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Zt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Zt(e,"no-auth-event","An internal AuthError has occurred."),Zt(e,"no-such-provider","User was not linked to an account with the given provider."),Zt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Zt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Zt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Zt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Zt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Zt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Zt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Zt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Zt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Zt(e,"rejected-credential","The request contains malformed or mismatching credentials."),Zt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Zt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Zt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Zt(e,"timeout","The operation has timed out."),Zt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Zt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Zt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Zt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Zt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Zt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Zt(e,"unverified-email","The operation requires a verified email."),Zt(e,"user-cancelled","The user did not grant your application the permissions it requested."),Zt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Zt(e,"user-disabled","The user account has been disabled by an administrator."),Zt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Zt(e,"user-signed-out",""),Zt(e,"weak-password","The password must be 6 characters long or more."),Zt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Zt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Zr=Xr,ei=new kn("auth","Firebase",Xr()),ti=new Xn("@firebase/auth");function ni(e){if(ti.logLevel<=zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ti.error.apply(ti,["Auth (".concat(vr,"): ").concat(e)].concat(n))}}function ri(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw si.apply(void 0,[e].concat(n))}function ii(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return si.apply(void 0,[e].concat(n))}function ai(e,t,n){var r=Object.assign(Object.assign({},Zr()),Zt({},t,n));return new kn("auth","Firebase",r).create(t,{appName:e.name})}function oi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ri(e,"argument-error"),ai(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function si(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=y(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(y(o)))}return ei.create.apply(ei,[e].concat(n))}function ui(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw si.apply(void 0,[t].concat(r))}}function ci(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ni(t),new Error(t)}function li(e,t){e||ci(t)}var fi=new Map;function hi(e){li(e instanceof Function,"Expected a class definition");var t=fi.get(e);return t?(li(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fi.set(e,t),t)}function di(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function pi(){return"http:"===vi()||"https:"===vi()}function vi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var mi=function(){function e(t,n){Yt(this,e),this.shortDelay=t,this.longDelay=n,li(n>t,"Short delay should be less than long delay!"),this.isMobile=dn()||mn()}return Jt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(pi()||vn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function yi(e,t){li(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var gi=function(){function e(){Yt(this,e)}return Jt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),bi=(Zt(Ur={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Zt(Ur,"MISSING_CUSTOM_TOKEN","internal-error"),Zt(Ur,"INVALID_IDENTIFIER","invalid-email"),Zt(Ur,"MISSING_CONTINUE_URI","internal-error"),Zt(Ur,"INVALID_PASSWORD","wrong-password"),Zt(Ur,"MISSING_PASSWORD","internal-error"),Zt(Ur,"EMAIL_EXISTS","email-already-in-use"),Zt(Ur,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Zt(Ur,"INVALID_IDP_RESPONSE","invalid-credential"),Zt(Ur,"INVALID_PENDING_TOKEN","invalid-credential"),Zt(Ur,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Zt(Ur,"MISSING_REQ_TYPE","internal-error"),Zt(Ur,"EMAIL_NOT_FOUND","user-not-found"),Zt(Ur,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Zt(Ur,"EXPIRED_OOB_CODE","expired-action-code"),Zt(Ur,"INVALID_OOB_CODE","invalid-action-code"),Zt(Ur,"MISSING_OOB_CODE","internal-error"),Zt(Ur,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Zt(Ur,"INVALID_ID_TOKEN","invalid-user-token"),Zt(Ur,"TOKEN_EXPIRED","user-token-expired"),Zt(Ur,"USER_NOT_FOUND","user-token-expired"),Zt(Ur,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Zt(Ur,"INVALID_CODE","invalid-verification-code"),Zt(Ur,"INVALID_SESSION_INFO","invalid-verification-id"),Zt(Ur,"INVALID_TEMPORARY_PROOF","invalid-credential"),Zt(Ur,"MISSING_SESSION_INFO","missing-verification-id"),Zt(Ur,"SESSION_EXPIRED","code-expired"),Zt(Ur,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Zt(Ur,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Zt(Ur,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Zt(Ur,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Zt(Ur,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Zt(Ur,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Zt(Ur,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Zt(Ur,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Zt(Ur,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Zt(Ur,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Zt(Ur,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ur),ki=new mi(3e4,6e4);function wi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function xi(e,t,n,r){return _i.apply(this,arguments)}function _i(){return _i=$t(tn().mark((function e(t,n,r,i){var a,o=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ei(t,a,$t(tn().mark((function e(){var a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Sn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",gi.fetch()(Ni(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function Ei(e,t,n){return Ii.apply(this,arguments)}function Ii(){return Ii=$t(tn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},bi),n),e.prev=2,a=new Ci(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ai(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=v(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Ai(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Ai(t,"email-already-in-use",s);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw ai(t,d,h);case 30:ri(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof bn)){e.next=37;break}throw e.t0;case 37:ri(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Ii.apply(this,arguments)}function Si(e,t,n,r){return Ti.apply(this,arguments)}function Ti(){return Ti=$t(tn().mark((function e(t,n,r,i){var a,o,s=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,xi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ri(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ni(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?yi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ci=function(){function e(t){var n=this;Yt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ii(n.auth,"network-request-failed"))}),ki.get())}))}return Jt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ai(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ii(e,t,r);return i.customData._tokenResponse=n,i}function Pi(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Ri(e,t){return Di.apply(this,arguments)}function Di(){return Di=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function ji(e,t){return Li.apply(this,arguments)}function Li(){return Li=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Mi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Fi(){return Fi=$t(tn().mark((function e(t){var n,r,i,a,o,s,u=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=On(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ui((a=Vi(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Mi(Ui(a.auth_time)),issuedAtTime:Mi(Ui(a.iat)),expirationTime:Mi(Ui(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}function Ui(e){return 1e3*Number(e)}function Vi(e){var t=v(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ni("JWT malformed, contained fewer than 3 sections"),null;try{var a=un(r);return a?JSON.parse(a):(ni("Failed to decode base64 JWT payload"),null)}catch(o){return ni("Caught error parsing JWT payload as JSON",o),null}}function Bi(e,t){return zi.apply(this,arguments)}function zi(){return zi=$t(tn().mark((function e(t,n){var r=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof bn&&qi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),zi.apply(this,arguments)}function qi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Hi=function(){function e(t){Yt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Jt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout($t(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Gi=function(){function e(t,n){Yt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Jt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Mi(this.lastLoginAt),this.creationTime=Mi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ki(e){return Wi.apply(this,arguments)}function Wi(){return Wi=$t(tn().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Bi(t,ji(r,{idToken:i}));case 6:ui(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Yi(o.providerUserInfo):[],u=$i(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}function Qi(){return(Qi=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=On(t),e.next=3,Ki(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(y(n),y(t))}function Yi(e){return e.map((function(e){var t=e.providerId,n=Fr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Xi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(t,{},$t(tn().mark((function e(){var r,i,a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Ni(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",gi.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}var Zi=function(){function e(){Yt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Jt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ui(e.idToken,"internal-error"),ui("undefined"!==typeof e.idToken,"internal-error"),ui("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Vi(e);return ui(t,"internal-error"),ui("undefined"!==typeof t.exp,"internal-error"),ui("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=$t(tn().mark((function e(t){var n,r=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ui(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=$t(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ci("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ui("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ui("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ui("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ea(e,t){ui("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ta=function(){function e(t){Yt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Fr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?y(a.providerData):[],this.metadata=new Gi(a.createdAt||void 0,a.lastLoginAt||void 0)}return Jt(e,[{key:"getIdToken",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ui(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Fi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Qi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ui(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ui(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=$t(tn().mark((function e(t){var n,r,i=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ki(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Bi(this,Pi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ui(b&&_,t,"internal-error");var E=Zi.fromJSON(this.name,_);ui("string"===typeof b,t,"internal-error"),ea(f,t.name),ea(h,t.name),ui("boolean"===typeof k,t,"internal-error"),ui("boolean"===typeof w,t,"internal-error"),ea(d,t.name),ea(p,t.name),ea(v,t.name),ea(m,t.name),ea(y,t.name),ea(g,t.name);var I=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=$t(tn().mark((function t(n,r){var i,a,o,s=arguments;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Zi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ki(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),na=function(){function e(){Yt(this,e),this.type="NONE",this.storage={}}return Jt(e,[{key:"_isAvailable",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();na.type="NONE";var ra=na;function ia(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var aa=function(){function e(t,n,r){Yt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ia(this.userKey,a.apiKey,o),this.fullPersistenceKey=ia("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Jt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ta._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=$t(tn().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(hi(ra),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||hi(ra),s=ia(i,n.config.apiKey,n.name),u=null,c=Wt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=ta._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function oa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(la(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ha(t))return"Blackberry";if(da(t))return"Webos";if(ua(t))return"Safari";if((t.includes("chrome/")||ca(t))&&!t.includes("edge/"))return"Chrome";if(fa(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/firefox\//i.test(e)}function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/crios\//i.test(e)}function la(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/iemobile/i.test(e)}function fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/android/i.test(e)}function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/blackberry/i.test(e)}function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/webos/i.test(e)}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/iphone|ipad|ipod/i.test(e)}function va(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return pa(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ma(){return yn()&&10===document.documentMode}function ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return pa(e)||fa(e)||da(e)||ha(e)||/windows phone/i.test(e)||la(e)}function ga(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oa(hn());break;case"Worker":t="".concat(oa(hn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vr,"/").concat(r)}var ba=function(){function e(t,n,r){Yt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wa(this),this.idTokenSubscription=new wa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ei,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Jt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue($t(tn().mark((function r(){var i,a;return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,aa.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=$t(tn().mark((function e(t){var n,r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ui(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ki(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?On(t):null)&&ui(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=$t(tn().mark((function e(t){var n=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ui(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue($t(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(hi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ui(n=t&&hi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,aa.create(this,[hi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=$t(tn().mark((function e(t){var n=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ui(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ui(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ga(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=$t(tn().mark((function e(){var t,n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ka(e){return On(e)}var wa=function(){function e(t){var n=this;Yt(this,e),this.auth=t,this.observer=null,this.addObserver=Cn((function(e){return n.observer=e}))}return Jt(e,[{key:"next",get:function(){return ui(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function xa(e,t,n){var r=ka(e);ui(r._canInitEmulator,r,"emulator-config-failed"),ui(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=_a(t),o=function(e){var t=_a(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ea(r.substr(a.length+1))}}var o=v(r.split(":"),2);return{host:o[0],port:Ea(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _a(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ea(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ia=function(){function e(t,n){Yt(this,e),this.providerId=t,this.signInMethod=n}return Jt(e,[{key:"toJSON",value:function(){return ci("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ci("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ci("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ci("not implemented")}}]),e}();function Sa(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:resetPassword",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Na(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Aa(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:update",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Oa(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:signInWithPassword",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Da(e,t){return ja.apply(this,arguments)}function ja(){return ja=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:sendOobCode",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,n));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,n));case 1:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function Va(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,n));case 1:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function za(e,t){return qa.apply(this,arguments)}function qa(){return qa=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,n));case 1:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Ha(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Ka(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}var Qa=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Yt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Jt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Oa(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ha(t,{email:this._email,oobCode:this._password}));case 5:ri(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Na(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ka(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ri(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ia);function $a(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:signInWithIdp",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}var Xa=function(e){zt(n,e);var t=Kt(n);function n(){var e;return Yt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Jt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return $a(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$a(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$a(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ri("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Fr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ia);function Ja(e,t){return Za.apply(this,arguments)}function Za(){return Za=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:sendVerificationCode",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(){return eo=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:signInWithPhoneNumber",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(){return to=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(t,"POST","/v1/accounts:signInWithPhoneNumber",wi(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ai(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}var no=Zt({},"USER_NOT_FOUND","user-not-found");function ro(){return ro=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Si(t,"POST","/v1/accounts:signInWithPhoneNumber",wi(t,r),no));case 2:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}var io=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Jt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return eo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return to.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ro.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ia);var ao=function(){function e(t){var n,r,i,a,o,s;Yt(this,e);var u=Tn(Nn(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ui(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Jt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Tn(Nn(e)).link,n=t?Tn(Nn(t)).deep_link_id:null,r=Tn(Nn(e)).deep_link_id;return(r?Tn(Nn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(TE){return null}}}]),e}();var oo=function(){function e(){Yt(this,e),this.providerId=e.PROVIDER_ID}return Jt(e,null,[{key:"credential",value:function(e,t){return Qa._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ao.parseLink(t);return ui(n,"argument-error"),Qa._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();oo.PROVIDER_ID="password",oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var so=function(){function e(t){Yt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Jt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),uo=function(e){zt(n,e);var t=Kt(n);function n(){var e;return Yt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Jt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return y(this.scopes)}}]),n}(so),co=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ui(e.idToken||e.accessToken,"argument-error"),Xa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ui("providerId"in t&&"signInMethod"in t,"argument-error"),Xa._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(uo),lo=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.call(this,"facebook.com")}return Jt(n,null,[{key:"credential",value:function(e){return Xa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(TE){return null}}}]),n}(uo);lo.FACEBOOK_SIGN_IN_METHOD="facebook.com",lo.PROVIDER_ID="facebook.com";var fo=function(e){zt(n,e);var t=Kt(n);function n(){var e;return Yt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Jt(n,null,[{key:"credential",value:function(e,t){return Xa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(TE){return null}}}]),n}(uo);fo.GOOGLE_SIGN_IN_METHOD="google.com",fo.PROVIDER_ID="google.com";var ho=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.call(this,"github.com")}return Jt(n,null,[{key:"credential",value:function(e){return Xa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(TE){return null}}}]),n}(uo);ho.GITHUB_SIGN_IN_METHOD="github.com",ho.PROVIDER_ID="github.com";var po=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Jt(n,[{key:"_getIdTokenResponse",value:function(e){return $a(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$a(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$a(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ia),vo=function(e){zt(n,e);var t=Kt(n);function n(e){return Yt(this,n),ui(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Jt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=po.fromJSON(e);return ui(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return po._create(r,n)}catch(i){return null}}}]),n}(so),mo=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.call(this,"twitter.com")}return Jt(n,null,[{key:"credential",value:function(e,t){return Xa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(TE){return null}}}]),n}(uo);function yo(e,t){return go.apply(this,arguments)}function go(){return go=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:signUp",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}mo.TWITTER_SIGN_IN_METHOD="twitter.com",mo.PROVIDER_ID="twitter.com";var bo=function(){function e(t){Yt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Jt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=$t(tn().mark((function t(n,r,i){var a,o,s,u,c=arguments;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ta._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=ko(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=$t(tn().mark((function t(n,r,i){var a;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ko(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ko(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function wo(){return wo=$t(tn().mark((function e(t){var n,r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ka(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new bo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,yo(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,bo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}var xo=function(e){zt(n,e);var t=Kt(n);function n(e,r,i,a){var o,s;return Yt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Vt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Jt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(bn);function _o(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw xo._fromErrorAndOperation(e,n,t,r);throw n}))}function Eo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Io(e,t){return So.apply(this,arguments)}function So(){return So=$t(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=On(t),e.next=3,Co(!0,r,n);case 3:return e.t0=Ri,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Eo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function To(e,t){return No.apply(this,arguments)}function No(){return No=$t(tn().mark((function e(t,n){var r,i,a=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Bi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",bo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Co(e,t,n){return Ao.apply(this,arguments)}function Ao(){return(Ao=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ki(n);case 2:i=Eo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ui(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=$t(tn().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Bi(t,_o(i,a,n,t),r);case 6:return ui((o=e.sent).idToken,i,"internal-error"),ui(s=Vi(o.idToken),i,"internal-error"),u=s.sub,ui(t.uid===u,i,"user-mismatch"),e.abrupt("return",bo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ri(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Oo.apply(this,arguments)}function Ro(e,t){return Do.apply(this,arguments)}function Do(){return Do=$t(tn().mark((function e(t,n){var r,i,a,o,s=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,_o(t,i,n);case 4:return a=e.sent,e.next=7,bo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function jo(e,t){return Lo.apply(this,arguments)}function Lo(){return Lo=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ro(ka(t),n));case 1:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return(Fo=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=On(t),e.next=3,Co(!1,r,n.providerId);case 3:return e.abrupt("return",To(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return(Vo=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(On(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e,t){return zo.apply(this,arguments)}function zo(){return zo=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:signInWithCustomToken",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function qo(){return qo=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ka(t),e.next=3,Bo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,bo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}var Ho=function(){function e(t,n){Yt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Jt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Go._fromServerResponse(e,t):ri(e,"internal-error")}}]),e}(),Go=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Jt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ho);function Ko(e,t,n){var r;ui((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ui("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ui(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ui(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Wo(){return Wo=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ko(i,a,r),e.next=5,Fa(i,a);case 5:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Qo(){return Qo=$t(tn().mark((function e(t,n,r){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa(On(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function $o(){return $o=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(On(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Yo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=$t(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=On(t),e.next=3,Sa(r,{oobCode:n});case 3:i=e.sent,ui(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ui(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ui(i.mfaInfo,r,"internal-error");case 13:ui(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ho._fromServerResponse(ka(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(){return Jo=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(On(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t,n){return es.apply(this,arguments)}function es(){return es=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ka(t),e.next=3,yo(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,bo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(){return ts=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),a={requestType:"EMAIL_SIGNIN",email:n},ui(r.handleCodeInApp,i,"argument-error"),r&&Ko(i,a,r),e.next=6,Va(i,a);case 6:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(){return ns=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),ui((a=oo.credentialWithLink(n,r||di()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",jo(i,a));case 4:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:createAuthUri",wi(t,n)));case 1:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(){return as=$t(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pi()?di():"http://localhost",i={identifier:n,continueUri:r},e.next=4,rs(On(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(){return(os=$t(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=On(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ko(r.auth,a,n),e.next=8,La(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(){return(ss=$t(tn().mark((function e(t,n,r){var i,a,o,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ko(i.auth,o,r),e.next=8,za(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function us(e,t){return cs.apply(this,arguments)}function cs(){return cs=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(){return(ls=$t(tn().mark((function e(t,n){var r,i,a,o,s,u,c;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=On(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Bi(a,us(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t,n){return hs.apply(this,arguments)}function hs(){return hs=$t(tn().mark((function e(t,n,r){var i,a,o,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Bi(t,Na(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}var ds=Jt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ps=function(e){zt(n,e);var t=Kt(n);function n(e,r,i,a){var o;return Yt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Jt(n)}(ds),vs=function(e){zt(n,e);var t=Kt(n);function n(e,r){return Yt(this,n),t.call(this,e,"facebook.com",r)}return Jt(n)}(ds),ms=function(e){zt(n,e);var t=Kt(n);function n(e,r){return Yt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Jt(n)}(ps),ys=function(e){zt(n,e);var t=Kt(n);function n(e,r){return Yt(this,n),t.call(this,e,"google.com",r)}return Jt(n)}(ds),gs=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){return Yt(this,n),t.call(this,e,"twitter.com",r,i)}return Jt(n)}(ps);function bs(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Vi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ds(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new vs(a,i);case"github.com":return new ms(a,i);case"google.com":return new ys(a,i);case"twitter.com":return new gs(a,i,e.screenName||null);case"custom":case"anonymous":return new ds(a,null);default:return new ds(a,r,i)}}(n)}var ks=function(){function e(t,n){Yt(this,e),this.type=t,this.credential=n}return Jt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Zt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ws=function(){function e(t,n,r){Yt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Jt(e,[{key:"resolveSignIn",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ka(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ho._fromServerResponse(r,e)}));ui(i.mfaPendingCredential,r,"internal-error");var o=ks._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=$t(tn().mark((function e(t){var a,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,bo._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return ui(n.user,r,"internal-error"),e.abrupt("return",bo._forOperation(n.user,n.operationType,s));case 17:ri(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function xs(e,t){return xi(e,"POST","/v2/accounts/mfaEnrollment:start",wi(e,t))}function _s(e,t){return xi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",wi(e,t))}var Es=function(){function e(t){var n=this;Yt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ho._fromServerResponse(t.auth,e)})))}))}return Jt(e,[{key:"getSession",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ks,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Bi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=$t(tn().mark((function e(t){var n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Bi(this.user,_s(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Is=new WeakMap;var Ss="__sak",Ts=function(){function e(t,n){Yt(this,e),this.storageRetriever=t,this.type=n}return Jt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ss,"1"),this.storage.removeItem(Ss),Promise.resolve(!0)):Promise.resolve(!1)}catch(TE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ns=function(e){zt(n,e);var t=Kt(n);function n(){var e;return Yt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=hn();return ua(e)||pa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ya(),e._shouldAllowMigration=!0,e}return Jt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ma()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=$t(tn().mark((function e(t,r){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(Mt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$t(tn().mark((function e(t){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(Mt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(Mt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ts);Ns.type="LOCAL";var Cs=Ns,As=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Jt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ts);As.type="SESSION";var Ps=As;function Os(e){return Promise.all(e.map(function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Rs=function(){function e(t){Yt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Jt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=$t(tn().mark((function e(t){var n,r,i,a,o,s,u,c;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Os(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ds(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rs.receivers=[];var js=function(){function e(t){Yt(this,e),this.target=t,this.handlers=new Set}return Jt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=$t(tn().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Ds("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ls(){return window}function Ms(){return"undefined"!==typeof Ls().WorkerGlobalScope&&"function"===typeof Ls().importScripts}function Fs(){return Us.apply(this,arguments)}function Us(){return(Us=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Vs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Bs="firebaseLocalStorageDb",zs="firebaseLocalStorage",qs="fbase_key",Hs=function(){function e(t){Yt(this,e),this.request=t}return Jt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Gs(e,t){return e.transaction([zs],t?"readwrite":"readonly").objectStore(zs)}function Ks(){var e=indexedDB.deleteDatabase(Bs);return new Hs(e).toPromise()}function Ws(){var e=indexedDB.open(Bs,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(zs,{keyPath:qs})}catch(r){n(r)}})),e.addEventListener("success",$t(tn().mark((function n(){var r;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(zs)){n.next=12;break}return r.close(),n.next=5,Ks();case 5:return n.t0=t,n.next=8,Ws();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Qs(e,t,n){return $s.apply(this,arguments)}function $s(){return $s=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Gs(t,!0).put((Zt(i={},qs,n),Zt(i,"value",r),i)),e.abrupt("return",new Hs(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Ys(e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gs(t,!1).get(n),e.next=3,new Hs(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Js(e,t){var n=Gs(e,!0).delete(t);return new Hs(n).toPromise()}var Zs=function(){function e(){Yt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Jt(e,[{key:"_openDb",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ws();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ms()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=$t(tn().mark((function e(){var t=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Rs._getInstance(Ms()?self:null),this.receiver._subscribe("keyChanged",function(){var e=$t(tn().mark((function e(n,r){var i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=$t(tn().mark((function e(){var t,n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new js(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Vs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ws();case 5:return t=e.sent,e.next=8,Qs(t,Ss,"1");case 8:return e.next=10,Js(t,Ss);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$t(tn().mark((function e(t,n){var r=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Qs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ys(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$t(tn().mark((function e(t){var n=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Js(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=$t(tn().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Gs(e,!1).getAll();return new Hs(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Wt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval($t(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Zs.type="LOCAL";var eu=Zs;function tu(e,t){return xi(e,"POST","/v2/accounts/mfaSignIn:start",wi(e,t))}function nu(e){return ru.apply(this,arguments)}function ru(){return ru=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ii("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function au(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ou=1e12,su=function(){function e(t){Yt(this,e),this.auth=t,this.counter=ou,this._widgets=new Map}return Jt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new uu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ou;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ou;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ou,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),uu=function(){function e(t,n,r){var i=this;Yt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ui(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Jt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var cu=au("rcb"),lu=new mi(3e4,6e4),fu="https://www.google.com/recaptcha/api.js?",hu=function(){function e(){Yt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ls().grecaptcha}return Jt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ui(du(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ls().grecaptcha):new Promise((function(r,i){var a=Ls().setTimeout((function(){i(ii(e,"network-request-failed"))}),lu.get());Ls()[cu]=function(){Ls().clearTimeout(a),delete Ls()[cu];var o=Ls().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ii(e,"internal-error"))},iu("".concat(fu,"?").concat(Sn({onload:cu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ii(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ls().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function du(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var pu=function(){function e(){Yt(this,e)}return Jt(e,[{key:"load",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new su(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),vu="recaptcha",mu={theme:"light",type:"image"},yu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},mu),r=arguments.length>2?arguments[2]:void 0;Yt(this,e),this.parameters=n,this.type=vu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ka(r),this.isInvisible="invisible"===this.parameters.size,ui("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ui(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pu:new hu,this.validateStartingState()}return Jt(e,[{key:"verify",value:function(){var e=$t(tn().mark((function e(){var t,n,r,i=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ui(!this.parameters.sitekey,this.auth,"argument-error"),ui(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ui("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ls()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ui(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=$t(tn().mark((function e(){var t,n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ui(pi()&&!Ms(),this.auth,"internal-error"),e.next=3,gu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,nu(this.auth);case 8:ui(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ui(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function gu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var bu=function(){function e(t,n){Yt(this,e),this.verificationId=t,this.onConfirmation=n}return Jt(e,[{key:"confirm",value:function(e){var t=io._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ku(){return ku=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ka(t),e.next=3,Eu(i,n,On(r));case 3:return a=e.sent,e.abrupt("return",new bu(a,(function(e){return jo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function wu(e,t,n){return xu.apply(this,arguments)}function xu(){return(xu=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),e.next=3,Co(!1,i,"phone");case 3:return e.next=5,Eu(i.auth,n,On(r));case 5:return a=e.sent,e.abrupt("return",new bu(a,(function(e){return Mo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(){return(_u=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),e.next=3,Eu(i.auth,n,On(r));case 3:return a=e.sent,e.abrupt("return",new bu(a,(function(e){return Uo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t,n){return Iu.apply(this,arguments)}function Iu(){return Iu=$t(tn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ui("string"===typeof a,t,"argument-error"),ui(r.type===vu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ui("enroll"===s.type,t,"internal-error"),e.next=13,xs(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ui("signin"===s.type,t,"internal-error"),ui(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,tu(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ja(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Iu.apply(this,arguments)}function Su(){return(Su=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(On(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tu=function(){function e(t){Yt(this,e),this.providerId=e.PROVIDER_ID,this.auth=ka(t)}return Jt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Eu(this.auth,e,On(t))}}],[{key:"credential",value:function(e,t){return io._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?io._fromTokenResponse(n,r):null}}]),e}();function Nu(e,t){return t?hi(t):(ui(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Tu.PROVIDER_ID="phone",Tu.PHONE_SIGN_IN_METHOD="phone";var Cu=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Jt(n,[{key:"_getIdTokenResponse",value:function(e){return $a(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return $a(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return $a(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ia);function Au(e){return Ro(e.auth,new Cu(e),e.bypassAuthState)}function Pu(e){var t=e.auth,n=e.user;return ui(n,t,"internal-error"),Po(n,new Cu(e),e.bypassAuthState)}function Ou(e){return Ru.apply(this,arguments)}function Ru(){return Ru=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ui(r=t.user,n,"internal-error"),e.abrupt("return",To(r,new Cu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}var Du=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Yt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Jt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=$t(tn().mark((function t(n,r){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=$t(tn().mark((function e(t){var n,r,i,a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Au;case"linkViaPopup":case"linkViaRedirect":return Ou;case"reauthViaPopup":case"reauthViaRedirect":return Pu;default:ri(this.auth,"internal-error")}}},{key:"resolve",value:function(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ju=new mi(2e3,1e4);function Lu(e,t,n){return Mu.apply(this,arguments)}function Mu(){return Mu=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ka(t),oi(t,n,so),a=Nu(i,r),o=new Bu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Fu(){return(Fu=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oi((i=On(t)).auth,n,so),a=Nu(i.auth,r),o=new Bu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t,n){return Vu.apply(this,arguments)}function Vu(){return(Vu=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oi((i=On(t)).auth,n,so),a=Nu(i.auth,r),o=new Bu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bu=function(e){zt(n,e);var t=Kt(n);function n(e,r,i,a,o){var s;return Yt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Vt(s),s}return Jt(n,[{key:"executeNotNull",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ui(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$t(tn().mark((function e(){var t,n=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return li(1===this.filter.length,"Popup operations only handle one event"),t=Ds(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ii(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ii(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ii(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ju.get())}()}}]),n}(Du);Bu.currentPopupAction=null;var zu=new Map,qu=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Yt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Jt(n,[{key:"execute",value:function(){var e=$t(tn().mark((function e(){var t,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=zu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Hu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ut(Mt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:zu.set(this.auth._key(),t);case 21:return this.bypassAuthState||zu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=$t(tn().mark((function e(t){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ut(Mt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ut(Mt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Du);function Hu(e,t){return Gu.apply(this,arguments)}function Gu(){return Gu=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$u(n),i=Qu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Ku(e,t){return Wu.apply(this,arguments)}function Wu(){return Wu=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qu(t)._set($u(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function Qu(e){return hi(e._redirectPersistence)}function $u(e){return ia("pendingRedirect",e.config.apiKey,e.name)}function Yu(e,t,n){return function(e,t,n){return Xu.apply(this,arguments)}(e,t,n)}function Xu(){return Xu=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ka(t),oi(t,n,so),a=Nu(i,r),e.next=5,Ku(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}function Ju(e,t,n){return function(e,t,n){return Zu.apply(this,arguments)}(e,t,n)}function Zu(){return(Zu=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oi((i=On(t)).auth,n,so),a=Nu(i.auth,r),e.next=5,Ku(a,i.auth);case 5:return e.next=7,oc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(e,t,n){return function(e,t,n){return tc.apply(this,arguments)}(e,t,n)}function tc(){return(tc=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oi((i=On(t)).auth,n,so),a=Nu(i.auth,r),e.next=5,Co(!1,i,n.providerId);case 5:return e.next=7,Ku(a,i.auth);case 7:return e.next=9,oc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka(t)._initializationPromise;case 2:return e.abrupt("return",ic(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=$t(tn().mark((function e(t,n){var r,i,a,o,s,u=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ka(t),a=Nu(i,n),o=new qu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e){return sc.apply(this,arguments)}function sc(){return(sc=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ds("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uc=function(){function e(t){Yt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Jt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!lc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ii(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(cc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function cc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function lc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fc(e){return hc.apply(this,arguments)}function hc(){return hc=$t(tn().mark((function e(t){var n,r=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",xi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}var dc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pc=/^https?/;function vc(){return vc=$t(tn().mark((function e(t){var n,r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fc(t);case 4:n=e.sent,r=n.authorizedDomains,i=Wt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!mc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ri(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),vc.apply(this,arguments)}function mc(e){var t=di(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!pc.test(r))return!1;if(dc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var yc=new mi(3e4,6e4);function gc(){var e=Ls().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=y(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var bc=null;function kc(e){return bc=bc||function(e){return new Promise((function(t,n){var r,i,a;function o(){gc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gc(),n(ii(e,"network-request-failed"))},timeout:yc.get()})}if(null===(i=null===(r=Ls().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ls().gapi)||void 0===a?void 0:a.load)){var s=au("iframefcb");return Ls()[s]=function(){gapi.load?o():n(ii(e,"network-request-failed"))},iu("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw bc=null,e}))}(e),bc}var wc=new mi(5e3,15e3),xc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_c=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ec(e){var t=e.config;ui(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?yi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:vr},i=_c.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Sn(r).slice(1))}function Ic(e){return Sc.apply(this,arguments)}function Sc(){return Sc=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc(t);case 2:return n=e.sent,ui(r=Ls().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ec(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xc,dontclear:!0},(function(e){return new Promise(function(){var n=$t(tn().mark((function n(r,i){var a,o,s;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ls().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ii(t,"network-request-failed"),o=Ls().setTimeout((function(){i(a)}),wc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}var Tc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nc="_blank",Cc="http://localhost",Ac=function(){function e(t){Yt(this,e),this.window=t,this.associatedEvent=null}return Jt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Pc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Tc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=hn().toLowerCase();n&&(s=ca(c)?Nc:n),sa(c)&&(t=t||Cc,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=v(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(va(c)&&"_self"!==s)return Oc(t||"",s),new Ac(null);var f=window.open(t||"",s,l);ui(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Ac(f)}function Oc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Rc="__/auth/handler",Dc="emulator/auth/handler";function jc(e,t,n,r,i,a){ui(e.config.authDomain,e,"auth-domain-config-required"),ui(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vr,eventId:i};if(t instanceof so){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=v(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof uo){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,m=Object.keys(d);p<m.length;p++){var y=m[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Rc);return yi(t,Dc)}(e),"?").concat(Sn(d).slice(1))}var Lc="webStorageSupport",Mc=function(){function e(){Yt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=ic}return Jt(e,[{key:"_openPopup",value:function(){var e=$t(tn().mark((function e(t,n,r,i){var a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return li(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=jc(t,n,r,di(),i),e.abrupt("return",Pc(t,o,Ds()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$t(tn().mark((function e(t,n,r,i){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=jc(t,n,r,di(),i),Ls().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(li(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ic(t);case 2:return n=e.sent,r=new uc(t),n.register("authEvent",(function(e){return ui(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Lc,{type:Lc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ri(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ya()||ua()||pa()}}]),e}(),Fc=Mc,Uc=function(){function e(t){Yt(this,e),this.factorId=t}return Jt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ci("unexpected MultiFactorSessionType")}}}]),e}(),Vc=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this,"phone")).credential=e,r}return Jt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return xi(e,"POST","/v2/accounts/mfaEnrollment:finalize",wi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return xi(e,"POST","/v2/accounts/mfaSignIn:finalize",wi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Uc),Bc=function(){function e(){Yt(this,e)}return Jt(e,null,[{key:"assertion",value:function(e){return Vc._fromCredential(e)}}]),e}();Bc.FACTOR_ID="phone";var zc,qc="@firebase/auth",Hc="0.19.12",Gc=function(){function e(t){Yt(this,e),this.auth=t,this.internalListeners=new Map}return Jt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ui(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Kc(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Wc(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}zc="Browser",ur(new Fn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){ui(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ui(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:zc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ga(zc)},i=new ba(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ur(new Fn("auth-internal",(function(e){return function(e){return new Gc(e)}(ka(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),wr(qc,Hc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zc)),wr(qc,Hc,"esm2017");var Qc,$c=function(){return $c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$c.apply(this,arguments)},Yc=function(e){return{loading:void 0===e||null===e,value:e}},Xc=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return $c($c({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Yc(t.defaultValue);case"value":return $c($c({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Yc(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},s=function(e){a({type:"error",error:e})},u=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])},Jc=function(e,n){var r=Xc((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,s=r.setValue,u=r.value;(0,t.useEffect)((function(){var t=function(e,t,n,r){return On(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Kc(void 0,void 0,void 0,(function(){var t;return Wc(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return s(e),[2]}}))}))}),o);return function(){t()}}),[e]);var c=[u,a,i];return(0,t.useMemo)((function(){return c}),c)},Zc={logo:"Login_logo__j1HlC",containerLogin:"Login_containerLogin__FOM6t",titleLogin:"Login_titleLogin__NJrMe",inputText:"Login_inputText__GXT94",inputPassword:"Login_inputPassword__lhFyV",buttonLogin:"Login_buttonLogin__TAD87",fpsw:"Login_fpsw__3PBI5",cna:"Login_cna__5ysQe",link:"Login_link__CDQhA",linkButton:"Login_linkButton__4-N+Z"},el=function(){function e(t,n){var r=this;Yt(this,e),this._delegate=t,this.firebase=n,or(t,new Fn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Jt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),br(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){or(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){sr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),tl=(Zt(Qc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Zt(Qc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Qc),nl=new kn("app-compat","Firebase",tl);var rl=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=mr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_n(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:wr,setLogLevel:_r,onLog:xr,apps:null,SDK_VERSION:vr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ur(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw nl.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&cn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!_n(n,e=e||nr))throw nl.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(el);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){cn(n,e)},createSubscribe:Cn,ErrorFactory:kn,deepExtend:cn}),n}(),il=new Xn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){il.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var al=self.firebase.SDK_VERSION;al&&al.indexOf("LITE")>=0&&il.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ol=rl;!function(e){wr("@firebase/app-compat","0.1.23",e)}();function sl(){return window}ol.registerVersion("firebase","9.7.0","app-compat");function ul(e,t,n){return cl.apply(this,arguments)}function cl(){return cl=$t(tn().mark((function e(t,n,r){var i,a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sl(),o=a.BuildInfo,li(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,vl(n.sessionId);case 4:return s=e.sent,u={},pa()?u.ibi=o.packageName:fa()?u.apn=o.packageName:ri(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",jc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(){return ll=$t(tn().mark((function e(t){var n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sl(),r=n.BuildInfo,i={},pa()?i.iosBundleId=r.packageName:fa()?i.androidPackageName=r.packageName:ri(t,"operation-not-supported-in-this-environment"),e.next=5,fc(t,i);case 5:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(e){var t=sl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function hl(e,t,n){return dl.apply(this,arguments)}function dl(){return dl=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ii(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),fa()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),dl.apply(this,arguments)}function pl(e){var t,n,r,i,a,o,s,u,c,l,f=sl();ui("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ui("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ui("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ui("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ui("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function vl(e){return ml.apply(this,arguments)}function ml(){return(ml=$t(tn().mark((function e(t){var n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yl(e){if(li(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var gl=function(e){zt(n,e);var t=Kt(n);function n(){var e;return Yt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Jt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ut(Mt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(uc);function bl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:El(),postBody:null,tenantId:e.tenantId,error:ii(e,"no-auth-event")}}function kl(e,t){return Il()._set(Sl(e),t)}function wl(e){return xl.apply(this,arguments)}function xl(){return xl=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il()._get(Sl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Il()._remove(Sl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function _l(e,t){var n,r,i=function(e){var t=Tl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Tl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Tl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Tl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ii(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function El(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Il(){return hi(Cs)}function Sl(e){return ia("authEvent",e.config.apiKey,e.name)}function Tl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=f(t=n)||m(t)||d(t)||p();r[0];return Tn(r.slice(1).join("?"))}var Nl=function(){function e(){Yt(this,e),this._redirectPersistence=Ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ic}return Jt(e,[{key:"_initialize",value:function(){var e=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new gl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ri(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=$t(tn().mark((function e(t,n,r,i){var a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),zu.clear(),e.next=10,this._originValidation(t);case 10:return o=bl(t,r,i),e.next=13,kl(t,o);case 13:return e.next=15,ul(t,o,n);case 15:return s=e.sent,e.next=18,fl(s);case 18:return u=e.sent,e.abrupt("return",hl(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ll.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=sl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout($t(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wl(e);case 2:t.onEvent(Al());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=$t(tn().mark((function n(r){var i,a;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,wl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=_l(i,r.url)),t.onEvent(a||Al());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");sl().handleOpenURL=function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Cl=Nl;function Al(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ii("no-auth-event")}}function Pl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return!("file:"!==Pl()&&"ionic:"!==Pl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rl(){return yn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/Edge\/\d+/.test(e)}function jl(){try{var e=self.localStorage,t=Ds();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return Rl()||Dl(e)}()||gn()}catch(n){return Ll()&&gn()}return!1}function Ll(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ml(){return("http:"===Pl()||"https:"===Pl()||vn()||Ol())&&!(mn()||pn())&&jl()&&!Ll()}function Fl(){return Ol()&&"undefined"!==typeof document}function Ul(){return Vl.apply(this,arguments)}function Vl(){return(Vl=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bl={LOCAL:"local",NONE:"none",SESSION:"session"},zl=ui,ql="persistence";function Hl(e,t){zl(Object.values(Bl).includes(t),e,"invalid-persistence-type"),mn()?zl(t!==Bl.SESSION,e,"unsupported-persistence-type"):pn()?zl(t===Bl.NONE,e,"unsupported-persistence-type"):Ll()?zl(t===Bl.NONE||t===Bl.LOCAL&&gn(),e,"unsupported-persistence-type"):zl(t===Bl.NONE||jl(),e,"unsupported-persistence-type")}function Gl(e){return Kl.apply(this,arguments)}function Kl(){return Kl=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Wl(),r=ia(ql,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Wl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Ql=ui,$l=function(){function e(){Yt(this,e),this.browserResolver=hi(Fc),this.cordovaResolver=hi(Cl),this.underlyingResolver=null,this._redirectPersistence=Ps,this._completeRedirectFn=ic}return Jt(e,[{key:"_initialize",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=$t(tn().mark((function e(t,n,r,i){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$t(tn().mark((function e(t,n,r,i){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Fl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ql(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ul();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yl(e){return e.unwrap()}function Xl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new nf(e,function(e,t){var n,r=On(e),i=t;return ui(t.customData.operationType,r,"argument-error"),ui(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ws._fromError(r,i)}(e,t));else if(r){var i=Jl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Jl(e){var t=(e instanceof bn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof bn)&&"temporaryProof"in t&&"phoneNumber"in t)return Tu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===qr)return null;switch(r){case zr:n=fo;break;case Vr:n=lo;break;case Br:n=ho;break;case Hr:n=mo;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?po._create(r,s):Xa._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new co(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof bn?n.credentialFromError(e):n.credentialFromResult(e)}function Zl(e,t){return t.catch((function(t){throw t instanceof bn&&Xl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Jl(t)),additionalUserInfo:bs(e),user:rf.getOrCreate(r)}}))}function ef(e,t){return tf.apply(this,arguments)}function tf(){return tf=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Zl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}var nf=function(){function e(t,n){Yt(this,e),this.resolver=n,this.auth=t.wrapped()}return Jt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Zl(Yl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),rf=function(){function e(t){Yt(this,e),this._delegate=t,this.multiFactor=function(e){var t=On(e);return Is.has(t)||Is.set(t,Es._fromUser(t)),Is.get(t)}(t)}return Jt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this.auth,Mo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(this.auth,wu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this.auth,Uu(this._delegate,t,$l)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gl(ka(this.auth));case 2:return e.abrupt("return",ec(this._delegate,t,$l));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this.auth,Uo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ef(this.auth,function(e,t,n){return _u.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Zl(this.auth,function(e,t,n){return Fu.apply(this,arguments)}(this._delegate,e,$l))}},{key:"reauthenticateWithRedirect",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gl(ka(this.auth));case 2:return e.abrupt("return",Ju(this._delegate,t,$l));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return os.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return fs(On(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return fs(On(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Su.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ls.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ss.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();rf.USER_MAP=new WeakMap;var af=ui,of=function(){function e(t,n){if(Yt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;af(r,"invalid-api-key",{appName:t.name}),af(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?$l:void 0;this._delegate=n.initialize({options:{persistence:uf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Jr),this.linkUnderlyingAuth()}return Jt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?rf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){xa(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return $o.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Yo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Qo.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this._delegate,Zo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return as.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ao.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return af(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,nc(this._delegate,$l);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Zl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ka(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=sf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=sf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ts.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Wo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hl(this._delegate,t),e.t0=t,e.next=e.t0===Bl.SESSION?4:e.t0===Bl.LOCAL?6:e.t0===Bl.NONE?11:13;break;case 4:return n=Ps,e.abrupt("break",14);case 6:return e.next=8,hi(eu)._isAvailable();case 8:return r=e.sent,n=r?eu:Cs,e.abrupt("break",14);case 11:return n=ra,e.abrupt("break",14);case 13:return e.abrupt("return",ri("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Zl(this._delegate,function(e){return wo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Zl(this._delegate,jo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Zl(this._delegate,function(e,t){return qo.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Zl(this._delegate,function(e,t,n){return jo(On(e),oo.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Zl(this._delegate,function(e,t,n){return ns.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ef(this._delegate,function(e,t,n){return ku.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return af(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Zl(this._delegate,Lu(this._delegate,t,$l)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return af(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Gl(this._delegate);case 3:return e.abrupt("return",Yu(this._delegate,t,$l));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Jo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function sf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&rf.getOrCreate(e))},error:t,complete:n}}function uf(e,t){var n=function(e,t){var n=Wl();if(!n)return[];var r=ia(ql,e,t);switch(n.getItem(r)){case Bl.NONE:return[ra];case Bl.LOCAL:return[eu,Ps];case Bl.SESSION:return[Ps];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(eu)||n.push(eu),"undefined"!==typeof window)for(var r=0,i=[Cs,Ps];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ra)||n.push(ra),n}of.Persistence=Bl;var cf=function(){function e(){Yt(this,e),this.providerId="phone",this._delegate=new Tu(Yl(ol.auth()))}return Jt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Tu.credential(e,t)}}]),e}();cf.PHONE_SIGN_IN_METHOD=Tu.PHONE_SIGN_IN_METHOD,cf.PROVIDER_ID=Tu.PROVIDER_ID;var lf,ff=ui,hf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ol.app();Yt(this,e),ff(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new yu(t,n,i.auth()),this.type=this._delegate.type}return Jt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(lf=ol).INTERNAL.registerComponent(new Fn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new of(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gr,PASSWORD_RESET:Kr,RECOVER_EMAIL:Wr,REVERT_SECOND_FACTOR_ADDITION:Qr,VERIFY_AND_CHANGE_EMAIL:$r,VERIFY_EMAIL:Yr}},EmailAuthProvider:oo,FacebookAuthProvider:lo,GithubAuthProvider:ho,GoogleAuthProvider:fo,OAuthProvider:co,SAMLAuthProvider:vo,PhoneAuthProvider:cf,PhoneMultiFactorGenerator:Bc,RecaptchaVerifier:hf,TwitterAuthProvider:mo,Auth:of,AuthCredential:Ia,Error:bn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),lf.registerVersion("@firebase/auth-compat","0.2.12");var df,pf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vf={},mf=mf||{},yf=pf||self;function gf(){}function bf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function kf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wf="closure_uid_"+(1e9*Math.random()>>>0),xf=0;function _f(e,t,n){return e.call.apply(e.bind,arguments)}function Ef(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function If(e,t,n){return(If=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_f:Ef).apply(null,arguments)}function Sf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Tf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Nf(){this.s=this.s,this.o=this.o}var Cf={};Nf.prototype.s=!1,Nf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,wf)&&e[wf]||(e[wf]=++xf)}(this);delete Cf[e]}},Nf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Af=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Pf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Of(e){return Array.prototype.concat.apply([],arguments)}function Rf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Df(e){return/^[\s\xa0]*$/.test(e)}var jf,Lf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Mf(e,t){return-1!=e.indexOf(t)}function Ff(e,t){return e<t?-1:e>t?1:0}e:{var Uf=yf.navigator;if(Uf){var Vf=Uf.userAgent;if(Vf){jf=Vf;break e}}jf=""}function Bf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function zf(e){var t={};for(var n in e)t[n]=e[n];return t}var qf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<qf.length;a++)n=qf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Gf(e){return Gf[" "](e),e}Gf[" "]=gf;var Kf,Wf=Mf(jf,"Opera"),Qf=Mf(jf,"Trident")||Mf(jf,"MSIE"),$f=Mf(jf,"Edge"),Yf=$f||Qf,Xf=Mf(jf,"Gecko")&&!(Mf(jf.toLowerCase(),"webkit")&&!Mf(jf,"Edge"))&&!(Mf(jf,"Trident")||Mf(jf,"MSIE"))&&!Mf(jf,"Edge"),Jf=Mf(jf.toLowerCase(),"webkit")&&!Mf(jf,"Edge");function Zf(){var e=yf.document;return e?e.documentMode:void 0}e:{var eh="",th=function(){var e=jf;return Xf?/rv:([^\);]+)(\)|;)/.exec(e):$f?/Edge\/([\d\.]+)/.exec(e):Qf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Jf?/WebKit\/(\S+)/.exec(e):Wf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(th&&(eh=th?th[1]:""),Qf){var nh=Zf();if(null!=nh&&nh>parseFloat(eh)){Kf=String(nh);break e}}Kf=eh}var rh,ih={};function ah(){return function(e){var t=ih;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Lf(String(Kf)).split("."),n=Lf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ff(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ff(0==a[2].length,0==o[2].length)||Ff(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(yf.document&&Qf){var oh=Zf();rh=oh||(parseInt(Kf,10)||void 0)}else rh=void 0;var sh=rh,uh=function(){if(!yf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{yf.addEventListener("test",gf,t),yf.removeEventListener("test",gf,t)}catch(n){}return e}();function ch(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function lh(e,t){if(ch.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xf){e:{try{Gf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lh.Z.h.call(this)}}ch.prototype.h=function(){this.defaultPrevented=!0},Tf(lh,ch);var fh={2:"touch",3:"pen",4:"mouse"};lh.prototype.h=function(){lh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hh="closure_listenable_"+(1e6*Math.random()|0),dh=0;function ph(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++dh,this.ca=this.fa=!1}function vh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function mh(e){this.src=e,this.g={},this.h=0}function yh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Af(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}mh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ph(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var bh="closure_lm_"+(1e6*Math.random()|0),kh={};function wh(e,t,n,r,i){if(r&&r.once)return _h(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wh(e,t[a],n,r,i);return null}return n=Ah(n),e&&e[hh]?e.N(t,n,kf(r)?!!r.capture:!!r,i):xh(e,t,n,!1,r,i)}function xh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=kf(i)?!!i.capture:!!i,s=Nh(e);if(s||(e[bh]=s=new mh(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Th;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)uh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Sh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _h(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)_h(e,t[a],n,r,i);return null}return n=Ah(n),e&&e[hh]?e.O(t,n,kf(r)?!!r.capture:!!r,i):xh(e,t,n,!0,r,i)}function Eh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Eh(e,t[a],n,r,i);else r=kf(r)?!!r.capture:!!r,n=Ah(n),e&&e[hh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gh(a=e.g[t],n,r,i))&&(vh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Nh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gh(t,n,r,i)),(n=-1<e?t[e]:null)&&Ih(n))}function Ih(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[hh])yh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Sh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Nh(t))?(yh(n,e),0==n.h&&(n.src=null,t[bh]=null)):vh(e)}}}function Sh(e){return e in kh?kh[e]:kh[e]="on"+e}function Th(e,t){if(e.ca)e=!0;else{t=new lh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ih(e),e=n.call(r,t)}return e}function Nh(e){return(e=e[bh])instanceof mh?e:null}var Ch="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ah(e){return"function"===typeof e?e:(e[Ch]||(e[Ch]=function(t){return e.handleEvent(t)}),e[Ch])}function Ph(){Nf.call(this),this.i=new mh(this),this.P=this,this.I=null}function Oh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ch(t,e);else if(t instanceof ch)t.target=t.target||e;else{var i=t;Hf(t=new ch(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Rh(o,r,!0,t)&&i}if(i=Rh(o=t.g=e,r,!0,t)&&i,i=Rh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Rh(o=t.g=n[a],r,!1,t)&&i}function Rh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&yh(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Tf(Ph,Nf),Ph.prototype[hh]=!0,Ph.prototype.removeEventListener=function(e,t,n,r){Eh(this,e,t,n,r)},Ph.prototype.M=function(){if(Ph.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vh(n[r]);delete t.g[e],t.h--}}this.I=null},Ph.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ph.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Dh=yf.JSON.stringify;function jh(){var e=qh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Lh,Mh=function(){function e(){Yt(this,e),this.h=this.g=null}return Jt(e,[{key:"add",value:function(e,t){var n=Fh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Fh=new(function(){function e(t,n){Yt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Jt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Uh}),(function(e){return e.reset()})),Uh=function(){function e(){Yt(this,e),this.next=this.g=this.h=null}return Jt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Vh(e){yf.setTimeout((function(){throw e}),0)}function Bh(e,t){Lh||function(){var e=yf.Promise.resolve(void 0);Lh=function(){e.then(Hh)}}(),zh||(Lh(),zh=!0),qh.add(e,t)}var zh=!1,qh=new Mh;function Hh(){for(var e;e=jh();){try{e.h.call(e.g)}catch(n){Vh(n)}var t=Fh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zh=!1}function Gh(e,t){Ph.call(this),this.h=e||1,this.g=t||yf,this.j=If(this.kb,this),this.l=Date.now()}function Kh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Wh(e,t,n){if("function"===typeof e)n&&(e=If(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=If(e.handleEvent,e)}return 2147483647<Number(t)?-1:yf.setTimeout(e,t||0)}function Qh(e){e.g=Wh((function(){e.g=null,e.i&&(e.i=!1,Qh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Tf(Gh,Ph),(df=Gh.prototype).da=!1,df.S=null,df.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oh(this,"tick"),this.da&&(Kh(this),this.start()))}},df.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},df.M=function(){Gh.Z.M.call(this),Kh(this),delete this.g};var $h=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Jt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Qh(this)}},{key:"M",value:function(){Ut(Mt(n.prototype),"M",this).call(this),this.g&&(yf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Nf);function Yh(e){Nf.call(this),this.h=e,this.g={}}Tf(Yh,Nf);var Xh=[];function Jh(e,t,n,r){Array.isArray(n)||(n&&(Xh[0]=n.toString()),n=Xh);for(var i=0;i<n.length;i++){var a=wh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Zh(e){Bf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ih(e)}),e),e.g={}}function ed(){this.g=!0}function td(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Dh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Yh.prototype.M=function(){Yh.Z.M.call(this),Zh(this)},Yh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ed.prototype.Aa=function(){this.g=!1},ed.prototype.info=function(){};var nd={},rd=null;function id(){return rd=rd||new Ph}function ad(e){ch.call(this,nd.Ma,e)}function od(e){var t=id();Oh(t,new ad(t,e))}function sd(e,t){ch.call(this,nd.STAT_EVENT,e),this.stat=t}function ud(e){var t=id();Oh(t,new sd(t,e))}function cd(e,t){ch.call(this,nd.Na,e),this.size=t}function ld(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return yf.setTimeout((function(){e()}),t)}nd.Ma="serverreachability",Tf(ad,ch),nd.STAT_EVENT="statevent",Tf(sd,ch),nd.Na="timingevent",Tf(cd,ch);var fd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dd(){}function pd(e){return e.h||(e.h=e.i())}function vd(){}dd.prototype.h=null;var md,yd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gd(){ch.call(this,"d")}function bd(){ch.call(this,"c")}function kd(){}function wd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Yh(this),this.P=_d,e=Yf?125:void 0,this.W=new Gh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}Tf(gd,ch),Tf(bd,ch),Tf(kd,dd),kd.prototype.g=function(){return new XMLHttpRequest},kd.prototype.i=function(){return{}},md=new kd;var _d=45e3,Ed={},Id={};function Sd(e,t,n){e.K=1,e.v=$d(qd(t)),e.s=n,e.U=!0,Td(e,null)}function Td(e,t){e.F=Date.now(),Pd(e),e.A=qd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),up(n.h,"t",r),e.C=0,n=e.l.H,e.h=new xd,e.g=lv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new $h(If(e.Ia,e,e.g),e.O)),Jh(e.V,e.g,"readystatechange",e.gb),t=e.H?zf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),od(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Nd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Cd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ad(e,n))==Id){4==t&&(e.o=4,ud(14),i=!1),td(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ed){e.o=4,ud(15),td(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}td(e.j,e.m,r,null),Ld(e,r)}Nd(e)&&r!=Id&&r!=Ed&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ud(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nv(t),t.L=!0,ud(11))):(td(e.j,e.m,n,"[Invalid Chunked Response]"),jd(e),Dd(e))}function Ad(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Id:(n=Number(t.substring(n,r)),isNaN(n)?Ed:(r+=1)+n>t.length?Id:(t=t.substr(r,n),e.C=r+n,t))}function Pd(e){e.Y=Date.now()+e.P,Od(e,e.P)}function Od(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ld(If(e.eb,e),t)}function Rd(e){e.B&&(yf.clearTimeout(e.B),e.B=null)}function Dd(e){0==e.l.G||e.I||av(e.l,e)}function jd(e){Rd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Kh(e.W),Zh(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ld(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||mp(n.i,e)))if(n.I=e.N,!e.J&&mp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;iv(n),Wp(n)}tv(n),ud(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ld(If(n.ab,n),6e3));if(1>=vp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else sv(n,11)}else if((e.J||n.g==e)&&iv(n),!Df(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Mf(l,"spdy")||Mf(l,"quic")||Mf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(yp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Qd(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=cv(r,r.H?r.la:null,r.W),d.J){gp(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Rd(p),Pd(p)),r.g=d}else ev(r);0<n.l.length&&Yp(n)}else"stop"!=a[0]&&"close"!=a[0]||sv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?sv(n,7):Kp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}od(4)}catch(a){}}function Md(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(bf(e)||"string"===typeof e)Pf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(bf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(bf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Fd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Fd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ud(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Vd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Vd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Vd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(df=wd.prototype).setTimeout=function(e){this.P=e},df.gb=function(e){e=e.target;var t=this.L;t&&3==Bp(e)?t.l():this.Ia(e)},df.Ia=function(e){try{if(e==this.g)e:{var t=Bp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Yf||this.g&&(this.h.h||this.g.ga()||zp(this.g)))){this.I||4!=t||7==n||od(8==n||0>=r?3:2),Rd(this);var i=this.g.ba();this.N=i;t:if(Nd(this)){var a=zp(this.g);e="";var o=a.length,s=4==Bp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){jd(this),Dd(this);var u="";break t}this.h.i=new yf.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Df(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ud(12),jd(this),Dd(this);break e}td(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ld(this,i)}this.U?(Cd(this,t,u),Yf&&this.i&&3==t&&(Jh(this.V,this.W,"tick",this.fb),this.W.start())):(td(this.j,this.m,u,null),Ld(this,u)),4==t&&jd(this),this.i&&!this.I&&(4==t?av(this.l,this):(this.i=!1,Pd(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ud(12)):(this.o=0,ud(13)),jd(this),Dd(this)}}}catch(t){}},df.fb=function(){if(this.g){var e=Bp(this.g),t=this.g.ga();this.C<t.length&&(Rd(this),Cd(this,e,t),this.i&&4!=e&&Pd(this))}},df.cancel=function(){this.I=!0,jd(this)},df.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(od(3),ud(17)),jd(this),this.o=2,Dd(this)):Od(this,this.Y-e)},(df=Fd.prototype).R=function(){Ud(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},df.T=function(){return Ud(this),this.g.concat()},df.get=function(e,t){return Vd(this.h,e)?this.h[e]:t},df.set=function(e,t){Vd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},df.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Bd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof zd){this.g=void 0!==t?t:e.g,Hd(this,e.j),this.s=e.s,Gd(this,e.i),Kd(this,e.m),this.l=e.l,t=e.h;var n=new ip;n.i=t.i,t.g&&(n.g=new Fd(t.g),n.h=t.h),Wd(this,n),this.o=e.o}else e&&(n=String(e).match(Bd))?(this.g=!!t,Hd(this,n[1]||"",!0),this.s=Yd(n[2]||""),Gd(this,n[3]||"",!0),Kd(this,n[4]),this.l=Yd(n[5]||"",!0),Wd(this,n[6]||"",!0),this.o=Yd(n[7]||"")):(this.g=!!t,this.h=new ip(null,this.g))}function qd(e){return new zd(e)}function Hd(e,t,n){e.j=n?Yd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gd(e,t,n){e.i=n?Yd(t,!0):t}function Kd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wd(e,t,n){t instanceof ip?(e.h=t,function(e,t){t&&!e.j&&(ap(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(op(this,t),up(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Xd(t,np)),e.h=new ip(t,e.g))}function Qd(e,t,n){e.h.set(t,n)}function $d(e){return Qd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xd(t,Zd,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xd(t,Zd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xd(n,"/"==n.charAt(0)?tp:ep,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xd(n,rp)),e.join("")};var Zd=/[#\/\?@]/g,ep=/[#\?:]/g,tp=/[#\?]/g,np=/[#\?@]/g,rp=/#/g;function ip(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ap(e){e.g||(e.g=new Fd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function op(e,t){ap(e),t=cp(e,t),Vd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Vd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ud(e)))}function sp(e,t){return ap(e),t=cp(e,t),Vd(e.g.h,t)}function up(e,t,n){op(e,t),0<n.length&&(e.i=null,e.g.set(cp(e,t),Rf(n)),e.h+=n.length)}function cp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(df=ip.prototype).add=function(e,t){ap(this),this.i=null,e=cp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},df.forEach=function(e,t){ap(this),this.g.forEach((function(n,r){Pf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},df.T=function(){ap(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},df.R=function(e){ap(this);var t=[];if("string"===typeof e)sp(this,e)&&(t=Of(t,this.g.get(cp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Of(t,e[n])}return t},df.set=function(e,t){return ap(this),this.i=null,sp(this,e=cp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},df.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},df.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var lp=Jt((function e(t,n){Yt(this,e),this.h=t,this.g=n}));function fp(e){this.l=e||dp,yf.PerformanceNavigationTiming?e=0<(e=yf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(yf.g&&yf.g.Ea&&yf.g.Ea()&&yf.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hp,dp=10;function pp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vp(e){return e.h?1:e.g?e.g.size:0}function mp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yp(e,t){e.g?e.g.add(t):e.h=t}function gp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Wt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Rf(e.i)}function kp(){}function wp(){this.g=new kp}function xp(e,t,n){var r=n||"";try{Md(e,(function(e,n){var i=e;kf(e)&&(i=Dh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _p(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ep(e){this.l=e.$b||null,this.j=e.ib||!1}function Ip(e,t){Ph.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fp.prototype.cancel=function(){if(this.i=bp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Wt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},kp.prototype.stringify=function(e){return yf.JSON.stringify(e,void 0)},kp.prototype.parse=function(e){return yf.JSON.parse(e,void 0)},Tf(Ep,dd),Ep.prototype.g=function(){return new Ip(this.l,this.j)},Ep.prototype.i=(hp={},function(){return hp}),Tf(Ip,Ph);var Sp=0;function Tp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Np(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cp(e)}function Cp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(df=Ip.prototype).open=function(e,t){if(this.readyState!=Sp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cp(this)},df.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||yf).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},df.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Np(this)),this.readyState=Sp},df.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cp(this)),this.g&&(this.readyState=3,Cp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof yf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},df.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Np(this):Cp(this),3==this.readyState&&Tp(this)}},df.Ua=function(e){this.g&&(this.response=this.responseText=e,Np(this))},df.Ta=function(e){this.g&&(this.response=e,Np(this))},df.ha=function(){this.g&&Np(this)},df.setRequestHeader=function(e,t){this.v.append(e,t)},df.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},df.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ip.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ap=yf.JSON.parse;function Pp(e){Ph.call(this),this.headers=new Fd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Op,this.K=this.L=!1}Tf(Pp,Ph);var Op="",Rp=/^https?$/i,Dp=["POST","PUT"];function jp(e){return"content-type"==e.toLowerCase()}function Lp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Mp(e),Up(e)}function Mp(e){e.D||(e.D=!0,Oh(e,"complete"),Oh(e,"error"))}function Fp(e){if(e.h&&"undefined"!=typeof mf&&(!e.C[1]||4!=Bp(e)||2!=e.ba()))if(e.v&&4==Bp(e))Wh(e.Fa,0,e);else if(Oh(e,"readystatechange"),4==Bp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Bd)[1]||null;if(!a&&yf.self&&yf.self.location){var o=yf.self.location.protocol;a=o.substr(0,o.length-1)}i=!Rp.test(a?a.toLowerCase():"")}t=i}if(t)Oh(e,"complete"),Oh(e,"success");else{e.m=6;try{var s=2<Bp(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Mp(e)}}finally{Up(e)}}}function Up(e,t){if(e.g){Vp(e);var n=e.g,r=e.C[0]?gf:null;e.g=null,e.C=null,t||Oh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Vp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(yf.clearTimeout(e.A),e.A=null)}function Bp(e){return e.g?e.g.readyState:0}function zp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Op:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Bf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Qd(e,t,n))}function Hp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gp(e){this.za=0,this.l=[],this.h=new ed,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hp("baseRetryDelayMs",5e3,e),this.$a=Hp("retryDelaySeedMs",1e4,e),this.Ya=Hp("forwardChannelMaxRetries",2,e),this.ra=Hp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new fp(e&&e.concurrentRequestLimit),this.Ca=new wp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Kp(e){if(Qp(e),3==e.G){var t=e.V++,n=qd(e.F);Qd(n,"SID",e.J),Qd(n,"RID",t),Qd(n,"TYPE","terminate"),Jp(e,n),(t=new wd(e,e.h,t,void 0)).K=2,t.v=$d(qd(n)),n=!1,yf.navigator&&yf.navigator.sendBeacon&&(n=yf.navigator.sendBeacon(t.v.toString(),"")),!n&&yf.Image&&((new Image).src=t.v,n=!0),n||(t.g=lv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Pd(t)}uv(e)}function Wp(e){e.g&&(nv(e),e.g.cancel(),e.g=null)}function Qp(e){Wp(e),e.u&&(yf.clearTimeout(e.u),e.u=null),iv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&yf.clearTimeout(e.m),e.m=null)}function $p(e,t){e.l.push(new lp(e.Za++,t)),3==e.G&&Yp(e)}function Yp(e){pp(e.i)||e.m||(e.m=!0,Bh(e.Ha,e),e.C=0)}function Xp(e,t){var n;n=t?t.m:e.V++;var r=qd(e.F);Qd(r,"SID",e.J),Qd(r,"RID",n),Qd(r,"AID",e.U),Jp(e,r),e.o&&e.s&&qp(r,e.o,e.s),n=new wd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Zp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),yp(e.i,n),Sd(n,r,t)}function Jp(e,t){e.j&&Md({},(function(e,n){Qd(t,n,e)}))}function Zp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?If(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{xp(l,o,"req"+c+"_")}catch(Fv){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ev(e){e.g||e.u||(e.Y=1,Bh(e.Ga,e),e.A=0)}function tv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ld(If(e.Ga,e),ov(e,e.A)),e.A++,!0)}function nv(e){null!=e.B&&(yf.clearTimeout(e.B),e.B=null)}function rv(e){e.g=new wd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=qd(e.oa);Qd(t,"RID","rpc"),Qd(t,"SID",e.J),Qd(t,"CI",e.N?"0":"1"),Qd(t,"AID",e.U),Jp(e,t),Qd(t,"TYPE","xmlhttp"),e.o&&e.s&&qp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=$d(qd(t)),n.s=null,n.U=!0,Td(n,e)}function iv(e){null!=e.v&&(yf.clearTimeout(e.v),e.v=null)}function av(e,t){var n=null;if(e.g==t){iv(e),nv(e),e.g=null;var r=2}else{if(!mp(e.i,t))return;n=t.D,gp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Oh(r=id(),new cd(r,n,t,i)),Yp(e)}else ev(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(vp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ld(If(e.Ha,e,t),ov(e,e.C)),e.C++,!0))}(e,t)||2==r&&tv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sv(e,5);break;case 4:sv(e,10);break;case 3:sv(e,6);break;default:sv(e,2)}}function ov(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function sv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=If(e.jb,e);n||(n=new zd("//www.google.com/images/cleardot.gif"),yf.location&&"http"==yf.location.protocol||Hd(n,"https"),$d(n)),function(e,t){var n=new ed;if(yf.Image){var r=new Image;r.onload=Sf(_p,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Sf(_p,n,r,"TestLoadImage: error",!1,t),r.onabort=Sf(_p,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Sf(_p,n,r,"TestLoadImage: timeout",!1,t),yf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ud(2);e.G=0,e.j&&e.j.va(t),uv(e),Qp(e)}function uv(e){e.G=0,e.I=-1,e.j&&(0==bp(e.i).length&&0==e.l.length||(e.i.i.length=0,Rf(e.l),e.l.length=0),e.j.ua())}function cv(e,t,n){var r=function(e){return e instanceof zd?qd(e):new zd(e,void 0)}(n);if(""!=r.i)t&&Gd(r,t+"."+r.i),Kd(r,r.m);else{var i=yf.location;r=function(e,t,n,r){var i=new zd(null,void 0);return e&&Hd(i,e),t&&Gd(i,t),n&&Kd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Bf(e.aa,(function(e,t){Qd(r,t,e)})),t=e.D,n=e.sa,t&&n&&Qd(r,t,n),Qd(r,"VER",e.ma),Jp(e,r),r}function lv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Pp(new Ep({ib:!0})):new Pp(e.qa)).L=e.H,t}function fv(){}function hv(){if(Qf&&!(10<=Number(sh)))throw Error("Environmental error: no available transport.")}function dv(e,t){Ph.call(this),this.g=new Gp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Df(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Df(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mv(this)}function pv(e){gd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vv(){bd.call(this),this.status=1}function mv(e){this.g=e}(df=Pp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():md.g(),this.C=this.u?pd(this.u):pd(md),this.g.onreadystatechange=If(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Lp(this,a)}e=n||"";var i=new Fd(this.headers);r&&Md(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=jp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=yf.FormData&&e instanceof yf.FormData,!(0<=Af(Dp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vp(this),0<this.B&&((this.K=function(e){return Qf&&ah()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=If(this.pa,this)):this.A=Wh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Lp(this,a)}},df.pa=function(){"undefined"!=typeof mf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oh(this,"timeout"),this.abort(8))},df.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oh(this,"complete"),Oh(this,"abort"),Up(this))},df.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Up(this,!0)),Pp.Z.M.call(this)},df.Fa=function(){this.s||(this.F||this.v||this.l?Fp(this):this.cb())},df.cb=function(){Fp(this)},df.ba=function(){try{return 2<Bp(this)?this.g.status:-1}catch(hp){return-1}},df.ga=function(){try{return this.g?this.g.responseText:""}catch(hp){return""}},df.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ap(t)}},df.Da=function(){return this.m},df.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(df=Gp.prototype).ma=8,df.G=1,df.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},df.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new wd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Hf(n=zf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zp(this,t,r),Qd(i=qd(this.F),"RID",e),Qd(i,"CVER",22),this.D&&Qd(i,"X-HTTP-Session-Id",this.D),Jp(this,i),this.o&&n&&qp(i,this.o,n),yp(this.i,t),this.Ra&&Qd(i,"TYPE","init"),this.ja?(Qd(i,"$req",r),Qd(i,"SID","null"),t.$=!0,Sd(t,i,null)):Sd(t,i,r),this.G=2}}else 3==this.G&&(e?Xp(this,e):0==this.l.length||pp(this.i)||Xp(this))},df.Ga=function(){if(this.u=null,rv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ld(If(this.bb,this),e)}},df.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ud(10),Wp(this),rv(this))},df.ab=function(){null!=this.v&&(this.v=null,Wp(this),tv(this),ud(19))},df.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ud(2)):(this.h.info("Failed to ping google.com"),ud(1))},(df=fv.prototype).xa=function(){},df.wa=function(){},df.va=function(){},df.ua=function(){},df.Oa=function(){},hv.prototype.g=function(e,t){return new dv(e,t)},Tf(dv,Ph),dv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Bh(If(e.hb,e,t))),ud(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=cv(e,null,e.W),Yp(e)},dv.prototype.close=function(){Kp(this.g)},dv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,$p(this.g,t)}else this.v?((t={}).__data__=Dh(e),$p(this.g,t)):$p(this.g,e)},dv.prototype.M=function(){this.g.j=null,delete this.j,Kp(this.g),delete this.g,dv.Z.M.call(this)},Tf(pv,gd),Tf(vv,bd),Tf(mv,fv),mv.prototype.xa=function(){Oh(this.g,"a")},mv.prototype.wa=function(e){Oh(this.g,new pv(e))},mv.prototype.va=function(e){Oh(this.g,new vv(e))},mv.prototype.ua=function(){Oh(this.g,"b")},hv.prototype.createWebChannel=hv.prototype.g,dv.prototype.send=dv.prototype.u,dv.prototype.open=dv.prototype.m,dv.prototype.close=dv.prototype.close,fd.NO_ERROR=0,fd.TIMEOUT=8,fd.HTTP_ERROR=6,hd.COMPLETE="complete",vd.EventType=yd,yd.OPEN="a",yd.CLOSE="b",yd.ERROR="c",yd.MESSAGE="d",Ph.prototype.listen=Ph.prototype.N,Pp.prototype.listenOnce=Pp.prototype.O,Pp.prototype.getLastError=Pp.prototype.La,Pp.prototype.getLastErrorCode=Pp.prototype.Da,Pp.prototype.getStatus=Pp.prototype.ba,Pp.prototype.getResponseJson=Pp.prototype.Qa,Pp.prototype.getResponseText=Pp.prototype.ga,Pp.prototype.send=Pp.prototype.ea;var yv=vf.createWebChannelTransport=function(){return new hv},gv=vf.getStatEventTarget=function(){return id()},bv=vf.ErrorCode=fd,kv=vf.EventType=hd,wv=vf.Event=nd,xv=vf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_v=vf.FetchXmlHttpFactory=Ep,Ev=vf.WebChannel=vd,Iv=vf.XhrIo=Pp,Sv="@firebase/firestore",Tv=function(){function e(t){Yt(this,e),this.uid=t}return Jt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Tv.UNAUTHENTICATED=new Tv(null),Tv.GOOGLE_CREDENTIALS=new Tv("google-credentials-uid"),Tv.FIRST_PARTY=new Tv("first-party-uid"),Tv.MOCK_USER=new Tv("mock-user");var Nv="9.6.11",Cv=new Xn("@firebase/firestore");function Av(){return Cv.logLevel}function Pv(e){if(Cv.logLevel<=zn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dv);Cv.debug.apply(Cv,["Firestore (".concat(Nv,"): ").concat(e)].concat(y(i)))}}function Ov(e){if(Cv.logLevel<=zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dv);Cv.error.apply(Cv,["Firestore (".concat(Nv,"): ").concat(e)].concat(y(i)))}}function Rv(e){if(Cv.logLevel<=zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dv);Cv.warn.apply(Cv,["Firestore (".concat(Nv,"): ").concat(e)].concat(y(i)))}}function Dv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function jv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Nv,") INTERNAL ASSERTION FAILED: ")+e;throw Ov(t),new Error(t)}function Lv(e,t){e||jv()}function Mv(e,t){return e}var Fv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uv=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Jt(n)}(bn),Vv=Jt((function e(){var t=this;Yt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Bv=Jt((function e(t,n){Yt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zv=function(){function e(){Yt(this,e)}return Jt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qv=function(){function e(t){Yt(this,e),this.token=t,this.changeListener=null}return Jt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Hv=function(){function e(t){Yt(this,e),this.t=t,this.currentUser=Tv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Jt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Vv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Vv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Pv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Pv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Pv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Lv("string"==typeof n.accessToken),new Bv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Lv(null===e||"string"==typeof e),new Tv(e)}}]),e}(),Gv=Jt((function e(t,n,r){Yt(this,e),this.type="FirstParty",this.user=Tv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Kv=function(){function e(t,n,r){Yt(this,e),this.h=t,this.l=n,this.m=r}return Jt(e,[{key:"getToken",value:function(){return Promise.resolve(new Gv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Wv=Jt((function e(t){Yt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qv=function(){function e(t){Yt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Jt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Pv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Pv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Pv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Pv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Lv("string"==typeof t.token),e.p=t.token,new Wv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),$v=function(){function e(t,n){var r=this;Yt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Jt(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Yv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}$v.A=-1;var Xv=function(){function e(){Yt(this,e)}return Jt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Yv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Jv(e,t){return e<t?-1:e>t?1:0}function Zv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function em(e){return e+"\0"}var tm=function(){function e(t,n){if(Yt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Uv(Fv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Uv(Fv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Uv(Fv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uv(Fv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Jt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Jv(this.nanoseconds,e.nanoseconds):Jv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),nm=function(){function e(t){Yt(this,e),this.timestamp=t}return Jt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new tm(0,0))}},{key:"max",value:function(){return new e(new tm(253402300799,999999999))}}]),e}();function rm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function im(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function am(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var om=function(){function e(t,n,r){Yt(this,e),void 0===n?n=0:n>t.length&&jv(),void 0===r?r=t.length-n:r>t.length-n&&jv(),this.segments=t,this.offset=n,this.len=r}return Jt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),sm=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,y(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(om),um=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cm=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return um.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Uv(Fv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Uv(Fv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Uv(Fv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(om),lm=function(){function e(t){Yt(this,e),this.fields=t,t.sort(cm.comparator)}return Jt(e,[{key:"covers",value:function(e){var t,n=Wt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Zv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var fm=function(e){function t(e){Yt(this,t),this.binaryString=e}return Jt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Jv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();fm.EMPTY_BYTE_STRING=new fm("");var hm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dm(e){if(Lv(!!e),"string"==typeof e){var t=0,n=hm.exec(e);if(Lv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pm(e.seconds),nanos:pm(e.nanos)}}function pm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vm(e){return"string"==typeof e?fm.fromBase64String(e):fm.fromUint8Array(e)}function mm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ym(e){var t=e.mapValue.fields.__previous_value__;return mm(t)?ym(t):t}function gm(e){var t=dm(e.mapValue.fields.__local_write_time__.timestampValue);return new tm(t.seconds,t.nanos)}var bm=Jt((function e(t,n,r,i,a,o,s,u){Yt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),km=function(){function e(t,n){Yt(this,e),this.projectId=t,this.database=n||"(default)"}return Jt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function wm(e){return null==e}function xm(e){return 0===e&&1/e==-1/0}function _m(e){return"number"==typeof e&&Number.isInteger(e)&&!xm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Em=function(){function e(t){Yt(this,e),this.path=t}return Jt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===sm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(sm.fromString(t))}},{key:"fromName",value:function(t){return new e(sm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(sm.emptyPath())}},{key:"comparator",value:function(e,t){return sm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new sm(t.slice()))}}]),e}(),Im={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sm={nullValue:"NULL_VALUE"};function Tm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mm(e)?4:Bm(e)?9:10:jv()}function Nm(e,t){if(e===t)return!0;var n=Tm(e);if(n!==Tm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gm(e).isEqual(gm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=dm(e.timestampValue),r=dm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vm(e.bytesValue).isEqual(vm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pm(e.geoPointValue.latitude)===pm(t.geoPointValue.latitude)&&pm(e.geoPointValue.longitude)===pm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pm(e.integerValue)===pm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pm(e.doubleValue),r=pm(t.doubleValue);return n===r?xm(n)===xm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zv(e.arrayValue.values||[],t.arrayValue.values||[],Nm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rm(n)!==rm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nm(n[i],r[i])))return!1;return!0}(e,t);default:return jv()}}function Cm(e,t){return void 0!==(e.values||[]).find((function(e){return Nm(e,t)}))}function Am(e,t){if(e===t)return 0;var n=Tm(e),r=Tm(t);if(n!==r)return Jv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pm(e.integerValue||e.doubleValue),r=pm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pm(e.timestampValue,t.timestampValue);case 4:return Pm(gm(e),gm(t));case 5:return Jv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vm(e),r=vm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Jv(n[i],r[i]);if(0!==a)return a}return Jv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Jv(pm(e.latitude),pm(t.latitude));return 0!==n?n:Jv(pm(e.longitude),pm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Am(n[i],r[i]);if(a)return a}return Jv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Jv(r[o],a[o]);if(0!==s)return s;var u=Am(n[r[o]],i[a[o]]);if(0!==u)return u}return Jv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw jv()}}function Pm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jv(e,t);var n=dm(e),r=dm(t),i=Jv(n.seconds,r.seconds);return 0!==i?i:Jv(n.nanos,r.nanos)}function Om(e){return Rm(e)}function Rm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=dm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Em.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Wt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Rm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Wt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Rm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):jv();var t,n}function Dm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function jm(e){return!!e&&"integerValue"in e}function Lm(e){return!!e&&"arrayValue"in e}function Mm(e){return!!e&&"nullValue"in e}function Fm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Um(e){return!!e&&"mapValue"in e}function Vm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return im(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Vm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Vm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Bm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function zm(e){return"nullValue"in e?Sm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Dm(km.empty(),Em.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:jv()}function qm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Dm(km.empty(),Em.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Im:jv()}function Hm(e,t){return void 0===e?t:void 0===t||Am(e,t)>0?e:t}function Gm(e,t){return void 0===e?t:void 0===t||Am(e,t)<0?e:t}var Km=function(){function e(t){Yt(this,e),this.value=t}return Jt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Um(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vm(t)}},{key:"setAll",value:function(e){var t=this,n=cm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Vm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Um(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Nm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Um(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){im(t,(function(t,n){return e[t]=n}));var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Vm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Wm(e){var t=[];return im(e.fields,(function(e,n){var r=new cm([e]);if(Um(n)){var i=Wm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Wt(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new lm(t)}var Qm=function(){function e(t,n,r,i,a,o){Yt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Jt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Km.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Km.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,nm.min(),nm.min(),Km.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,nm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,nm.min(),Km.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,nm.min(),Km.empty(),2)}}]),e}(),$m=Jt((function e(t,n,r,i){Yt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ym(e){return e.fields.find((function(e){return 2===e.kind}))}function Xm(e){return e.fields.filter((function(e){return 2!==e.kind}))}$m.UNKNOWN_ID=-1;var Jm=Jt((function e(t,n){Yt(this,e),this.fieldPath=t,this.kind=n})),Zm=function(){function e(t,n){Yt(this,e),this.sequenceNumber=t,this.offset=n}return Jt(e,null,[{key:"empty",value:function(){return new e(0,ny.min())}}]),e}();function ey(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=nm.fromTimestamp(1e9===r?new tm(n+1,0):new tm(n,r));return new ny(i,Em.empty(),t)}function ty(e){return new ny(e.readTime,e.key,-1)}var ny=function(){function e(t,n,r){Yt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Jt(e,null,[{key:"min",value:function(){return new e(nm.min(),Em.empty(),-1)}},{key:"max",value:function(){return new e(nm.max(),Em.empty(),-1)}}]),e}();function ry(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Em.comparator(e.documentKey,t.documentKey))?n:Jv(e.largestBatchId,t.largestBatchId)}var iy=Jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Yt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function ay(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new iy(e,t,n,r,i,a,o)}function oy(e){var t=Mv(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Om(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Om(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Om(e)})).join(",")),t.P=n}return t.P}function sy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!_y(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Nm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Iy(e.startAt,t.startAt)&&Iy(e.endAt,t.endAt)}function uy(e){return Em.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function cy(e,t){return e.filters.filter((function(e){return e instanceof hy&&e.field.isEqual(t)}))}function ly(e,t,n){var r,i,a=!0,o=Wt(cy(e,t));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0,c=!0;switch(s.op){case"<":case"<=":u=zm(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Sm}Hm(r,u)===u&&(r=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hm(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function fy(e,t,n){var r,i,a=!0,o=Wt(cy(e,t));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0,c=!0;switch(s.op){case">=":case">":u=qm(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Im}Gm(r,u)===u&&(r=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Gm(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var hy=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Am(t,this.value)):null!==t&&Tm(this.value)===Tm(t)&&this.v(Am(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jv()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new dy(e,t,r):"array-contains"===t?new yy(e,r):"in"===t?new gy(e,r):"not-in"===t?new by(e,r):"array-contains-any"===t?new ky(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new py(e,n):new vy(e,n)}}]),n}(function(){return Jt((function e(){Yt(this,e)}))}()),dy=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this,e,r,i)).key=Em.fromName(i.referenceValue),a}return Jt(n,[{key:"matches",value:function(e){var t=Em.comparator(e.key,this.key);return this.v(t)}}]),n}(hy),py=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e,"in",r)).keys=my("in",r),i}return Jt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(hy),vy=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e,"not-in",r)).keys=my("not-in",r),i}return Jt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(hy);function my(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Em.fromName(e.referenceValue)}))}var yy=function(e){zt(n,e);var t=Kt(n);function n(e,r){return Yt(this,n),t.call(this,e,"array-contains",r)}return Jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Lm(t)&&Cm(t.arrayValue,this.value)}}]),n}(hy),gy=function(e){zt(n,e);var t=Kt(n);function n(e,r){return Yt(this,n),t.call(this,e,"in",r)}return Jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Cm(this.value.arrayValue,t)}}]),n}(hy),by=function(e){zt(n,e);var t=Kt(n);function n(e,r){return Yt(this,n),t.call(this,e,"not-in",r)}return Jt(n,[{key:"matches",value:function(e){if(Cm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Cm(this.value.arrayValue,t)}}]),n}(hy),ky=function(e){zt(n,e);var t=Kt(n);function n(e,r){return Yt(this,n),t.call(this,e,"array-contains-any",r)}return Jt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Lm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Cm(t.value.arrayValue,e)}))}}]),n}(hy),wy=Jt((function e(t,n){Yt(this,e),this.position=t,this.inclusive=n})),xy=Jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Yt(this,e),this.field=t,this.dir=n}));function _y(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ey(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Em.comparator(Em.fromName(o.referenceValue),n.key):Am(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Iy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Nm(e.position[n],t.position[n]))return!1;return!0}var Sy=Jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Yt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function Ty(e,t,n,r,i,a,o,s){return new Sy(e,t,n,r,i,a,o,s)}function Ny(e){return new Sy(e)}function Cy(e){return!wm(e.limit)&&"F"===e.limitType}function Ay(e){return!wm(e.limit)&&"L"===e.limitType}function Py(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Oy(e){var t,n=Wt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ry(e){return null!==e.collectionGroup}function Dy(e){var t=Mv(e);if(null===t.D){t.D=[];var n=Oy(t),r=Py(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new xy(n)),t.D.push(new xy(cm.keyField(),"asc"));else{var i,a=!1,o=Wt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new xy(cm.keyField(),u))}}}return t.D}function jy(e){var t=Mv(e);if(!t.C)if("F"===t.limitType)t.C=ay(t.path,t.collectionGroup,Dy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Wt(Dy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new xy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new wy(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new wy(t.startAt.position,!t.startAt.inclusive):null;t.C=ay(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function Ly(e,t,n){return new Sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function My(e,t){return sy(jy(e),jy(t))&&e.limitType===t.limitType}function Fy(e){return"".concat(oy(jy(e)),"|lt:").concat(e.limitType)}function Uy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Om(t.value));var t})).join(", "),"]")),wm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Om(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Om(e)})).join(",")),"Target(".concat(t,")")}(jy(e)),"; limitType=").concat(e.limitType,")")}function Vy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Em.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Wt(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Wt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ey(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dy(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ey(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dy(e),t))}(e,t)}function By(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zy(e){return function(t,n){var r,i=!1,a=Wt(Dy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=qy(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function qy(e,t,n){var r=e.field.isKeyField()?Em.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Am(r,i):jv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jv()}}function Hy(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xm(t)?"-0":t}}function Gy(e){return{integerValue:""+e}}function Ky(e,t){return _m(t)?Gy(t):Hy(e,t)}var Wy=Jt((function e(){Yt(this,e),this._=void 0}));function Qy(e,t,n){return e instanceof Xy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jy?Zy(e,t):e instanceof eg?tg(e,t):function(e,t){var n=Yy(e,t),r=rg(n)+rg(e.k);return jm(n)&&jm(e.k)?Gy(r):Hy(e.M,r)}(e,t)}function $y(e,t,n){return e instanceof Jy?Zy(e,t):e instanceof eg?tg(e,t):n}function Yy(e,t){return e instanceof ng?jm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xy=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n)}(Wy),Jy=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this)).elements=e,r}return Jt(n)}(Wy);function Zy(e,t){var n,r=ig(t),i=Wt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Nm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var eg=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this)).elements=e,r}return Jt(n)}(Wy);function tg(e,t){var n,r=ig(t),i=Wt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Nm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ng=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this)).M=e,i.k=r,i}return Jt(n)}(Wy);function rg(e){return pm(e.integerValue||e.doubleValue)}function ig(e){return Lm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ag=Jt((function e(t,n){Yt(this,e),this.field=t,this.transform=n}));var og=Jt((function e(t,n){Yt(this,e),this.version=t,this.transformResults=n})),sg=function(){function e(t,n){Yt(this,e),this.updateTime=t,this.exists=n}return Jt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ug(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var cg=Jt((function e(){Yt(this,e)}));function lg(e,t,n){e instanceof vg?function(e,t,n){var r=e.value.clone(),i=gg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mg?function(e,t,n){if(ug(e.precondition,t)){var r=gg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fg(e,t,n){e instanceof vg?function(e,t,n){if(ug(e.precondition,t)){var r=e.value.clone(),i=bg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(pg(t),r).setHasLocalMutations()}}(e,t,n):e instanceof mg?function(e,t,n){if(ug(e.precondition,t)){var r=bg(e.fieldTransforms,n,t),i=t.data;i.setAll(yg(e)),i.setAll(r),t.convertToFoundDocument(pg(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ug(e.precondition,t)&&t.convertToNoDocument(nm.min())}(e,t)}function hg(e,t){var n,r=null,i=Wt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Yy(a.transform,o||null);null!=s&&(null==r&&(r=Km.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function dg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jy&&t instanceof Jy||e instanceof eg&&t instanceof eg?Zv(e.elements,t.elements,Nm):e instanceof ng&&t instanceof ng?Nm(e.k,t.k):e instanceof Xy&&t instanceof Xy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function pg(e){return e.isFoundDocument()?e.version:nm.min()}var vg=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Yt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Jt(n)}(cg),mg=function(e){zt(n,e);var t=Kt(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Yt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Jt(n)}(cg);function yg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function gg(e,t,n){var r=new Map;Lv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,$y(o,s,n[i]))}return r}function bg(e,t,n){var r,i=new Map,a=Wt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Qy(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var kg,wg,xg=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Jt(n)}(cg),_g=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Jt(n)}(cg),Eg=Jt((function e(t){Yt(this,e),this.count=t}));function Ig(e){switch(e){default:return jv();case Fv.CANCELLED:case Fv.UNKNOWN:case Fv.DEADLINE_EXCEEDED:case Fv.RESOURCE_EXHAUSTED:case Fv.INTERNAL:case Fv.UNAVAILABLE:case Fv.UNAUTHENTICATED:return!1;case Fv.INVALID_ARGUMENT:case Fv.NOT_FOUND:case Fv.ALREADY_EXISTS:case Fv.PERMISSION_DENIED:case Fv.FAILED_PRECONDITION:case Fv.ABORTED:case Fv.OUT_OF_RANGE:case Fv.UNIMPLEMENTED:case Fv.DATA_LOSS:return!0}}function Sg(e){if(void 0===e)return Ov("GRPC error has no .code"),Fv.UNKNOWN;switch(e){case kg.OK:return Fv.OK;case kg.CANCELLED:return Fv.CANCELLED;case kg.UNKNOWN:return Fv.UNKNOWN;case kg.DEADLINE_EXCEEDED:return Fv.DEADLINE_EXCEEDED;case kg.RESOURCE_EXHAUSTED:return Fv.RESOURCE_EXHAUSTED;case kg.INTERNAL:return Fv.INTERNAL;case kg.UNAVAILABLE:return Fv.UNAVAILABLE;case kg.UNAUTHENTICATED:return Fv.UNAUTHENTICATED;case kg.INVALID_ARGUMENT:return Fv.INVALID_ARGUMENT;case kg.NOT_FOUND:return Fv.NOT_FOUND;case kg.ALREADY_EXISTS:return Fv.ALREADY_EXISTS;case kg.PERMISSION_DENIED:return Fv.PERMISSION_DENIED;case kg.FAILED_PRECONDITION:return Fv.FAILED_PRECONDITION;case kg.ABORTED:return Fv.ABORTED;case kg.OUT_OF_RANGE:return Fv.OUT_OF_RANGE;case kg.UNIMPLEMENTED:return Fv.UNIMPLEMENTED;case kg.DATA_LOSS:return Fv.DATA_LOSS;default:return jv()}}(wg=kg||(kg={}))[wg.OK=0]="OK",wg[wg.CANCELLED=1]="CANCELLED",wg[wg.UNKNOWN=2]="UNKNOWN",wg[wg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wg[wg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wg[wg.NOT_FOUND=5]="NOT_FOUND",wg[wg.ALREADY_EXISTS=6]="ALREADY_EXISTS",wg[wg.PERMISSION_DENIED=7]="PERMISSION_DENIED",wg[wg.UNAUTHENTICATED=16]="UNAUTHENTICATED",wg[wg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wg[wg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wg[wg.ABORTED=10]="ABORTED",wg[wg.OUT_OF_RANGE=11]="OUT_OF_RANGE",wg[wg.UNIMPLEMENTED=12]="UNIMPLEMENTED",wg[wg.INTERNAL=13]="INTERNAL",wg[wg.UNAVAILABLE=14]="UNAVAILABLE",wg[wg.DATA_LOSS=15]="DATA_LOSS";var Tg=function(){function e(t,n){Yt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Jt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){im(this.inner,(function(t,n){var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return am(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ng=function(){function e(t,n){Yt(this,e),this.comparator=t,this.root=n||Ag.EMPTY}return Jt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ag.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ag.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Cg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Cg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Cg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Cg(this.root,e,this.comparator,!0)}}]),e}(),Cg=function(){function e(t,n,r,i){Yt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Jt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ag=function(){function e(t,n,r,i,a){Yt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Jt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw jv();if(this.right.isRed())throw jv();var e=this.left.check();if(e!==this.right.check())throw jv();return e+(this.isRed()?0:1)}}]),e}();Ag.EMPTY=null,Ag.RED=!0,Ag.BLACK=!1,Ag.EMPTY=new(function(){function e(){Yt(this,e),this.size=0}return Jt(e,[{key:"key",get:function(){throw jv()}},{key:"value",get:function(){throw jv()}},{key:"color",get:function(){throw jv()}},{key:"left",get:function(){throw jv()}},{key:"right",get:function(){throw jv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ag(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Pg=function(){function e(t){Yt(this,e),this.comparator=t,this.data=new Ng(this.comparator)}return Jt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Og(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Og(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Og=function(){function e(t){Yt(this,e),this.iter=t}return Jt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Rg(e){return e.hasNext()?e.getNext():void 0}var Dg=new Ng(Em.comparator);function jg(){return Dg}var Lg=new Ng(Em.comparator);function Mg(){return Lg}function Fg(){return new Tg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ug=new Ng(Em.comparator),Vg=new Pg(Em.comparator);function Bg(){for(var e=Vg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var zg=new Pg(Jv);function qg(){return zg}var Hg=function(){function e(t,n,r,i,a){Yt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Jt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Gg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(nm.min(),r,qg(),jg(),Bg())}}]),e}(),Gg=function(){function e(t,n,r,i,a){Yt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Jt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(fm.EMPTY_BYTE_STRING,n,Bg(),Bg(),Bg())}}]),e}(),Kg=Jt((function e(t,n,r,i){Yt(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Wg=Jt((function e(t,n){Yt(this,e),this.targetId=t,this.$=n})),Qg=Jt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Yt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$g=function(){function e(){Yt(this,e),this.B=0,this.L=Jg(),this.U=fm.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Jt(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Bg(),t=Bg(),n=Bg();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jv()}})),new Gg(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Jg()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Yg=function(){function e(t){Yt(this,e),this.nt=t,this.st=new Map,this.it=jg(),this.rt=Xg(),this.ot=new Pg(Jv)}return Jt(e,[{key:"ut",value:function(e){var t,n=Wt(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=Wt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:jv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(uy(i))if(0===n){var a=new Em(i.path);this.ct(t,a,Qm.newNoDocument(a,nm.min()))}else Lv(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&uy(a.target)){var o=new Em(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Qm.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Bg();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hg(e,n,this.ot,this.it,r);return this.it=jg(),this.rt=Xg(),this.ot=new Pg(Jv),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new $g,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Pg(Jv),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Pv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new $g),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Xg(){return new Ng(Em.comparator)}function Jg(){return new Ng(Em.comparator)}var Zg={asc:"ASCENDING",desc:"DESCENDING"},eb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tb=Jt((function e(t,n){Yt(this,e),this.databaseId=t,this.N=n}));function nb(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rb(e,t){return e.N?t.toBase64():t.toUint8Array()}function ib(e,t){return nb(e,t.toTimestamp())}function ab(e){return Lv(!!e),nm.fromTimestamp(function(e){var t=dm(e);return new tm(t.seconds,t.nanos)}(e))}function ob(e,t){return function(e){return new sm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sb(e){var t=sm.fromString(e);return Lv(Ab(t)),t}function ub(e,t){return ob(e.databaseId,t.path)}function cb(e,t){var n=sb(t);if(n.get(1)!==e.databaseId.projectId)throw new Uv(Fv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uv(Fv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Em(db(n))}function lb(e,t){return ob(e.databaseId,t)}function fb(e){var t=sb(e);return 4===t.length?sm.emptyPath():db(t)}function hb(e){return new sm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function db(e){return Lv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pb(e,t,n){return{name:ub(e,t),fields:n.value.mapValue.fields}}function vb(e,t,n){var r=cb(e,t.name),i=ab(t.updateTime),a=new Km({mapValue:{fields:t.fields}}),o=Qm.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function mb(e,t){return"found"in t?function(e,t){Lv(!!t.found),t.found.name,t.found.updateTime;var n=cb(e,t.found.name),r=ab(t.found.updateTime),i=new Km({mapValue:{fields:t.found.fields}});return Qm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Lv(!!t.missing),Lv(!!t.readTime);var n=cb(e,t.missing),r=ab(t.readTime);return Qm.newNoDocument(n,r)}(e,t):jv()}function yb(e,t){var n;if(t instanceof vg)n={update:pb(e,t.key,t.value)};else if(t instanceof xg)n={delete:ub(e,t.key)};else if(t instanceof mg)n={update:pb(e,t.key,t.data),updateMask:Cb(t.fieldMask)};else{if(!(t instanceof _g))return jv();n={verify:ub(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof eg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ng)return{fieldPath:t.field.canonicalString(),increment:n.k};throw jv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ib(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jv()}(e,t.precondition)),n}function gb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sg.updateTime(ab(e.updateTime)):void 0!==e.exists?sg.exists(e.exists):sg.none()}(t.currentDocument):sg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Lv("REQUEST_TIME"===t.setToServerValue),n=new Xy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Jy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new eg(i)}else"increment"in t?n=new ng(e,t.increment):jv();var a=cm.fromServerFormat(t.fieldPath);return new ag(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=cb(e,t.update.name),a=new Km({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new lm(t.map((function(e){return cm.fromServerFormat(e)})))}(t.updateMask);return new mg(i,a,o,n,r)}return new vg(i,a,n,r)}if(t.delete){var s=cb(e,t.delete);return new xg(s,n)}if(t.verify){var u=cb(e,t.verify);return new _g(u,n)}return jv()}function bb(e,t){return{documents:[lb(e,t.path)]}}function kb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Fm(e.value))return{unaryFilter:{field:Ib(e.field),op:"IS_NAN"}};if(Mm(e.value))return{unaryFilter:{field:Ib(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fm(e.value))return{unaryFilter:{field:Ib(e.field),op:"IS_NOT_NAN"}};if(Mm(e.value))return{unaryFilter:{field:Ib(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ib(e.field),op:Eb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ib(e.field),direction:_b(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||wm(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function wb(e){var t=fb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Lv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=xb(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new xy(Sb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return wm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new wy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new wy(n,t)}(n.endAt)),Ty(t,i,s,o,u,"F",c,l)}function xb(e){return e?void 0!==e.unaryFilter?[Nb(e)]:void 0!==e.fieldFilter?[Tb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xb(e)})).reduce((function(e,t){return e.concat(t)})):jv():[]}function _b(e){return Zg[e]}function Eb(e){return eb[e]}function Ib(e){return{fieldPath:e.canonicalString()}}function Sb(e){return cm.fromServerFormat(e.fieldPath)}function Tb(e){return hy.create(Sb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jv()}}(e.fieldFilter.op),e.fieldFilter.value)}function Nb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Sb(e.unaryFilter.field);return hy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Sb(e.unaryFilter.field);return hy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sb(e.unaryFilter.field);return hy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Sb(e.unaryFilter.field);return hy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return jv()}}function Cb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ab(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Pb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Rb(t)),t=Ob(e.get(n),t);return Rb(t)}function Ob(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Rb(e){return e+"\x01\x01"}function Db(e){var t=e.length;if(Lv(t>=2),2===t)return Lv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),sm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&jv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:jv()}a=o+2}return new sm(r)}var jb=["userId","batchId"];function Lb(e,t){return[e,Pb(t)]}function Mb(e,t,n){return[e,Pb(t),n]}var Fb={},Ub=["prefixPath","collectionGroup","readTime","documentId"],Vb=["prefixPath","collectionGroup","documentId"],Bb=["collectionGroup","readTime","prefixPath","documentId"],zb=["canonicalId","targetId"],qb=["targetId","path"],Hb=["path","targetId"],Gb=["collectionId","parent"],Kb=["indexId","uid"],Wb=["uid","sequenceNumber"],Qb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$b=["indexId","uid","orderedDocumentKey"],Yb=["userId","collectionPath","documentId"],Xb=["userId","collectionPath","largestBatchId"],Jb=["userId","collectionGroup","largestBatchId"],Zb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ek=[].concat(y(Zb),["documentOverlays"]),tk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nk=[].concat(tk,["indexConfiguration","indexState","indexEntries"]),rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ik=function(){function e(){Yt(this,e),this.onCommittedListeners=[]}return Jt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ak=function(){function e(t){var n=this;Yt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Jt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&jv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Wt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ok=function(){function e(t,n){var r=this;Yt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Vv,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new ck(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=pk(e.target.error);r.At.reject(new ck(t,n))}}return Jt(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Pv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new fk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ck(n,t)}}}]),e}(),sk=function(){function e(t,n,r){Yt(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(hn())&&Ov("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Jt(e,[{key:"Nt",value:function(){var e=$t(tn().mark((function e(t){var n=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Pv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ck(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Uv(Fv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Uv(Fv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ck(t,n))},i.onupgradeneeded=function(e){Pv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Pv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=$t(tn().mark((function e(t,n,r,i){var a,o,s,u,c=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(tn().mark((function e(){var n,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=ok.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),ak.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Pv("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Pv("SimpleDb","Removing database:",e),hk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!gn())return!1;if(e.St())return!0;var t=hn(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/vpfc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),uk=function(){function e(t){Yt(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Jt(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return hk(this.Ft.delete())}}]),e}(),ck=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,Fv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Jt(n)}(Uv);function lk(e){return"IndexedDbTransactionError"===e.name}var fk=function(){function e(t){Yt(this,e),this.store=t}return Jt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Pv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hk(n)}},{key:"add",value:function(e){return Pv("SimpleDb","ADD",this.store.name,e,e),hk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return hk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Pv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Pv("SimpleDb","DELETE",this.store.name,e),hk(this.store.delete(e))}},{key:"count",value:function(){return Pv("SimpleDb","COUNT",this.store.name),hk(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ak((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ak((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Pv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ak((function(n,r){t.onerror=function(e){var t=pk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new ak((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new uk(i),o=t(i.primaryKey,i.value,a);if(o instanceof ak){var s=o.catch((function(e){return a.done(),ak.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return ak.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function hk(e){return new ak((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=pk(e.target.error);n(t)}}))}var dk=!1;function pk(e){var t=sk.Vt(hn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Uv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return dk||(dk=!0,setTimeout((function(){throw r}),0)),r}}return e}var vk=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Jt(n)}(ik);function mk(e,t){var n=Mv(e);return sk.xt(n.Ht,t)}var yk=function(){function e(t,n,r,i){Yt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Jt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&lg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Wt(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&fg(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Wt(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&fg(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(nm.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Zv(this.mutations,e.mutations,(function(e,t){return dg(e,t)}))&&Zv(this.baseMutations,e.baseMutations,(function(e,t){return dg(e,t)}))}}]),e}(),gk=function(){function e(t,n,r,i){Yt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Jt(e,null,[{key:"from",value:function(t,n,r){Lv(t.mutations.length===r.length);for(var i=Ug,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),bk=function(){function e(t,n){Yt(this,e),this.largestBatchId=t,this.mutation=n}return Jt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),kk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nm.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fm.EMPTY_BYTE_STRING;Yt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Jt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),wk=Jt((function e(t){Yt(this,e),this.Jt=t}));function xk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_k(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ub(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nb(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ek(t.version)};else{if(!t.isUnknownDocument())return jv();r.unknownDocument={path:n.path.toArray(),version:Ek(t.version)}}return r}function _k(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ek(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ik(e){var t=new tm(e.seconds,e.nanoseconds);return nm.fromTimestamp(t)}function Sk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gb(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gb(e.Jt,t)})),s=tm.fromMillis(t.localWriteTimeMs);return new yk(t.batchId,s,n,o)}function Tk(e){var t,n,r=Ik(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ik(e.lastLimboFreeSnapshotVersion):nm.min();return void 0!==e.query.documents?(Lv(1===(n=e.query).documents.length),t=jy(Ny(fb(n.documents[0])))):t=function(e){return jy(wb(e))}(e.query),new kk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fm.fromBase64String(e.resumeToken))}function Nk(e,t){var n,r=Ek(t.snapshotVersion),i=Ek(t.lastLimboFreeSnapshotVersion);n=uy(t.target)?bb(e.Jt,t.target):kb(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:oy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ck(e){var t=wb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ly(t,t.limit,"L"):t}function Ak(e,t){return new bk(t.largestBatchId,gb(e.Jt,t.overlayMutation))}function Pk(e,t){var n=t.path.lastSegment();return[e,Pb(t.path.popLast()),n]}var Ok=function(){function e(){Yt(this,e)}return Jt(e,[{key:"getBundleMetadata",value:function(e,t){return Rk(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ik(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Rk(e).put({bundleId:(n=t).id,createTime:Ek(ab(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Dk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ck(t.bundledQuery),readTime:Ik(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Dk(e).put(function(e){return{name:e.name,readTime:Ek(ab(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Rk(e){return mk(e,"bundles")}function Dk(e){return mk(e,"namedQueries")}var jk=function(){function e(t,n){Yt(this,e),this.M=t,this.userId=n}return Jt(e,[{key:"getOverlay",value:function(e,t){var n=this;return Lk(e).get(Pk(this.userId,t)).next((function(e){return e?Ak(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new bk(t,a);i.push(r.Xt(e,o))})),ak.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Pb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Lk(e).Qt("collectionPathOverlayIndex",i))})),ak.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Fg(),a=Pb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Lk(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Wt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ak(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Fg(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lk(e).Wt({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Ak(a.M,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Lk(e).put(function(e,t,n){var r=v(Pk(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:yb(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Lk(e){return mk(e,"documentOverlays")}var Mk=function(){function e(){Yt(this,e)}return Jt(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(pm(e.integerValue));else if("doubleValue"in e){var n=pm(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),xm(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(vm(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Bm(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):jv()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Em.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Fk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Uk(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Fk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Mk.fe=new Mk;var Vk=function(){function e(){Yt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Jt(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Wt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Wt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Uk(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Uk(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Bk=function(){function e(t){Yt(this,e),this.De=t}return Jt(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),zk=function(){function e(t){Yt(this,e),this.De=t}return Jt(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),qk=function(){function e(){Yt(this,e),this.De=new Vk,this.Ce=new Bk(this.De),this.xe=new zk(this.De)}return Jt(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Hk=function(){function e(t,n,r,i){Yt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Jt(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Gk(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Kk(e.arrayValue,t.arrayValue))?n:0!==(n=Kk(e.directionalValue,t.directionalValue))?n:Em.comparator(e.documentKey,t.documentKey)}function Kk(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Wk=function(){function e(t){Yt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Wt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Jt(e,[{key:"$e",value:function(e){var t=Ym(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Xm(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Wt(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Qk=function(){function e(){Yt(this,e),this.qe=new $k}return Jt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),ak.resolve()}},{key:"getCollectionParents",value:function(e,t){return ak.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ak.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ak.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ak.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return ak.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return ak.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ak.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return ak.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ak.resolve()}}]),e}(),$k=function(){function e(){Yt(this,e),this.index={}}return Jt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pg(sm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Pg(sm.comparator)).toArray()}}]),e}(),Yk=new Uint8Array(0),Xk=function(){function e(t,n){Yt(this,e),this.user=t,this.databaseId=n,this.Ke=new $k,this.Ge=new Tg((function(e){return oy(e)}),(function(e,t){return sy(e,t)})),this.uid=t.uid||""}return Jt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Pb(i)};return Jk(e).put(a)}return ak.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[em(t),""],!1,!0);return Jk(e).qt(r).next((function(e){var r,i=Wt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Db(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=ew(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ew(e),r=tw(e),i=Zk(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Zk(e),i=!0,a=new Map;return ak.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Bg(),o=[];return ak.forEach(a,(function(i,a){var s;Pv("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(oy(t)));var u=function(e,t){var n=Ym(t);if(void 0===n)return null;var r,i=Wt(cy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Wt(Xm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Wt(cy(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Wt(Xm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ly(e,o.fieldPath,e.startAt):fy(e,o.fieldPath,e.startAt);if(!s.value)return null;r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new wy(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Wt(Xm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?fy(e,o.fieldPath,e.endAt):ly(e,o.fieldPath,e.endAt);if(!s.value)return null;r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new wy(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),p=n.We(i,a,c),v=n.ze(i.indexId,u,h,!!l&&l.inclusive,d,!!f&&f.inclusive,p);return ak.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Em.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ak.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.He(t[u/c]):Yk,h=n?s.Je(e,f,n[u%c],r):s.Ye(e),d=i?s.Xe(e,f,i[u%c],a):s.Ye(e+1);l.push.apply(l,y(s.createRange(h,d,o.map((function(t){return s.Je(e,f,t,!0)})))))},h=0;h<u;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Hk(e,Em.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Hk(e,Em.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Hk(e,Em.empty(),Yk,Yk)}},{key:"getFieldIndex",value:function(e,t){var n=new Wk(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new qk,i=Wt(Xm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);Mk.fe.Zt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new qk;return Mk.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new qk;return Mk.fe.Zt(Dm(this.databaseId,t),n.Ne(function(e){var t=Xm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new qk);var i,a=0,o=Wt(Xm(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Wt(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.en(t,u.fieldPath)&&Lm(c))r=this.nn(r,u,c);else{var h=f.Ne(u.kind);Mk.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=y(e),a=[],o=Wt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Wt(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new qk;f.seed(l.Se()),Mk.fe.Zt(u,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof hy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ew(e),i=tw(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return ak.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Zm(t.sequenceNumber,new ny(Ik(t.readTime),new Em(Db(t.documentKey)),t.largestBatchId)):Zm.empty(),r=e.fields.map((function(e){var t=v(e,2),n=t[0],r=t[1];return new Jm(cm.fromServerFormat(n),r)}));return new $m(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Jv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ew(e),a=tw(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ak.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ek(r.readTime),documentKey:Pb(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ak.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ak.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ak.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?ak.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Zk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Zk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Zk(e),i=new Pg(Gk);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Hk(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Pg(Gk),r=this.Ze(t,e);if(null==r)return n;var i=Ym(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Lm(a)){var o,s=Wt(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Hk(t.indexId,e.key,this.He(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Hk(t.indexId,e.key,Yk,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Pv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Rg(a),u=Rg(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Rg(o)):l?(i(s),s=Rg(a)):(s=Rg(a),u=Rg(o))}}(r,i,Gk,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),ak.waitFor(o)}},{key:"rn",value:function(e){var t=1;return tw(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Gk(e,t)})).filter((function(e,t,n){return!t||0!==Gk(e,n[t-1])}));var r=[];r.push(e);var i,a=Wt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Gk(o,e),u=Gk(o,t);if(0===s)r[0]=e.ke();else if(s>0&&u<0)r.push(o),r.push(o.ke());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Yk,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Yk,[]]));return c}}]),e}();function Jk(e){return mk(e,"collectionParents")}function Zk(e){return mk(e,"indexEntries")}function ew(e){return mk(e,"indexConfiguration")}function tw(e){return mk(e,"indexState")}var nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rw=function(){function e(t,n,r){Yt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Jt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function iw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Lv(1===s)})));var c,l=[],f=Wt(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Mb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ak.waitFor(a).next((function(){return l}))}function aw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw jv();t=e.noDocument}return JSON.stringify(t).length}rw.DEFAULT_COLLECTION_PERCENTILE=10,rw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rw.DEFAULT=new rw(41943040,rw.DEFAULT_COLLECTION_PERCENTILE,rw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rw.DISABLED=new rw(-1,0,0);var ow=function(){function e(t,n,r,i){Yt(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return Jt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uw(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=cw(e),o=uw(e);return o.add({}).next((function(s){Lv("number"==typeof s);var u,c=new yk(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return yb(e.Jt,t)})),i=n.mutations.map((function(t){return yb(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Pg((function(e,t){return Jv(e.canonicalString(),t.canonicalString())})),d=Wt(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Mb(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Fb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[s]=c.keys()})),ak.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return uw(e).get(t).next((function(e){return e?(Lv(e.userId===n.userId),Sk(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?ak.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return uw(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Lv(t.batchId>=r),a=Sk(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uw(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uw(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Sk(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Lb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return cw(e).Wt({range:i},(function(r,i,o){var s=v(r,3),u=s[0],c=s[1],l=s[2],f=Db(c);if(u===n.userId&&t.path.isEqual(f))return uw(e).get(l).next((function(e){if(!e)throw jv();Lv(e.userId===n.userId),a.push(Sk(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Pg(Jv),i=[];return t.forEach((function(t){var a=Lb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=cw(e).Wt({range:o},(function(e,i,a){var o=v(e,3),s=o[0],u=o[1],c=o[2],l=Db(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),ak.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Lb(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Pg(Jv);return cw(e).Wt({range:o},(function(e,t,a){var o=v(e,3),u=o[0],c=o[1],l=o[2],f=Db(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.dn(e,s)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(uw(e).get(t).next((function(e){if(null===e)throw jv();Lv(e.userId===n.userId),r.push(Sk(n.M,e))})))})),ak.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return iw(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),ak.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ak.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return cw(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Db(e[1]);i.push(a)}else r.done()})).next((function(){Lv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return sw(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return lw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Lv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function sw(e,t,n){var r=Lb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return cw(e).Wt({range:a,jt:!0},(function(e,n,r){var a=v(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function uw(e){return mk(e,"mutations")}function cw(e){return mk(e,"documentMutations")}function lw(e){return mk(e,"mutationQueues")}var fw=function(){function e(t){Yt(this,e),this.mn=t}return Jt(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),hw=function(){function e(t,n){Yt(this,e),this.referenceDelegate=t,this.M=n}return Jt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new fw(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return nm.fromTimestamp(new tm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return dw(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Lv(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return dw(e).Wt((function(o,s){var u=Tk(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return ak.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return dw(e).Wt((function(e,n){var r=Tk(n);t(r)}))}},{key:"pn",value:function(e){return pw(e).get("targetGlobalKey").next((function(e){return Lv(null!==e),e}))}},{key:"In",value:function(e,t){return pw(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return dw(e).put(Nk(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=oy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dw(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Tk(n);sy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=vw(e);return t.forEach((function(t){var o=Pb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ak.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=vw(e);return ak.forEach(t,(function(t){var a=Pb(t.path);return ak.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=vw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=vw(e),i=Bg();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Db(e[1]),a=new Em(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Pb(t.path),r=IDBKeyRange.bound([n],[em(n)],!1,!0),i=0;return vw(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=v(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return dw(e).get(t).next((function(e){return e?Tk(e):null}))}}]),e}();function dw(e){return mk(e,"targets")}function pw(e){return mk(e,"targetGlobal")}function vw(e){return mk(e,"targetDocuments")}function mw(e){return yw.apply(this,arguments)}function yw(){return yw=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Fv.FAILED_PRECONDITION&&t.message===rk){e.next=2;break}throw t;case 2:Pv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),yw.apply(this,arguments)}function gw(e,t){var n=v(e,2),r=n[0],i=n[1],a=v(t,2),o=a[0],s=a[1],u=Jv(r,o);return 0===u?Jv(i,s):u}var bw=function(){function e(t){Yt(this,e),this.An=t,this.buffer=new Pg(gw),this.Rn=0}return Jt(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),kw=function(){function e(t,n){Yt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return Jt(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Pv("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,$t(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!lk(n.t0)){n.next=12;break}Pv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,mw(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ww=function(){function e(t,n){Yt(this,e),this.Dn=t,this.params=n}return Jt(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ak.resolve($v.A);var r=new bw(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pv("LruGarbageCollector","Garbage collection skipped; disabled"),ak.resolve(nw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),nw):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Pv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Av()<=zn.DEBUG&&Pv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),ak.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),xw=function(){function e(t,n){Yt(this,e),this.db=t,this.garbageCollector=function(e,t){return new ww(e,t)}(this,n)}return Jt(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return _w(e,n)}},{key:"removeReference",value:function(e,t,n){return _w(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return _w(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return lw(e).zt((function(r){return sw(e,r,t).next((function(e){return e&&(n=!0),ak.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,s){if(s<=t){var u=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,nm.min()),vw(e).delete([0,Pb(o.path)])}))}));i.push(u)}})).next((function(){return ak.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return _w(e,t)}},{key:"Mn",value:function(e,t){var n,r=vw(e),i=$v.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=v(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==$v.A&&t(new Em(Db(n)),i),i=u,n=s):i=$v.A})).next((function(){i!==$v.A&&t(new Em(Db(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function _w(e,t){return vw(e).put(function(e,t){return{targetId:0,path:Pb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ew=function(){function e(){Yt(this,e),this.changes=new Tg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Jt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ak.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Iw=function(){function e(t){Yt(this,e),this.M=t}return Jt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Nw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Nw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_k(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Qm.newInvalidDocument(t);return Nw(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cw(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Qm.newInvalidDocument(t)};return Nw(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cw(t))},(function(e,i){r={document:n.$n(t,i),size:aw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=jg();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=jg(),i=new Ng(Em.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,aw(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return ak.resolve();var r=new Pg(Pw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Cw(r.first()),Cw(r.last())),a=r.getIterator(),o=a.getNext();return Nw(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Em.fromSegments([].concat(y(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Pw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Cw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),_k(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nw(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=jg(),i=Wt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Em.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=jg(),o=Aw(t,n),s=Aw(t,ny.max());return Nw(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.$n(Em.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Sw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Tw(e).get("remoteDocumentGlobalKey").next((function(e){return Lv(!!e),e}))}},{key:"Fn",value:function(e,t){return Tw(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=vb(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Em.fromSegments(t.noDocument.path),i=Ik(t.noDocument.readTime);n=Qm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return jv();var a=Em.fromSegments(t.unknownDocument.path),o=Ik(t.unknownDocument.version);n=Qm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new tm(e[0],e[1]);return nm.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(nm.min()))return n}return Qm.newInvalidDocument(e)}}]),e}(),Sw=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Tg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Jt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Pg((function(e,t){return Jv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=xk(t.Kn.M,o);i=i.add(a.path.popLast());var c=aw(u);r+=c-s.size,n.push(t.Kn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=xk(t.Kn.M,o.convertToNoDocument(nm.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),ak.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ew);function Tw(e){return mk(e,"remoteDocumentGlobal")}function Nw(e){return mk(e,"remoteDocumentsV14")}function Cw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Aw(e,t){var n=t.documentKey.path.toArray();return[e,_k(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Pw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Jv(n[a],r[a]))return i;return(i=Jv(n.length,r.length))||((i=Jv(n[n.length-2],r[r.length-2]))||Jv(n[n.length-1],r[r.length-1]))}var Ow=function(){function e(t){Yt(this,e),this.M=t}return Jt(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new ok("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jb,{unique:!0}),e.createObjectStore("documentMutations")}(e),Rw(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ak.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Rw(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ak.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Yb});t.createIndex("collectionPathOverlayIndex",Xb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ub});t.createIndex("documentKeyIndex",Vb),t.createIndex("collectionGroupIndex",Bb)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Kb}).createIndex("sequenceNumberIndex",Wb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Qb}).createIndex("documentKeyIndex",$b,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=aw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return ak.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return ak.forEach(r,(function(r){Lv(r.userId===n.userId);var i=Sk(t.M,r);return iw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new sm(n),o=function(e){return[0,Pb(e)]}(a);r.push(t.get(o).next((function(n){return n?ak.resolve():function(n){return t.put({targetId:0,path:Pb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ak.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Gb});var n=t.store("collectionParents"),r=new $k,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Pb(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new sm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=v(e,3),r=(n[0],n[1]),a=(n[2],Db(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Tk(r),a=Nk(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Em(sm.fromString(i.document.name).popFirst(5)):i.noDocument?Em.fromSegments(i.noDocument.path):i.unknownDocument?Em.fromSegments(i.unknownDocument.path):jv()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return ak.waitFor(r)}))}}]),e}();function Rw(e){e.createObjectStore("targetDocuments",{keyPath:qb}).createIndex("documentTargetsIndex",Hb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zb,{unique:!0}),e.createObjectStore("targetGlobal")}var Dw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jw=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Yt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=s,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Uv(Fv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xw(this,i),this.hs=n+"main",this.M=new wk(u),this.ls=new sk(this.hs,this.ts,new Ow(this.M)),this.fs=new hw(this.referenceDelegate,this.M),this.ds=function(e){return new Iw(e)}(this.M),this._s=new Ok,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Ov("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Jt(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Uv(Fv.FAILED_PRECONDITION,Dw);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new $v(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=$t(tn().mark((function n(r){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=$t(tn().mark((function t(n){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Mw(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(lk(t))return Pv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Pv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Lw(e).get("owner").next((function(e){return ak.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return Mw(e).delete(this.clientId)}},{key:"vs",value:function(){var e=$t(tn().mark((function e(){var t,n,r,i,a=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=mk(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ak.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=Wt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?ak.resolve(!0):Lw(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Uv(Fv.FAILED_PRECONDITION,Dw);return!1}}return!(!t.networkEnabled||!t.inForeground)||Mw(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Pv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=$t(tn().mark((function e(){var t=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new vk(e,$v.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Mw(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return ow.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Xk(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return jk.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Pv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=14===(i=this.ts)?nk:13===i?tk:12===i?ek:11===i?Zb:void jv();return this.ls.runTransaction(e,o,s,(function(i){return a=new vk(i,r.es?r.es.next():$v.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Ov("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Uv(Fv.FAILED_PRECONDITION,rk);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Lw(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Uv(Fv.FAILED_PRECONDITION,Dw)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lw(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Lw(e);return n.get("owner").next((function(e){return t.bs(e)?(Pv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ak.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ov("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!pn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Pv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ov("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Tf){Ov("Failed to set zombie client id.",Tf)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Tf){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return sk.vt()}}]),e}();function Lw(e){return mk(e,"owner")}function Mw(e){return mk(e,"clientMetadata")}function Fw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Uw=function(){function e(t,n,r){Yt(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Jt(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Wt(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Wt(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Em.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Ry(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Em(t)).next((function(e){var t=Mg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Mg();return this.indexManager.getCollectionParents(e,i).next((function(o){return ak.forEach(o,(function(o){var s=function(e,t){return new Sy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Wt(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Wt(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=Qm.newInvalidDocument(u),r=r.insert(u,c)),fg(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Vy(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Vw=function(){function e(t,n,r,i){Yt(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Jt(e,null,[{key:"Ys",value:function(t,n){var r,i=Bg(),a=Bg(),o=Wt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Bw=function(){function e(){Yt(this,e)}return Jt(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(nm.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Cy(t)||Ay(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Av()<=zn.DEBUG&&Pv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Uy(t)),i.Zs.Qs(e,t,ey(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Pg(zy(e));return t.forEach((function(t,r){Vy(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Av()<=zn.DEBUG&&Pv("QueryEngine","Using full collection scan to execute query:",Uy(t)),this.Zs.Qs(e,t,ny.min())}}]),e}(),zw=function(){function e(t,n,r,i){Yt(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Ng(Jv),this.ri=new Tg((function(e){return oy(e)}),sy),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return Jt(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Uw(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function qw(e,t,n,r){return new zw(e,t,n,r)}function Hw(e,t){return Gw.apply(this,arguments)}function Gw(){return Gw=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Bg(),u=Wt(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Wt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=Wt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Wt(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.ci.Ks(e,s).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Gw.apply(this,arguments)}function Kw(e,t){var n=Mv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ak.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Lv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function Ww(e){var t=Mv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Qw(e,t){var n=Mv(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(fm.EMPTY_BYTE_STRING,nm.min()).withLastLimboFreeSnapshotVersion(nm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var s=jg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($w(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(nm.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return ak.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ii=i,e}))}function $w(e,t,n){var r=Bg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=jg();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(nm.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Pv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Yw(e,t){var n=Mv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Xw(e,t){var n=Mv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,ak.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new kk(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function Jw(e,t,n){return Zw.apply(this,arguments)}function Zw(){return Zw=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mv(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),lk(e.t1)){e.next=12;break}throw e.t1;case 12:Pv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Zw.apply(this,arguments)}function ex(e,t,n){var r=Mv(e),i=nm.min(),a=Bg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Mv(e),i=r.ri.get(n);return void 0!==i?ak.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,jy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:nm.min(),n?a:Bg())})).next((function(e){return rx(r,By(t),e),{documents:e,li:a}}))}))}function tx(e,t){var n=Mv(e),r=Mv(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function nx(e,t){var n=Mv(e),r=n.oi.get(t)||nm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,ey(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return rx(n,t,e),e}))}function rx(e,t,n){var r=nm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function ix(e,t,n,r){return ax.apply(this,arguments)}function ax(){return ax=$t(tn().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Mv(t),o=Bg(),s=jg(),u=Wt(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Xw(a,function(e){return jy(Ny(sm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $w(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e,t){return sx.apply(this,arguments)}function sx(){return sx=$t(tn().mark((function e(t,n){var r,i,a,o=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Bg(),e.next=3,Xw(t,jy(Ck(n.bundledQuery)));case 3:return i=e.sent,a=Mv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ab(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(fm.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}var ux=function(){function e(t){Yt(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return Jt(e,[{key:"getBundleMetadata",value:function(e,t){return ak.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:ab(n.createTime)}),ak.resolve()}},{key:"getNamedQuery",value:function(e,t){return ak.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Ck(e.bundledQuery),readTime:ab(e.readTime)}}(t)),ak.resolve()}}]),e}(),cx=function(){function e(){Yt(this,e),this.overlays=new Ng(Em.comparator),this.gi=new Map}return Jt(e,[{key:"getOverlay",value:function(e,t){return ak.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),ak.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),ak.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Fg(),i=t.length+1,a=new Em(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return ak.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ng((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Fg(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Fg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return ak.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new bk(t,n));var a=this.gi.get(t);void 0===a&&(a=Bg(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),lx=function(){function e(){Yt(this,e),this.yi=new Pg(fx.pi),this.Ii=new Pg(fx.Ti)}return Jt(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new fx(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new fx(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new Em(new sm([])),r=new fx(n,e),i=new fx(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new Em(new sm([])),n=new fx(t,e),r=new fx(t,e+1),i=Bg();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new fx(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),fx=function(){function e(t,n){Yt(this,e),this.key=t,this.vi=n}return Jt(e,null,[{key:"pi",value:function(e,t){return Em.comparator(e.key,t.key)||Jv(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Jv(e.vi,t.vi)||Em.comparator(e.key,t.key)}}]),e}(),hx=function(){function e(t,n){Yt(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Pg(fx.pi)}return Jt(e,[{key:"checkEmpty",value:function(e){return ak.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new yk(i,t,n,r);this.Bs.push(a);var o,s=Wt(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Di=this.Di.add(new fx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return ak.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ak.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return ak.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ak.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return ak.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new fx(t,0),i=new fx(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),ak.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Pg(Jv);return t.forEach((function(e){var t=new fx(e,0),i=new fx(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),ak.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Em.isDocumentKey(i)||(i=i.child(""));var a=new fx(new Em(i),0),o=new Pg(Jv);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),ak.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Lv(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return ak.forEach(t.mutations,(function(i){var a=new fx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new fx(t,0),r=this.Di.firstAfterOrEqual(n);return ak.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,ak.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),dx=function(){function e(t){Yt(this,e),this.Mi=t,this.docs=new Ng(Em.comparator),this.size=0}return Jt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ak.resolve(n?n.document.mutableCopy():Qm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=jg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qm.newInvalidDocument(e))})),ak.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=jg(),i=new Em(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||ry(ty(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return ak.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){jv()}},{key:"Oi",value:function(e,t){return ak.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new px(this)}},{key:"getSize",value:function(e){return ak.resolve(this.size)}}]),e}(),px=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this)).Kn=e,r}return Jt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),ak.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Ew),vx=function(){function e(t){Yt(this,e),this.persistence=t,this.Fi=new Tg((function(e){return oy(e)}),sy),this.lastRemoteSnapshotVersion=nm.min(),this.highestTargetId=0,this.$i=0,this.Bi=new lx,this.targetCount=0,this.Li=fw.gn()}return Jt(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),ak.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ak.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ak.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),ak.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),ak.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new fw(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,ak.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),ak.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ak.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ak.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ak.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return ak.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),ak.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ak.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),ak.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return ak.resolve(n)}},{key:"containsKey",value:function(e,t){return ak.resolve(this.Bi.containsKey(t))}}]),e}(),mx=function(){function e(t,n){var r=this;Yt(this,e),this.Ui={},this.overlays={},this.es=new $v(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new vx(this),this.indexManager=new Qk,this.ds=new dx((function(e){return r.referenceDelegate.qi(e)})),this.M=new wk(n),this._s=new ux(this.M)}return Jt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new cx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new hx(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Pv("MemoryPersistence","Starting transaction:",e);var i=new yx(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return ak.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),yx=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Jt(n)}(ik),gx=function(){function e(t){Yt(this,e),this.persistence=t,this.ji=new lx,this.Wi=null}return Jt(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw jv()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),ak.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),ak.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),ak.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ak.forEach(this.Hi,(function(r){var i=Em.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,nm.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return ak.or([function(){return ak.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function bx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function kx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function wx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var xx=function(){function e(t,n,r,i){Yt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Jt(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Uv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ov("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),_x=function(){function e(t,n,r){Yt(this,e),this.targetId=t,this.state=n,this.error=r}return Jt(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ov("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ex=function(){function e(t,n){Yt(this,e),this.clientId=t,this.activeTargetIds=n}return Jt(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=qg(),o=0;i&&o<r.activeTargetIds.length;++o)i=_m(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ov("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ix=function(){function e(t,n){Yt(this,e),this.clientId=t,this.onlineState=n}return Jt(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ov("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Sx=function(){function e(){Yt(this,e),this.activeTargetIds=qg()}return Jt(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Tx=function(){function e(t,n,r,i,a){Yt(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Ng(Jv),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=bx(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new Sx),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return Jt(e,[{key:"start",value:function(){var e=$t(tn().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=Wt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(bx(this.persistenceKey,i)))&&(o=Ex.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(s=this.storage.getItem(this.dr))&&(u=this.mr(s))&&this.gr(u),c=Wt(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(wx(this.persistenceKey,e));if(n){var r=_x.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(wx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Pv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Pv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Pv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Pv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Ov("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable($t(tn().mark((function e(){var r,i,a,o,s,u,c;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}u=function(e){var t=$v.A;if(null!=e)try{var n=JSON.parse(e);Lv("number"==typeof n),t=n}catch(e){Ov("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==$v.A&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new xx(this.currentUser,e,t,n),i=kx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=kx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=wx(this.persistenceKey,e),i=new _x(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return Ex.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return xx.Yi(new Tv(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return _x.Yi(r,t)}},{key:"mr",value:function(e){return Ix.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:Pv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Fr(o,s).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=qg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Nx=function(){function e(){Yt(this,e),this.$r=new Sx,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Jt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new Sx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Cx=function(){function e(){Yt(this,e)}return Jt(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ax=function(){function e(){var t=this;Yt(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return Jt(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){Pv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Wt(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Pv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Wt(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Px={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ox=function(){function e(t){Yt(this,e),this.Wr=t.Wr,this.zr=t.zr}return Jt(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),Rx=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Jt(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Iv;o.listenOnce(kv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case bv.NO_ERROR:var t=o.getResponseJson();Pv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case bv.TIMEOUT:Pv("Connection",'RPC "'+e+'" timed out'),a(new Uv(Fv.DEADLINE_EXCEEDED,"Request time out"));break;case bv.HTTP_ERROR:var n=o.getStatus();if(Pv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fv).indexOf(t)>=0?t:Fv.UNKNOWN}(r.status);a(new Uv(s,r.message))}else a(new Uv(Fv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Uv(Fv.UNAVAILABLE,"Connection failed."));break;default:jv()}}finally{Pv("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yv(),a=gv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _v({})),this.ao(o.initMessageHeaders,t,n),dn()||mn()||hn().indexOf("Electron/")>=0||yn()||hn().indexOf("MSAppHost/")>=0||vn()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Pv("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Ox({Wr:function(e){l?Pv("Connection","Not sending because WebChannel is closed:",e):(c||(Pv("Connection","Opening WebChannel transport."),u.open(),c=!0),Pv("Connection","WebChannel sending:",e),u.send(e))},zr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Ev.EventType.OPEN,(function(){l||Pv("Connection","WebChannel transport opened.")})),h(u,Ev.EventType.CLOSE,(function(){l||(l=!0,Pv("Connection","WebChannel transport closed"),f.no())})),h(u,Ev.EventType.ERROR,(function(e){l||(l=!0,Rv("Connection","WebChannel transport errored:",e),f.no(new Uv(Fv.UNAVAILABLE,"The operation could not be completed")))})),h(u,Ev.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Lv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Pv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=kg[e];if(void 0!==t)return Sg(t)}(a),s=i.message;void 0===o&&(o=Fv.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new Uv(o,s)),u.close()}else Pv("Connection","WebChannel received:",n),f.so(n)}})),h(a,wv.STAT_EVENT,(function(e){e.stat===xv.PROXY?Pv("Connection","Detected buffering proxy"):e.stat===xv.NOPROXY&&Pv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){Yt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Jt(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);Pv("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return Pv("RestConnection","Received: ",e),e}),(function(t){throw Rv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Px[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function Dx(){return"undefined"!=typeof window?window:null}function jx(){return"undefined"!=typeof document?document:null}function Lx(e){return new tb(e,!0)}var Mx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Yt(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return Jt(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&Pv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),Fx=function(){function e(t,n,r,i,a,o,s,u){Yt(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Mx(t,n)}return Jt(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===Fv.RESOURCE_EXHAUSTED?(Ov(n.toString()),Ov("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===Fv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=v(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new Uv(Fv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To($t(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return Pv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(Pv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ux=function(e){zt(n,e);var t=Kt(n);function n(e,r,i,a,o,s){var u;return Yt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return Jt(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Lv(void 0===t||"string"==typeof t),fm.fromBase64String(t||"")):(Lv(void 0===t||t instanceof Uint8Array),fm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Fv.UNKNOWN:Sg(e.code);return new Uv(t,e.message||"")}(o);n=new Qg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=cb(e,u.document.name),l=ab(u.document.updateTime),f=new Km({mapValue:{fields:u.document.fields}}),h=Qm.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Kg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=cb(e,v.document),y=v.readTime?ab(v.readTime):nm.min(),g=Qm.newNoDocument(m,y),b=v.removedTargetIds||[];n=new Kg([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=cb(e,k.document),x=k.removedTargetIds||[];n=new Kg([],x,w,null)}else{if(!("filter"in t))return jv();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new Eg(E),S=_.targetId;n=new Wg(S,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return nm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?nm.min():t.readTime?ab(t.readTime):nm.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=hb(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=uy(r)?{documents:bb(e,r)}:{query:kb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rb(e,t.resumeToken):t.snapshotVersion.compareTo(nm.min())>0&&(n.readTime=nb(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=hb(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(Fx),Vx=function(e){zt(n,e);var t=Kt(n);function n(e,r,i,a,o,s){var u;return Yt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.zo=!1,u}return Jt(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,Ut(Mt(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Lv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Lv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ab(e.updateTime):ab(t);return n.isEqual(nm.min())&&(n=ab(t)),new og(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ab(e.commitTime);return this.listener.Yo(n,t)}return Lv(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=hb(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yb(t.M,e)}))};this.Fo(n)}}]),n}(Fx),Bx=function(e){zt(n,e);var t=Kt(n);function n(e,r,i,a){var o;return Yt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return Jt(n,[{key:"eu",value:function(){if(this.tu)throw new Uv(Fv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],s=a[1];return r.bo.oo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uv(Fv.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],s=a[1];return r.bo.ho(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uv(Fv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return Jt((function e(){Yt(this,e)}))}()),zx=function(){function e(t,n){Yt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return Jt(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Ov(t),this.iu=!1):Pv("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),qx=Jt((function e(t,n,r,i,a){var o=this;Yt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=e_(o),!e.t0){e.next=5;break}return Pv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mv(t)).fu.add(4),e.next=4,Kx(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,Hx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new zx(r,i)}));function Hx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=$t(tn().mark((function e(t){var n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!e_(t)){e.next=18;break}n=Wt(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Gx.apply(this,arguments)}function Kx(e){return Wx.apply(this,arguments)}function Wx(){return Wx=$t(tn().mark((function e(t){var n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wt(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Wx.apply(this,arguments)}function Qx(e,t){var n=Mv(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),Zx(n)?Jx(n):C_(n).xo()&&Yx(n,t))}function $x(e,t){var n=Mv(e),r=C_(n);n.lu.delete(t),r.xo()&&Xx(n,t),0===n.lu.size&&(r.xo()?r.Mo():e_(n)&&n.wu.set("Unknown"))}function Yx(e,t){e.mu.Z(t.targetId),C_(e).jo(t)}function Xx(e,t){e.mu.Z(t),C_(e).Wo(t)}function Jx(e){e.mu=new Yg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),C_(e).start(),e.wu.ru()}function Zx(e){return e_(e)&&!C_(e).Co()&&e.lu.size>0}function e_(e){return 0===Mv(e).fu.size}function t_(e){e.mu=void 0}function n_(e){return r_.apply(this,arguments)}function r_(){return r_=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){Yx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t_(t),Zx(t)?(t.wu.au(n),Jx(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t,n){return s_.apply(this,arguments)}function s_(){return s_=$t(tn().mark((function e(t,n,r){var i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof Qg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=$t(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Wt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Pv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,u_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Kg?t.mu.ut(n):n instanceof Wg?t.mu._t(n):t.mu.ht(n),r.isEqual(nm.min())){e.next=29;break}return e.prev=14,e.next=17,Ww(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(fm.EMPTY_BYTE_STRING,n.snapshotVersion)),Xx(e,t);var r=new kk(n.target,t,1,n.sequenceNumber);Yx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Pv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,u_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),s_.apply(this,arguments)}function u_(e,t,n){return c_.apply(this,arguments)}function c_(){return c_=$t(tn().mark((function e(t,n,r){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lk(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,Kx(t);case 5:t.wu.set("Offline"),r||(r=function(){return Ww(t.localStore)}),t.asyncQueue.enqueueRetryable($t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,Hx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){return t().catch((function(n){return u_(e,n,t)}))}function f_(e){return h_.apply(this,arguments)}function h_(){return h_=$t(tn().mark((function e(t){var n,r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mv(t),r=A_(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!d_(n)){e.next=19;break}return e.prev=3,e.next=6,Yw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,p_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,u_(n,e.t0);case 17:e.next=2;break;case 19:v_(n)&&m_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),h_.apply(this,arguments)}function d_(e){return e_(e)&&e.hu.length<10}function p_(e,t){e.hu.push(t);var n=A_(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function v_(e){return e_(e)&&!A_(e).Co()&&e.hu.length>0}function m_(e){A_(e).start()}function y_(e){return g_.apply(this,arguments)}function g_(){return g_=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A_(t).Zo();case 1:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function b_(e){return k_.apply(this,arguments)}function k_(){return k_=$t(tn().mark((function e(t){var n,r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A_(t),r=Wt(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function w_(e,t,n){return x_.apply(this,arguments)}function x_(){return x_=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=gk.from(i,n,r),e.next=3,l_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,f_(t);case 5:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function __(e,t){return E_.apply(this,arguments)}function E_(){return E_=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&A_(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ig(i=n.code)||i===Fv.ABORTED){e.next=7;break}return r=t.hu.shift(),A_(t).ko(),e.next=5,l_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,f_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:v_(t)&&m_(t);case 5:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function I_(e,t){return S_.apply(this,arguments)}function S_(){return S_=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Mv(t)).asyncQueue.verifyOperationInProgress(),Pv("RemoteStore","RemoteStore received new credentials"),i=e_(r),r.fu.add(3),e.next=6,Kx(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,Hx(r);case 12:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function T_(e,t){return N_.apply(this,arguments)}function N_(){return N_=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mv(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,Hx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,Kx(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function C_(e){return e.gu||(e.gu=function(e,t,n){var r=Mv(e);return r.eu(),new Ux(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:n_.bind(null,e),Yr:i_.bind(null,e),Qo:o_.bind(null,e)}),e.du.push(function(){var t=$t(tn().mark((function t(n){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),Zx(e)?Jx(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:t_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function A_(e){return e.yu||(e.yu=function(e,t,n){var r=Mv(e);return r.eu(),new Vx(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:y_.bind(null,e),Yr:__.bind(null,e),Xo:b_.bind(null,e),Yo:w_.bind(null,e)}),e.du.push(function(){var t=$t(tn().mark((function t(n){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,f_(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(Pv("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var P_=function(){function e(t,n,r,i,a){Yt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Vv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Jt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uv(Fv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function O_(e,t){if(Ov("AsyncQueue","".concat(t,": ").concat(e)),lk(e))return new Uv(Fv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var R_=function(){function e(t){Yt(this,e),this.comparator=t?function(e,n){return t(e,n)||Em.comparator(e.key,n.key)}:function(e,t){return Em.comparator(e.key,t.key)},this.keyedMap=Mg(),this.sortedSet=new Ng(this.comparator)}return Jt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),D_=function(){function e(){Yt(this,e),this.pu=new Ng(Em.comparator)}return Jt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):jv():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),j_=function(){function e(t,n,r,i,a,o,s,u){Yt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Jt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&My(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,R_.emptySet(n),a,r,i,!0,!1)}}]),e}(),L_=Jt((function e(){Yt(this,e),this.Tu=void 0,this.listeners=[]})),M_=Jt((function e(){Yt(this,e),this.queries=new Tg((function(e){return Fy(e)}),My),this.onlineState="Unknown",this.Eu=new Set}));function F_(e,t){return U_.apply(this,arguments)}function U_(){return U_=$t(tn().mark((function e(t,n){var r,i,a,o,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new L_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=O_(e.t0,"Initialization of query '".concat(Uy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&H_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),U_.apply(this,arguments)}function V_(e,t){return B_.apply(this,arguments)}function B_(){return B_=$t(tn().mark((function e(t,n){var r,i,a,o,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function z_(e,t){var n,r=Mv(e),i=!1,a=Wt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Wt(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&H_(r)}function q_(e,t,n){var r=Mv(e),i=r.queries.get(t);if(i){var a,o=Wt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function H_(e){e.Eu.forEach((function(e){e.next()}))}var G_=function(){function e(t,n,r){Yt(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Jt(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Wt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new j_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=j_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),K_=function(){function e(t,n){Yt(this,e),this.payload=t,this.byteLength=n}return Jt(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),W_=function(){function e(t){Yt(this,e),this.M=t}return Jt(e,[{key:"fi",value:function(e){return cb(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?vb(this.M,e.document,!1):Qm.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return ab(e)}}]),e}(),Q_=function(){function e(t,n,r){Yt(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$_(t)}return Jt(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=sm.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new W_(this.M),i=Wt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.fi(a.metadata.name),u=Wt(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Bg()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=$t(tn().mark((function e(){var t,n,r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ix(this.localStore,new W_(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=Wt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ox(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function $_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Y_=Jt((function e(t){Yt(this,e),this.key=t})),X_=Jt((function e(t){Yt(this,e),this.key=t})),J_=function(){function e(t,n){Yt(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Bg(),this.mutatedKeys=Bg(),this.Uu=zy(t),this.qu=new R_(this.Uu)}return Jt(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new D_,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Cy(this.query)&&i.size===this.query.limit?i.last():null,c=Ay(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Vy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Uu(f,u)>0||c&&n.Uu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Cy(this.query)||Ay(this.query))for(;o.size>this.query.limit;){var l=Cy(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:s,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jv()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],s=0===this.Lu.size&&this.current?1:0,u=s!==this.Bu;return this.Bu=s,0!==a.length||u?{snapshot:new j_(this.query,e.qu,i,a,e.mutatedKeys,0===s,u,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new D_,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=Bg(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new X_(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new Y_(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=Bg();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return j_.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),Z_=Jt((function e(t,n,r){Yt(this,e),this.query=t,this.targetId=n,this.view=r})),eE=Jt((function e(t){Yt(this,e),this.key=t,this.Zu=!1})),tE=function(){function e(t,n,r,i,a,o){Yt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Tg((function(e){return Fy(e)}),My),this.na=new Map,this.sa=new Set,this.ia=new Ng(Em.comparator),this.ra=new Map,this.oa=new lx,this.ua={},this.aa=new Map,this.ca=fw.yn(),this.onlineState="Unknown",this.ha=void 0}return Jt(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=$t(tn().mark((function e(t,n){var r,i,a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$E(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,Xw(r.localStore,jy(n));case 8:return s=e.sent,r.isPrimaryClient&&Qx(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,iE(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t,n,r){return aE.apply(this,arguments)}function aE(){return aE=$t(tn().mark((function e(t,n,r,i){var a,o,s,u,c,l;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=$t(tn().mark((function e(t,n,r,i){var a,o,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,ex(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(IE(t,n.targetId,s.Hu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ex(t.localStore,n,!0);case 3:return a=e.sent,o=new J_(n,a.li),s=o.Gu(a.documents),u=Gg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),IE(t,r,c.Hu),l=new Z_(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return sE.apply(this,arguments)}function sE(){return sE=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mv(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!My(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Jw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),$x(r.remoteStore,i.targetId),_E(r,i.targetId)})).catch(mw);case 9:e.next=14;break;case 11:return _E(r,i.targetId),e.next=14,Jw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function uE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=$t(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=YE(t),e.prev=1,e.next=4,function(e,t){var n,r=Mv(e),i=tm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Bg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,s=[],u=Wt(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=hg(c,n.get(c.key));null!=l&&s.push(new mg(c.key,l,Wm(l.value.mapValue),sg.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Ng(Jv)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,NE(i,a.changes);case 9:return e.next=11,f_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=O_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mv(t),e.prev=1,e.next=4,Qw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Lv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Lv(n.Zu):e.removedDocuments.size>0&&(Lv(n.Zu),n.Zu=!1))})),e.next=8,NE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,mw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),fE.apply(this,arguments)}function hE(e,t,n){var r=Mv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Mv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Wt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&H_(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function dE(e,t,n){return pE.apply(this,arguments)}function pE(){return pE=$t(tn().mark((function e(t,n,r){var i,a,o,s,u,c;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Mv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ng(Em.comparator)).insert(o,Qm.newNoDocument(o,nm.min())),u=Bg().add(o),c=new Hg(nm.min(),new Map,new Pg(Jv),s,u),e.next=9,lE(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),TE(i),e.next=16;break;case 14:return e.next=16,Jw(i.localStore,n,!1).then((function(){return _E(i,n,r)})).catch(mw);case 16:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return mE.apply(this,arguments)}function mE(){return mE=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mv(t),i=n.batch.batchId,e.prev=1,e.next=4,Kw(r.localStore,n);case 4:return a=e.sent,xE(r,i,null),wE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,NE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mE.apply(this,arguments)}function yE(e,t,n){return gE.apply(this,arguments)}function gE(){return gE=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mv(t),e.prev=1,e.next=4,function(e,t){var n=Mv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Lv(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,xE(i,n,r),wE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,NE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,mw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gE.apply(this,arguments)}function bE(e,t){return kE.apply(this,arguments)}function kE(){return kE=$t(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e_((r=Mv(t)).remoteStore)||Pv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Mv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=O_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),kE.apply(this,arguments)}function wE(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function xE(e,t,n){var r=Mv(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function _E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Wt(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||EE(e,t)}))}function EE(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&($x(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),TE(e))}function IE(e,t,n){var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Y_?(e.oa.addReference(a.key,t),SE(e,a)):a instanceof X_?(Pv("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||EE(e,a.key)):jv()}}catch(o){i.e(o)}finally{i.f()}}function SE(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(Pv("SyncEngine","New document in limbo: "+n),e.sa.add(r),TE(e))}function TE(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new Em(sm.fromString(t)),r=e.ca.next();e.ra.set(r,new eE(n)),e.ia=e.ia.insert(n,r),Qx(e.remoteStore,new kk(jy(Ny(n.path)),r,2,$v.A))}}function NE(e,t,n){return CE.apply(this,arguments)}function CE(){return CE=$t(tn().mark((function e(t,n,r){var i,a,o,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mv(t),a=[],o=[],s=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){s.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Vw.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ta.Qo(a),e.next=9,function(){var e=$t(tn().mark((function e(t,n){var r,i,a,o,s,u,c,l;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ak.forEach(n,(function(t){return ak.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ak.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),lk(e.t0)){e.next=10;break}throw e.t0;case 10:Pv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Wt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ii.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function AE(e,t){return PE.apply(this,arguments)}function PE(){return PE=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Mv(t)).currentUser.isEqual(n)){e.next=11;break}return Pv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Hw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new Uv(Fv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,NE(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function OE(e,t){var n=Mv(e),r=n.ra.get(t);if(r&&r.Zu)return Bg().add(r.key);var i=Bg(),a=n.na.get(t);if(!a)return i;var o,s=Wt(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ea.get(u);i=i.unionWith(c.view.Ku)}}catch(l){s.e(l)}finally{s.f()}return i}function RE(e,t){return DE.apply(this,arguments)}function DE(){return DE=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mv(t),e.next=3,ex(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&IE(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function jE(e,t){return LE.apply(this,arguments)}function LE(){return LE=$t(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mv(t),e.abrupt("return",nx(r.localStore,n).then((function(e){return NE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t,n,r){return FE.apply(this,arguments)}function FE(){return FE=$t(tn().mark((function e(t,n,r,i){var a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Mv(t),e.next=3,function(e,t){var n=Mv(e),r=Mv(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):ak.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,f_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(xE(a,n,i||null),wE(a,n),function(e,t){Mv(Mv(e).Bs)._n(t)}(a.localStore,n)):jv();case 11:return e.next=13,NE(a,o);case 13:e.next=16;break;case 15:Pv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function UE(e,t){return VE.apply(this,arguments)}function VE(){return VE=$t(tn().mark((function e(t,n){var r,i,a,o,s,u,c,l;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($E(r=Mv(t)),YE(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,BE(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,T_(r.remoteStore,!0);case 9:o=Wt(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Qx(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return _E(r,t),Jw(r.localStore,t,!0)})),$x(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,BE(r,c);case 21:return function(e){var t=Mv(e);t.ra.forEach((function(e,n){$x(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new Ng(Em.comparator)}(r),r.ha=!1,e.next=25,T_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function BE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=$t(tn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Mv(t),a=[],o=[],s=Wt(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,Xw(i.localStore,jy(f[0]));case 11:l=e.sent,h=Wt(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,RE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,tx(i.localStore,c);case 36:return y=e.sent,e.next=39,Xw(i.localStore,y);case 39:return l=e.sent,e.next=42,iE(i,qE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),zE.apply(this,arguments)}function qE(e){return Ty(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function HE(e){var t=Mv(e);return Mv(Mv(t.localStore).persistence).Fs()}function GE(e,t,n,r){return KE.apply(this,arguments)}function KE(){return KE=$t(tn().mark((function e(t,n,r,i){var a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Mv(t)).ha){e.next=3;break}return e.abrupt("return",void Pv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,nx(a.localStore,By(o[0]));case 10:return s=e.sent,u=Hg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,NE(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Jw(a.localStore,n,!0);case 17:return _E(a,n,i),e.abrupt("break",20);case 19:jv();case 20:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function WE(e,t,n){return QE.apply(this,arguments)}function QE(){return QE=$t(tn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$E(t)).ha){e.next=45;break}a=Wt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.na.has(s)){e.next=10;break}return Pv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,tx(i.localStore,s);case 12:return u=e.sent,e.next=15,Xw(i.localStore,u);case 15:return c=e.sent,e.next=18,iE(i,qE(u),c.targetId,!1);case 18:Qx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Wt(r),e.prev=30,h=tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,Jw(i.localStore,t,!1).then((function(){$x(i.remoteStore,t),_E(i,t)})).catch(mw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),QE.apply(this,arguments)}function $E(e){var t=Mv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dE.bind(null,t),t.ta.Qo=z_.bind(null,t.eventManager),t.ta.fa=q_.bind(null,t.eventManager),t}function YE(e){var t=Mv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yE.bind(null,t),t}function XE(e,t,n){var r=Mv(e);(function(){var e=$t(tn().mark((function e(t,n,r){var i,a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Mv(e),r=ab(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress($_(i)),a=new Q_(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,NE(t,u.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Mv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Rv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var JE=function(){function e(){Yt(this,e),this.synchronizeTabs=!1}return Jt(e,[{key:"initialize",value:function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Lx(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return qw(this.persistence,new Bw,e.initialUser,this.M)}},{key:"wa",value:function(e){return new mx(gx.zi,this.M)}},{key:"_a",value:function(e){return new Nx}},{key:"terminate",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ZE=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Jt(n,[{key:"initialize",value:function(){var e=$t(tn().mark((function e(t){var r=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(Mt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,YE(this.ya.syncEngine);case 6:return e.next=8,f_(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return qw(this.persistence,new Bw,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new kw(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=Fw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rw.withCacheSize(this.cacheSizeBytes):rw.DEFAULT;return new jw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Dx(),jx(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new Nx}}]),n}(JE),eI=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Jt(n,[{key:"initialize",value:function(){var e=$t(tn().mark((function e(t){var r,i=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(Mt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof Tx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:ME.bind(null,r),Or:GE.bind(null,r),Fr:WE.bind(null,r),Fs:HE.bind(null,r),kr:jE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UE(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=Dx();if(!Tx.vt(t))throw new Uv(Fv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ZE),tI=function(){function e(){Yt(this,e)}return Jt(e,[{key:"initialize",value:function(){var e=$t(tn().mark((function e(t,n){var r=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=AE.bind(null,this.syncEngine),e.next=12,T_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new M_}},{key:"createDatastore",value:function(e){var t,n=Lx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Rx(t));return function(e,t,n,r){return new Bx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return hE(o.syncEngine,e,0)},a=Ax.vt()?new Ax:new Cx,new qx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new tE(e,t,n,r,i,a);return o&&(s.ha=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mv(t),Pv("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,Kx(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function nI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return $t(tn().mark((function r(){var i;return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return $t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rI=function(){function e(t){Yt(this,e),this.observer=t,this.muted=!1}return Jt(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),iI=function(){function e(t,n){var r=this;Yt(this,e),this.Ta=t,this.M=n,this.metadata=new Vv,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Jt(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=$t(tn().mark((function e(){var t,n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new K_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=$t(tn().mark((function e(){var t,n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=$t(tn().mark((function e(){var t,n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aI=function(){function e(t){Yt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Jt(e,[{key:"lookup",value:function(){var e=$t(tn().mark((function e(t){var n,r=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Uv(Fv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=$t(tn().mark((function e(t,n){var r,i,a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mv(t),i=hb(r.M)+"/documents",a={documents:n.map((function(e){return ub(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=mb(r.M,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Lv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new xg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=$t(tn().mark((function e(){var t,n=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Em.fromPath(t);n.mutations.push(new _g(r,n.precondition(r)))})),e.next=7,function(){var e=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mv(t),i=hb(r.M)+"/documents",a={writes:n.map((function(e){return yb(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jv();t=nm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Uv(Fv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sg.updateTime(t):sg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nm.min()))throw new Uv(Fv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sg.updateTime(t)}return sg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),oI=function(){function e(t,n,r,i){Yt(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new Mx(this.asyncQueue,"transaction_retry")}return Jt(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To($t(tn().mark((function t(){var n,r;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new aI(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!wm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ig(t)}return!1}}]),e}(),sI=function(){function e(t,n,r,i){var a=this;Yt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tv.UNAUTHENTICATED,this.clientId=Xv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Pv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Jt(e,[{key:"getConfiguration",value:function(){var e=$t(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Uv(Fv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Vv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted($t(tn().mark((function n(){var r;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=O_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function uI(e,t){return cI.apply(this,arguments)}function cI(){return cI=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Pv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Hw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e,t){return fI.apply(this,arguments)}function fI(){return fI=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,hI(t);case 3:return r=e.sent,Pv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return I_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return I_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e){return dI.apply(this,arguments)}function dI(){return dI=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Pv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,uI(t,new JE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e){return vI.apply(this,arguments)}function vI(){return vI=$t(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Pv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,lI(t,new tI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e){return hI(e).then((function(e){return e.persistence}))}function yI(e){return hI(e).then((function(e){return e.localStore}))}function gI(e){return pI(e).then((function(e){return e.remoteStore}))}function bI(e){return pI(e).then((function(e){return e.syncEngine}))}function kI(e){return wI.apply(this,arguments)}function wI(){return wI=$t(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=nE.bind(null,n.syncEngine),r.onUnlisten=oE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vv;return e.asyncQueue.enqueueAndForget($t(tn().mark((function i(){return tn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rI({next:function(a){t.enqueueAndForget((function(){return V_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Uv(Fv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Uv(Fv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new G_(Ny(n.path),a,{includeMetadataChanges:!0,Cu:!0});return F_(e,o)},i.next=3,kI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function _I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vv;return e.asyncQueue.enqueueAndForget($t(tn().mark((function i(){return tn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rI({next:function(n){t.enqueueAndForget((function(){return V_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Uv(Fv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new G_(n,a,{includeMetadataChanges:!0,Cu:!0});return F_(e,o)},i.next=3,kI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var EI=new Map;function II(e,t,n){if(!n)throw new Uv(Fv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function SI(e,t,n,r){if(!0===t&&!0===r)throw new Uv(Fv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function TI(e){if(!Em.isDocumentKey(e))throw new Uv(Fv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function NI(e){if(Em.isDocumentKey(e))throw new Uv(Fv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function CI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":jv()}function AI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uv(Fv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=CI(e);throw new Uv(Fv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function PI(e,t){if(t<=0)throw new Uv(Fv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var OI=function(){function e(t){var n;if(Yt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Uv(Fv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uv(Fv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,SI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Jt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),RI=function(){function e(t,n,r){Yt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OI({}),this._settingsFrozen=!1,t instanceof km?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uv(Fv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new km(e.options.projectId)}(t))}return Jt(e,[{key:"app",get:function(){if(!this._app)throw new Uv(Fv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Uv(Fv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zv;switch(e.type){case"gapi":var t=e.client;return Lv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Kv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Uv(Fv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=EI.get(e);t&&(Pv("ComponentProvider","Removing Datastore"),EI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function DI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=AI(e,RI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Rv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Tv.MOCK_USER;else{o=fn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Uv(Fv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Tv(u)}e._authCredentials=new qv(new Bv(o,s))}}var jI=function(){function e(t,n,r){Yt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Jt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),LI=function(){function e(t,n,r){Yt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Jt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),MI=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this,e,r,Ny(i)))._path=i,a.type="collection",a}return Jt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jI(this.firestore,null,new Em(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(LI);function FI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),II("collection","path",t),e instanceof RI){var a=sm.fromString.apply(sm,[t].concat(r));return NI(a),new MI(e,null,a)}if(!(e instanceof jI||e instanceof MI))throw new Uv(Fv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sm.fromString.apply(sm,[t].concat(r)));return NI(o),new MI(e.firestore,null,o)}function UI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),1===arguments.length&&(t=Xv.R()),II("doc","path",t),e instanceof RI){var a=sm.fromString.apply(sm,[t].concat(r));return TI(a),new jI(e,null,new Em(a))}if(!(e instanceof jI||e instanceof MI))throw new Uv(Fv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sm.fromString.apply(sm,[t].concat(r)));return TI(o),new jI(e.firestore,e instanceof MI?e.converter:null,new Em(o))}function VI(e,t){return e=On(e),t=On(t),(e instanceof jI||e instanceof MI)&&(t instanceof jI||t instanceof MI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function BI(e,t){return e=On(e),t=On(t),e instanceof LI&&t instanceof LI&&e.firestore===t.firestore&&My(e._query,t._query)&&e.converter===t.converter}var zI=function(){function e(){var t=this;Yt(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Mx(this,"async_queue_retry"),this.qa=function(){var e=jx();e&&Pv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=jx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return Jt(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=jx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Vv;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=$t(tn().mark((function e(){var t=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),lk(e.t0)){e.next=12;break}throw e.t0;case 12:Pv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ov("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=P_.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&jv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=$t(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=Wt(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Wt(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function qI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Wt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var HI=function(){function e(){Yt(this,e),this._progressObserver={},this._taskCompletionResolver=new Vv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Jt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),GI=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new zI,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Jt(n,[{key:"_terminate",value:function(){return this._firestoreClient||WI(this),this._firestoreClient.terminate()}}]),n}(RI);function KI(e){return e._firestoreClient||WI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new bm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function QI(e,t,n){var r=new Vv;return e.asyncQueue.enqueue($t(tn().mark((function i(){return tn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,uI(e,n);case 3:return i.next=5,lI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Fv.FAILED_PRECONDITION||e.code===Fv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function $I(e){return function(e){return e.asyncQueue.enqueue($t(tn().mark((function t(){var n,r;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mI(e);case 2:return n=t.sent,t.next=5,gI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Mv(e);return t.fu.delete(0),Hx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(KI(e=AI(e,GI)))}function YI(e){return function(e){return e.asyncQueue.enqueue($t(tn().mark((function t(){var n,r;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mI(e);case 2:return n=t.sent,t.next=5,gI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mv(t)).fu.add(0),e.next=4,Kx(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(KI(e=AI(e,GI)))}function XI(e,t){var n=KI(e=AI(e,GI)),r=new HI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new iI(e,t)}(function(e,t){if(e instanceof Uint8Array)return nI(e,t);if(e instanceof ArrayBuffer)return nI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Lx(t));e.asyncQueue.enqueueAndForget($t(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=XE,t.next=3,bI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function JI(e,t){return function(e,t){return e.asyncQueue.enqueue($t(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Mv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,yI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(KI(e=AI(e,GI)),t).then((function(t){return t?new LI(e,null,t.query):null}))}function ZI(e){if(e._initialized||e._terminated)throw new Uv(Fv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eS=function(){function e(){Yt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cm(n)}return Jt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tS=function(){function e(t){Yt(this,e),this._byteString=t}return Jt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fm.fromBase64String(t))}catch(t){throw new Uv(Fv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fm.fromUint8Array(t))}}]),e}(),nS=Jt((function e(t){Yt(this,e),this._methodName=t})),rS=function(){function e(t,n){if(Yt(this,e),!isFinite(t)||t<-90||t>90)throw new Uv(Fv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Uv(Fv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Jt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Jv(this._lat,e._lat)||Jv(this._long,e._long)}}]),e}(),iS=/^__.*__$/,aS=function(){function e(t,n,r){Yt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Jt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new mg(e,this.data,this.fieldMask,t,this.fieldTransforms):new vg(e,this.data,t,this.fieldTransforms)}}]),e}(),oS=function(){function e(t,n,r){Yt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Jt(e,[{key:"toMutation",value:function(e,t){return new mg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function sS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jv()}}var uS=function(){function e(t,n,r,i,a,o){Yt(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Jt(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return NS(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(sS(this.Xa)&&iS.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),cS=function(){function e(t,n,r){Yt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Lx(t)}return Jt(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uS({Xa:e,methodName:t,uc:n,path:cm.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function lS(e){var t=e._freezeSettings(),n=Lx(e._databaseId);return new cS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);ES("Data must be an object, but it was:",o,r);var s,u,c=xS(r,o);if(a.merge)s=new lm(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Wt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=IS(t,d,n);if(!o.contains(p))throw new Uv(Fv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));CS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new lm(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new aS(new Km(c),s,u)}var hS=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nS);function dS(e,t,n){return new uS({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var pS=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"_toFieldTransform",value:function(e){return new ag(e.path,new Xy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nS),vS=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e)).cc=r,i}return Jt(n,[{key:"_toFieldTransform",value:function(e){var t=dS(this,e,!0),n=this.cc.map((function(e){return wS(e,t)})),r=new Jy(n);return new ag(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nS),mS=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e)).cc=r,i}return Jt(n,[{key:"_toFieldTransform",value:function(e){var t=dS(this,e,!0),n=this.cc.map((function(e){return wS(e,t)})),r=new eg(n);return new ag(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nS),yS=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e)).hc=r,i}return Jt(n,[{key:"_toFieldTransform",value:function(e){var t=new ng(e.M,Ky(e.M,this.hc));return new ag(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nS);function gS(e,t,n,r){var i=e.ac(1,t,n);ES("Data must be an object, but it was:",i,r);var a=[],o=Km.empty();im(r,(function(e,r){var s=TS(t,e,n);r=On(r);var u=i.sc(s);if(r instanceof hS)a.push(s);else{var c=wS(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new lm(a);return new oS(o,s,i.fieldTransforms)}function bS(e,t,n,r,i,a){var o=e.ac(1,t,n),s=[IS(t,r,n)],u=[i];if(a.length%2!=0)throw new Uv(Fv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(IS(t,a[c])),u.push(a[c+1]);for(var l=[],f=Km.empty(),h=s.length-1;h>=0;--h)if(!CS(l,s[h])){var d=s[h],p=u[h];p=On(p);var v=o.sc(d);if(p instanceof hS)l.push(d);else{var m=wS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new lm(l);return new oS(f,y,o.fieldTransforms)}function kS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wS(n,e.ac(r?4:3,t))}function wS(e,t){if(_S(e=On(e)))return ES("Unsupported field value:",t,e),xS(e,t);if(e instanceof nS)return function(e,t){if(!sS(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Wt(e);try{for(a.s();!(n=a.n()).done;){var o=wS(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=On(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ky(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=tm.fromDate(e);return{timestampValue:nb(t.M,n)}}if(e instanceof tm){var r=new tm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nb(t.M,r)}}if(e instanceof rS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tS)return{bytesValue:rb(t.M,e._byteString)};if(e instanceof jI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ob(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(CI(e)))}(e,t)}function xS(e,t){var n={};return am(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):im(e,(function(e,r){var i=wS(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _S(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tm||e instanceof rS||e instanceof tS||e instanceof jI||e instanceof nS)}function ES(e,t,n){if(!_S(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=CI(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function IS(e,t,n){if((t=On(t))instanceof eS)return t._internalPath;if("string"==typeof t)return TS(e,t);throw NS("Field path arguments must be of type string or ",e,!1,void 0,n)}var SS=new RegExp("[~\\*/\\[\\]]");function TS(e,t,n){if(t.search(SS)>=0)throw NS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return nn(eS,y(t.split(".")))._internalPath}catch(r){throw NS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function NS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Uv(Fv.INVALID_ARGUMENT,s+e+u)}function CS(e,t){return e.some((function(e){return e.isEqual(t)}))}var AS=function(){function e(t,n,r,i,a){Yt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Jt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new jI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new PS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(OS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),PS=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"data",value:function(){return Ut(Mt(n.prototype),"data",this).call(this)}}]),n}(AS);function OS(e,t){return"string"==typeof t?TS(e,t):t instanceof eS?t._internalPath:t._delegate._internalPath}var RS=function(){function e(t,n){Yt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Jt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),DS=function(e){zt(n,e);var t=Kt(n);function n(e,r,i,a,o,s){var u;return Yt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Jt(n,[{key:"exists",value:function(){return Ut(Mt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new jS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(OS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AS),jS=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ut(Mt(n.prototype),"data",this).call(this,e)}}]),n}(DS),LS=function(){function e(t,n,r,i){Yt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new RS(i.hasPendingWrites,i.fromCache),this.query=r}return Jt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jS(n._firestore,n._userDataWriter,r.key,r,new RS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Uv(Fv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new jS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new RS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new RS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:MS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function MS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jv()}}function FS(e,t){return e instanceof DS&&t instanceof DS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof LS&&t instanceof LS&&e._firestore===t._firestore&&BI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function US(e){if(Ay(e)&&0===e.explicitOrderBy.length)throw new Uv(Fv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VS=Jt((function e(){Yt(this,e)}));function BS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var zS=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return Jt(n,[{key:"_apply",value:function(e){var t=lS(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){eT(o,a);var u,c=[],l=Wt(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(ZS(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=ZS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||eT(o,a),s=kS(n,"where",o,"in"===a||"not-in"===a);var h=hy.create(i,a,s);return function(e,t){if(t.S()){var n=Oy(e);if(null!==n&&!n.isEqual(t.field))throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Py(e);null!==r&&tT(e,t.field,r)}var i=function(e,t){var n,r=Wt(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Uv(Fv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Uv(Fv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new LI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(VS);function qS(e,t,n){var r=t,i=OS("where",e);return new zS(i,r,n)}var HS=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return Jt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xy(t,n);return function(e,t){if(null===Py(e)){var n=Oy(e);null!==n&&tT(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new LI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Sy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(VS);var GS=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return Jt(n,[{key:"_apply",value:function(e){return new LI(e.firestore,e.converter,Ly(e._query,this.wc,this.mc))}}]),n}(VS);var KS=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return Jt(n,[{key:"_apply",value:function(e){var t=JS(e,this.type,this.gc,this.yc);return new LI(e.firestore,e.converter,function(e,t){return new Sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(VS);function WS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KS("startAt",t,!0)}function QS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KS("startAfter",t,!1)}var $S=function(e){zt(n,e);var t=Kt(n);function n(e,r,i){var a;return Yt(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return Jt(n,[{key:"_apply",value:function(e){var t=JS(e,this.type,this.gc,this.yc);return new LI(e.firestore,e.converter,function(e,t){return new Sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(VS);function YS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $S("endBefore",t,!1)}function XS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $S("endAt",t,!0)}function JS(e,t,n,r){if(n[0]=On(n[0]),n[0]instanceof AS)return function(e,t,n,r,i){if(!r)throw new Uv(Fv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Wt(Dy(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Dm(t,r.key));else{var c=r.data.field(u.field);if(mm(c))throw new Uv(Fv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new wy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=lS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Uv(Fv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ry(e)&&-1!==c.indexOf("/"))throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(sm.fromString(c));if(!Em.isDocumentKey(l))throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Em(l);s.push(Dm(t,f))}else{var h=kS(n,r,c);s.push(h)}}return new wy(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ZS(e,t,n){if("string"==typeof(n=On(n))){if(""===n)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ry(t)&&-1!==n.indexOf("/"))throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(sm.fromString(n));if(!Em.isDocumentKey(r))throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Dm(e,new Em(r))}if(n instanceof jI)return Dm(e,n._key);throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(CI(n),"."))}function eT(e,t){if(!Array.isArray(e)||0===e.length)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function tT(e,t,n){if(!n.isEqual(t))throw new Uv(Fv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var nT=function(){function e(){Yt(this,e)}return Jt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return im(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new rS(pm(e.latitude),pm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ym(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=dm(e);return new tm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=sm.fromString(e);Lv(Ab(n));var r=new km(n.get(1),n.get(3)),i=new Em(n.popFirst(5));return r.isEqual(t)||Ov("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function rT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var iT=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this)).firestore=e,r}return Jt(n,[{key:"convertBytes",value:function(e){return new tS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jI(this.firestore,null,t)}}]),n}(nT),aT=function(){function e(t,n){Yt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lS(t)}return Jt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=oT(e,this._firestore),i=rT(r.converter,t,n),a=fS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=oT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=On(t))||t instanceof eS?bS(this._dataReader,"WriteBatch.update",i._key,t,n,o):gS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=oT(e,this._firestore);return this._mutations=this._mutations.concat(new xg(t._key,sg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Uv(Fv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function oT(e,t){if((e=On(e)).firestore!==t)throw new Uv(Fv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var sT=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this)).firestore=e,r}return Jt(n,[{key:"convertBytes",value:function(e){return new tS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jI(this.firestore,null,t)}}]),n}(nT);function uT(e){e=AI(e,jI);var t=AI(e.firestore,GI),n=KI(t),r=new sT(t);return function(e,t){var n=new Vv;return e.asyncQueue.enqueueAndForget($t(tn().mark((function r(){return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$t(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Mv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Uv(Fv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=O_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new DS(t,r,e._key,n,new RS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function cT(e){e=AI(e,LI);var t=AI(e.firestore,GI),n=KI(t),r=new sT(t);return US(e._query),_I(n,e._query).then((function(n){return new LS(t,r,e,n)}))}function lT(e){e=AI(e,LI);var t=AI(e.firestore,GI),n=KI(t),r=new sT(t);return function(e,t){var n=new Vv;return e.asyncQueue.enqueueAndForget($t(tn().mark((function r(){return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$t(tn().mark((function e(t,n,r){var i,a,o,s,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ex(t,n,!0);case 3:i=e.sent,a=new J_(n,i.li),o=a.Gu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=O_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new LS(t,r,e,n)}))}function fT(e,t,n){e=AI(e,jI);var r=AI(e.firestore,GI),i=rT(e.converter,t,n);return vT(r,[fS(lS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sg.none())])}function hT(e,t,n){e=AI(e,jI);for(var r=AI(e.firestore,GI),i=lS(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return vT(r,[("string"==typeof(t=On(t))||t instanceof eS?bS(i,"updateDoc",e._key,t,n,o):gS(i,"updateDoc",e._key,t)).toMutation(e._key,sg.exists(!0))])}function dT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=On(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||qI(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(qI(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof jI)l=AI(e.firestore,GI),f=Ny(e._key.path),c={next:function(t){n[u]&&n[u](mT(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=AI(e,LI);l=AI(p.firestore,GI),f=p._query;var v=new sT(l);c={next:function(e){n[u]&&n[u](new LS(l,v,p,e))},error:n[u+1],complete:n[u+2]},US(e._query)}return function(e,t,n,r){var i=new rI(r),a=new G_(t,i,n);return e.asyncQueue.enqueueAndForget($t(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=F_,t.next=3,kI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget($t(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=V_,t.next=3,kI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KI(l),f,h,c)}function pT(e,t){return function(e,t){var n=new rI(t);return e.asyncQueue.enqueueAndForget($t(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mv(e).Eu.add(t),t.next()},t.next=3,kI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget($t(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mv(e).Eu.delete(t)},t.next=3,kI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KI(e=AI(e,GI)),qI(t)?t:{next:t})}function vT(e,t){return function(e,t){var n=new Vv;return e.asyncQueue.enqueueAndForget($t(tn().mark((function r(){return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=uE,r.next=3,bI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(KI(e),t)}function mT(e,t,n){var r=n.docs.get(t._key),i=new sT(e);return new DS(e,i,t._key,r,new RS(n.hasPendingWrites,n.fromCache),t.converter)}var yT=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Jt(n,[{key:"get",value:function(e){var t=this,r=oT(e,this._firestore),i=new sT(this._firestore);return Ut(Mt(n.prototype),"get",this).call(this,e).then((function(e){return new DS(t._firestore,i,r._key,e._document,new RS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Yt(this,e),this._firestore=t,this._transaction=n,this._dataReader=lS(t)}return Jt(e,[{key:"get",value:function(e){var t=this,n=oT(e,this._firestore),r=new iT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return jv();var i=e[0];if(i.isFoundDocument())return new AS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AS(t._firestore,r,n._key,null,n.converter);throw jv()}))}},{key:"set",value:function(e,t,n){var r=oT(e,this._firestore),i=rT(r.converter,t,n),a=fS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=oT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=On(t))||t instanceof eS?bS(this._dataReader,"Transaction.update",i._key,t,n,o):gS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=oT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function gT(e,t){return function(e,t){var n=new Vv;return e.asyncQueue.enqueueAndForget($t(tn().mark((function r(){var i;return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return pI(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new oI(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(KI(e=AI(e,GI)),(function(n){return t(new yT(e,n))}))}function bT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vS("arrayUnion",t)}function kT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Nv=e}(vr),ur(new Fn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new GI(i,new Hv(e.getProvider("auth-internal")),new Qv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),wr(Sv,"3.4.8",e),wr(Sv,"3.4.8","esm2017")}();function wT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Uv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function xT(){if("undefined"===typeof Uint8Array)throw new Uv("unimplemented","Uint8Arrays are not available in this environment.")}function _T(){if("undefined"==typeof atob)throw new Uv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ET=function(){function e(t){Yt(this,e),this._delegate=t}return Jt(e,[{key:"toBase64",value:function(){return _T(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return xT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _T(),new e(tS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return xT(),new e(tS.fromUint8Array(t))}}]),e}();function IT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Wt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ST=function(){function e(){Yt(this,e)}return Jt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ZI(e=AI(e,GI));var n=KI(e),r=e._freezeSettings(),i=new tI;return QI(n,i,new ZE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ZI(e=AI(e,GI));var t=KI(e),n=e._freezeSettings(),r=new tI;return QI(t,r,new eI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Uv(Fv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Vv;return e._queue.enqueueAndForgetEvenWhileRestricted($t(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sk.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,sk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Fw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),TT=function(){function e(t,n,r){var i=this;Yt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof km||(this._appCompat=t)}return Jt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Rv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return $I(this._delegate)}},{key:"disableNetwork",value:function(){return YI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&SI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Vv;return e.asyncQueue.enqueueAndForget($t(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=bE,n.next=3,bI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(KI(e=AI(e,GI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return pT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Uv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new BT(this,FI(this._delegate,e))}catch(t){throw RT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new OT(this,UI(this._delegate,e))}catch(t){throw RT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new FT(this,function(e,t){if(e=AI(e,RI),II("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Uv(Fv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new LI(e,null,function(e){return new Sy(sm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw RT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return gT(this._delegate,(function(n){return e(new CT(t,n))}))}},{key:"batch",value:function(){var e=this;return KI(this._delegate),new AT(new aT(this._delegate,(function(t){return vT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return XI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return JI(this._delegate,e).then((function(e){return e?new FT(t,e):null}))}}]),e}(),NT=function(e){zt(n,e);var t=Kt(n);function n(e){var r;return Yt(this,n),(r=t.call(this)).firestore=e,r}return Jt(n,[{key:"convertBytes",value:function(e){return new ET(new tS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return OT.forKey(t,this.firestore,null)}}]),n}(nT);var CT=function(){function e(t,n){Yt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new NT(t)}return Jt(e,[{key:"get",value:function(e){var t=this,n=zT(e);return this._delegate.get(n).then((function(e){return new LT(t._firestore,new DS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=zT(e);return n?(wT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=zT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zT(e);return this._delegate.delete(t),this}}]),e}(),AT=function(){function e(t){Yt(this,e),this._delegate=t}return Jt(e,[{key:"set",value:function(e,t,n){var r=zT(e);return n?(wT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=zT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),PT=function(){function e(t,n,r){Yt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Jt(e,[{key:"fromFirestore",value:function(e,t){var n=new jS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new MT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new NT(t),n),i.set(n,a)),a}}]),e}();PT.INSTANCES=new WeakMap;var OT=function(){function e(t,n){Yt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new NT(t)}return Jt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new BT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new BT(this.firestore,FI(this._delegate,e))}catch(t){throw RT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=On(e))instanceof jI&&VI(this._delegate,e)}},{key:"set",value:function(e,t){t=wT("DocumentReference.set",t);try{return t?fT(this._delegate,e,t):fT(this._delegate,e)}catch(n){throw RT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?hT(this._delegate,e):hT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw RT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return vT(AI(e.firestore,GI),[new xg(e._key,sg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=DT(n),a=jT(n,(function(t){return new LT(e.firestore,new DS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return dT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=AI(e,jI);var t=AI(e.firestore,GI);return xI(KI(t),e._key,{source:"server"}).then((function(n){return mT(t,e,n)}))}(this._delegate):function(e){e=AI(e,jI);var t=AI(e.firestore,GI);return xI(KI(t),e._key).then((function(n){return mT(t,e,n)}))}(this._delegate),t.then((function(e){return new LT(n.firestore,new DS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(PT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Uv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new jI(n._delegate,r,new Em(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new jI(n._delegate,r,t))}}]),e}();function RT(e,t,n){return e.message=e.message.replace(t,n),e}function DT(e){var t,n=Wt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!IT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function jT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=IT(e[0])?e[0]:IT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var LT=function(){function e(t,n){Yt(this,e),this._firestore=t,this._delegate=n}return Jt(e,[{key:"ref",get:function(){return new OT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return FS(this._delegate,e._delegate)}}]),e}(),MT=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||jv()}(void 0!==t),t}}]),n}(LT),FT=function(){function e(t,n){Yt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new NT(t)}return Jt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,BS(this._delegate,qS(t,n,r)))}catch(i){throw RT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,BS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=OS("orderBy",e);return new HS(n,t)}(t,n)))}catch(r){throw RT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,BS(this._delegate,function(e){return PI("limit",e),new GS("limit",e,"F")}(t)))}catch(n){throw RT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,BS(this._delegate,function(e){return PI("limitToLast",e),new GS("limitToLast",e,"L")}(t)))}catch(n){throw RT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,BS(this._delegate,WS.apply(void 0,arguments)))}catch(t){throw RT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,BS(this._delegate,QS.apply(void 0,arguments)))}catch(t){throw RT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,BS(this._delegate,YS.apply(void 0,arguments)))}catch(t){throw RT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,BS(this._delegate,XS.apply(void 0,arguments)))}catch(t){throw RT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return BI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?lT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=AI(e,LI);var t=AI(e.firestore,GI),n=KI(t),r=new sT(t);return _I(n,e._query,{source:"server"}).then((function(n){return new LS(t,r,e,n)}))}(this._delegate):cT(this._delegate),t.then((function(e){return new VT(n.firestore,new LS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=DT(n),a=jT(n,(function(t){return new VT(e.firestore,new LS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return dT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(PT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),UT=function(){function e(t,n){Yt(this,e),this._firestore=t,this._delegate=n}return Jt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new MT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),VT=function(){function e(t,n){Yt(this,e),this._firestore=t,this._delegate=n}return Jt(e,[{key:"query",get:function(){return new FT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new MT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new UT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new MT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return FS(this._delegate,e._delegate)}}]),e}(),BT=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Jt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new OT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new OT(this.firestore,void 0===e?UI(this._delegate):UI(this._delegate,e))}catch(t){throw RT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=AI(e.firestore,GI),r=UI(e),i=rT(e.converter,t);return vT(n,[fS(lS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new OT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return VI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(PT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(FT);function zT(e){return AI(e,jI)}var qT=function(){function e(){Yt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=nn(eS,n)}return Jt(e,[{key:"isEqual",value:function(e){return(e=On(e))instanceof eS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(cm.keyField().canonicalString())}}]),e}(),HT=function(){function e(t){Yt(this,e),this._delegate=t}return Jt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new pS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new hS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=bT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=kT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new yS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),GT={Firestore:TT,GeoPoint:rS,Timestamp:tm,Blob:ET,Transaction:CT,WriteBatch:AT,DocumentReference:OT,DocumentSnapshot:LT,Query:FT,QueryDocumentSnapshot:MT,QuerySnapshot:VT,CollectionReference:BT,FieldPath:qT,FieldValue:HT,setLogLevel:function(e){!function(e){Cv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Fn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},GT)))}(e,(function(e,t){return new TT(e,t,new ST)})),e.registerVersion("@firebase/firestore-compat","0.1.17")}(ol);var KT="firebasestorage.googleapis.com",WT=function(e){zt(n,e);var t=Kt(n);function n(e,r){var i;return Yt(this,n),(i=t.call(this,QT(e),"Firebase Storage: ".concat(r," (").concat(QT(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Vt(i),n.prototype),i}return Jt(n,[{key:"_codeEquals",value:function(e){return QT(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(bn);function QT(e){return"storage/"+e}function $T(){return new WT("unknown","An unknown error occurred, please check the error payload for server response.")}function YT(){return new WT("canceled","User canceled the upload/download.")}function XT(){return new WT("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function JT(e){return new WT("invalid-argument",e)}function ZT(){return new WT("app-deleted","The Firebase app was deleted.")}function eN(e,t){return new WT("invalid-format","String does not match format '"+e+"': "+t)}function tN(e){throw new WT("internal-error","Internal error: "+e)}var nN,rN=function(){function e(t,n){Yt(this,e),this.bucket=t,this.path_=n}return Jt(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new WT("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===KT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new WT("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),iN=function(){function e(t){Yt(this,e),this.promise_=Promise.reject(t)}return Jt(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function aN(e){return"string"===typeof e||e instanceof String}function oN(e){return sN()&&e instanceof Blob}function sN(){return"undefined"!==typeof Blob}function uN(e,t,n,r){if(r<t)throw JT("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw JT("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function cN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function lN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(nN||(nN={}));var fN=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Yt(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Jt(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=$T();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?ZT():YT());else i(new WT("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new hN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new hN(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===nN.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new hN(o,r))}else{var s=r.getErrorCode()===nN.ABORT;t(!1,new hN(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),hN=Jt((function e(t,n,r){Yt(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function dN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pN(){for(var e=dN(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(sN())return new Blob(n);throw new WT("unsupported-environment","This browser doesn't seem to support creating Blobs")}var vN="raw",mN="base64",yN="base64url",gN="data_url",bN=Jt((function e(t,n){Yt(this,e),this.data=t,this.contentType=n||null}));function kN(e,t){switch(e){case vN:return new bN(wN(t));case mN:case yN:return new bN(xN(e,t));case gN:return new bN(function(e){var t=new _N(e);return t.base64?xN(mN,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw eN(gN,"Malformed data URL.")}return wN(t)}(t.rest)}(t),new _N(t).contentType)}throw $T()}function wN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xN(e,t){switch(e){case mN:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw eN(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case yN:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw eN(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw eN(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var _N=Jt((function e(t){Yt(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw eN(gN,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var EN=function(){function e(t,n){Yt(this,e);var r=0,i="";oN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Jt(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(oN(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(sN()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(pN.apply(null,i))}var a=n.map((function(e){return aN(e)?kN(vN,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function IN(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function SN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function TN(e,t){return t}var NN=Jt((function e(t,n,r,i){Yt(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||TN})),CN=null;function AN(){if(CN)return CN;var e=[];e.push(new NN("bucket")),e.push(new NN("generation")),e.push(new NN("metageneration")),e.push(new NN("name","fullPath",!0));var t=new NN("name");t.xform=function(e,t){return function(e){return!aN(e)||e.length<2?e:SN(e)}(t)},e.push(t);var n=new NN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new NN("timeCreated")),e.push(new NN("updated")),e.push(new NN("md5Hash",null,!0)),e.push(new NN("cacheControl",null,!0)),e.push(new NN("contentDisposition",null,!0)),e.push(new NN("contentEncoding",null,!0)),e.push(new NN("contentLanguage",null,!0)),e.push(new NN("contentType",null,!0)),e.push(new NN("metadata","customMetadata",!0)),CN=e}function PN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new rN(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ON(e,t,n){var r=IN(t);return null===r?null:PN(e,r,n)}function RN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var DN=Jt((function e(t,n,r,i){Yt(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function jN(e){if(!e)throw $T()}function LN(e,t){return function(n,r){var i=ON(e,r,t);return jN(null!==i),i}}function MN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new WT("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new WT("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new WT("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new WT("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function FN(e){var t=MN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new WT("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function UN(e,t,n){var r=cN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new DN(r,"GET",LN(e,n),i);return a.errorHandler=FN(t),a}function VN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function BN(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=VN(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+RN(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=EN.getBlob(c,r,l);if(null===f)throw XT();var h={name:u.fullPath},d=cN(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new DN(d,"POST",LN(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=MN(t),v}var zN=Jt((function e(t,n,r,i){Yt(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function qN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){jN(!1)}return jN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var HN=262144;function GN(e,t,n,r,i,a,o,s){var u=new zN(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new WT("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw XT();var v=t.maxUploadRetryTime,m=new DN(n,"POST",(function(e,n){var i,o=qN(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?LN(t,a)(e,n):null,new zN(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=MN(e),m}var KN="running",WN="paused",QN="success",$N="canceled",YN="error";function XN(e){switch(e){case"running":case"pausing":case"canceling":return KN;case"paused":return WN;case"success":return QN;case"canceled":return $N;default:return YN}}var JN=Jt((function e(t,n,r){Yt(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function ZN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var eC=function(){function e(){var t=this;Yt(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=nN.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=nN.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Jt(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw tN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw tN("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw tN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw tN("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw tN("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),tC=function(e){zt(n,e);var t=Kt(n);function n(){return Yt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(eC);function nC(){return new tC}var rC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Yt(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=AN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Jt(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=v(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=VN(t,r,i),s={name:o.fullPath},u=cN(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=RN(o,n),f=e.maxUploadRetryTime,h=new DN(u,"POST",(function(e){var t;qN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){jN(!1)}return jN(aN(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=MN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,nC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new DN(n,"POST",(function(e){var t=qN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){jN(!1)}n||jN(!1);var i=Number(n);return jN(!isNaN(i)),new zN(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=MN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,nC,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=HN*this._chunkMultiplier,n=new zN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=GN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,nC,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){HN*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=UN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,nC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=BN(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,nC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=YT(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=XN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new JN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(XN(this._state)){case QN:ZN(this._resolve.bind(null,this.snapshot))();break;case $N:case YN:ZN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(XN(this._state)){case KN:case WN:e.next&&ZN(e.next.bind(e,this.snapshot))();break;case QN:e.complete&&ZN(e.complete.bind(e))();break;default:e.error&&ZN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),iC=function(){function e(t,n){Yt(this,e),this._service=t,this._location=n instanceof rN?n:rN.makeFromUrl(n,t.host)}return Jt(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new rN(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return SN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new rN(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new WT("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function aC(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rN(e._location.bucket,n);return new iC(e.storage,r)}function oC(e,t){if(e instanceof cC){var n=e;if(null==n._bucket)throw new WT("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new iC(n,n._bucket);return null!=t?oC(r,t):r}return void 0!==t?aC(e,t):e}function sC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof cC)return new iC(e,t);throw JT("To use ref(service, url), the first argument must be a Storage instance.")}return oC(e,t)}function uC(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:rN.makeFromBucketSpec(n,e)}var cC=function(){function e(t,n,r,i,a){Yt(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=KT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rN.makeFromBucketSpec(i,this._host):uC(this._host,this.app.options)}return Jt(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=rN.makeFromBucketSpec(this._url,e):this._bucket=uC(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){uN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){uN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=$t(tn().mark((function e(){var t,n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=$t(tn().mark((function e(){var t,n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new iC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new iN(ZT());var a=function(e,t,n,r,i,a){var o=lN(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new fN(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=$t(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=v(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),lC="@firebase/storage",fC="0.9.5",hC="storage";function dC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new rC(e,new EN(t),n)}(e=On(e),t,n)}function pC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new cC(r,i,a,n,vr)}ur(new Fn(hC,pC,"PUBLIC").setMultipleInstances(!0)),wr(lC,fC,""),wr(lC,fC,"esm2017");var vC=function(e,t,n){Lt[{success:"success",error:"error",info:"info"}[e]](t,{toastId:n})},mC="SIGN_UP_STARTED",yC="SET_DOCTOR",gC="SET_CLINICAL",bC="CLEAR_CLINICAL",kC="SET_THERAPY",wC="CLEAN_THERAPY",xC="SET_PREPARE",_C="CLEAN_PREPARE",EC=ol.initializeApp({apiKey:"AIzaSyCjOA3VHiltKRDexpnLJguv9clcloQeofM",authDomain:"vpfc-4c8ca.firebaseapp.com",projectId:"vpfc-4c8ca",storageBucket:"vpfc-4c8ca.appspot.com",messagingSenderId:"668601407048",appId:"1:668601407048:web:3bf1515e7cb303b407ea7d"}),IC=EC.auth(),SC=EC.firestore(),TC=function(){var e=$t(tn().mark((function e(t,n,r,i){var a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IC.createUserWithEmailAndPassword(r,i);case 3:return a=e.sent,o=a.user,e.next=7,SC.collection("users").add({uid:o.uid,name:t,profesion:n,authProvider:"local",email:r});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),vC("error","Error al crear usuario, posiblemente el usuario ya exista, intente de nuevo","error_register");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),NC=function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IC.signInWithEmailAndPassword(t,n);case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),vC("error","Correo o contrase\xf1a erroneos","error_auth");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),CC=function(){var e=$t(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=FI(SC,"users"),i=BS(r,qS("uid","==",t)),e.next=5,cT(i);case 5:e.sent.forEach((function(e){var t;n((t=e.data(),{type:yC,payload:t}))})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("doctor:",e.t0),vC("error","Ups, hubo un error, intente de nuevo.","error_adding_favorite");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),AC=function(){var e=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=FI(SC,"clinicalHistory"),i=BS(r,qS("idDoc","==",t)),e.next=5,cT(i);case 5:0===(a=e.sent).docs.length?n({type:bC}):a.forEach((function(e){var t;console.log("doc.data():",e.data()),n((t=e.data(),{type:gC,payload:t}))})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("clinic:",e.t0),vC("error","Ups, hubo un error, intente de nuevo.","error_adding_favorite");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),PC=function(){var e=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=FI(SC,"therapy"),i=BS(r,qS("idDoc","==",t)),e.next=5,cT(i);case 5:0===(a=e.sent).docs.length?n({type:wC}):a.forEach((function(e){var t;n((t=e.data(),{type:kC,payload:t}))})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("clinic:",e.t0),vC("error","Ups, hubo un error, intente de nuevo.","error_adding_favorite");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),OC=function(){var e=$t(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,r=FI(SC,"prepare"),i=BS(r,qS("idDoc","==",t)),e.next=6,cT(i);case 6:0===(a=e.sent).docs.length?n({type:_C}):a.forEach((function(e){var t;n((t=e.data(),{type:xC,payload:t}))})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("clinic:",e.t0),vC("error","Ups, hubo un error, intente de nuevo.","error_adding_favorite");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),RC=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr(),t=arguments.length>1?arguments[1]:void 0;return cr(e=On(e),hC).getImmediate({identifier:t})}(),n=Object.values(e);console.log("valueFiles:",n),n.forEach((function(e){var n,r;dC((n=t,r="/files/".concat(e.name),sC(n=On(n),r)),e)}))},DC=function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fT(UI(SC,"patients",t.idDoc),{nameP:t.nameP||"NA",age:t.age||"NA",bdate:t.bdate||"NA",idDoc:t.idDoc||"NA",address:t.address||"NA",email:t.email||"NA",tel:t.tel||"NA",weight:t.weight||"NA",height:t.height||"NA",inCharge:t.inCharge||"NA"});case 3:e.sent,n("/PlayerList"),vC("success","Paciente a\xf1adido correctamente","error_adding_favorite"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),vC("error","Error al agregar paciente, intente de nuevo.","error_adding_favorite");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),jC=function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fT(UI(SC,"clinicalHistory",t.idDoc),{allergy:t.allergy||"NA",bloodType:t.bloodType||"NA",consultation:t.consultation||"NA",doctor:t.doctor||"NA",illness:t.illness||"NA",injury:t.injury||"NA",medicine:t.medicine||"NA",sex:t.sex||"NA",surgery:t.surgery||"NA",surgeryBool:t.surgeryBool||"NA",tranfusion:t.tranfusion||"NA",tranfusionReaction:t.tranfusionReaction||"NA",idDoc:t.idDoc||"NA",viveH:t.viveH||"NA",viveM:t.viveH||"NA",viveP:t.viveH||"NA",fatherIllbness:t.enfermedadesP||"NA",motherIllness:t.enfermedadesM||"NA",simbIllness:t.enfermedadesH||"NA",medicamentos_APP:t.medicamentos_APP||"NA",numberSimblings:t.numerohermanos||"NA",drugs_types:t.drugs_types||"NA",other_drugs:t.other_drugs||"NA",alcohol:t.alcohol||!1,smook:t.tabaquismo||!1,inmun:t.inmunizaciones||!1,cardio:t.cardio||!1,pulmonary:t.pulmonary||!1,digestive:t.digestive||!1,diabetes:t.diabetes||!1,renal:t.renal||!1,surgical:t.surgical||!1});case 3:e.sent,RC(t.files),n("/".concat(t.idDoc,"/PlayerView")),vC("success","Historia clinica actualizada correctamente","error_adding_favorite"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),vC("error","Error al actualizar historia clinica, intente de nuevo.","error_adding_favorite");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),LC=function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("patinettherapy",t),e.prev=1,e.next=4,fT(UI(SC,"therapy",t.idDoc),{inDate:t.inDate||"NA",outDate:t.outDate||"NA",injuryBool:t.injuryBool||"NA",injuryDate:t.injuryDate||"NA",orthesisBool:t.orthesisBool||"NA",orthesis:t.orthesis||"NA",diagnosis:t.diagnosis||"NA",record:t.record||"NA",idDoc:t.idDoc||"NA"});case 4:e.sent,vC("success","Datos actualizados correctamente","error_adding_favorite"),n("/".concat(t.idDoc,"/PlayerView")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),vC("error","Error al actualizar datos, intente de nuevo.","error_adding_favorite");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),MC=function(){var e=$t(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("patientPrepare",t),e.prev=1,e.next=4,fT(UI(SC,"prepare",t.idDoc),{amarillas1:t.amarillas1||"0",amarillas2:t.amarillas2||"0",rojas1:t.rojas1||"0",rojas2:t.rojas2||"0",goles1:t.goles1||"0",goles2:t.goles2||"0",partidos1:t.partidos1||"0",partidos2:t.partidos2||"0",testabdominal:t.testabdominal||"NA",testcooper:t.testcooper||"NA",testflexibilidad:t.testflexibilidad||"NA",testsaltos:t.testsaltos||"NA",testvelocidad:t.testvelocidad||"NA",testyoyo:t.testyoyo||"NA",fc:t.fc||"NA",fr:t.fr||"NA",ta:t.ta||"NA",bt:t.bt||"NA",size:t.size||"NA",weight:t.weight||"NA",mci:t.weight||"NA",testMmss:t.mci||"NA",rhandMmss:t.rhandMmss||"NA",lhandMmss:t.lhandMmss||"NA",testMmii:t.testMmii||"NA",rhandMmii:t.rhandMmii||"NA",lhandMmii:t.lhandMmii||"NA",painBool:t.painBool||"NA",painScale:t.painScale||"NA",place:t.painScale||"NA",edema:t.edema||"NA",fovea:t.fovea||"NA",perometer:t.perometer||"NA",goniometry:t.goniometry||"NA",march:t.march||"NA",idDoc:t.idDoc||"NA"});case 4:e.sent,vC("success","Datos actualizados correctamente","error_adding_favorite"),n("/".concat(t.idDoc,"/PlayerView")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),vC("error","Error al actualizar datos, intente de nuevo.","error_adding_favorite");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),FC=function(){var e=$t(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=BS(FI(SC,"patients")),dT(n,(function(e){var n=[];e.forEach((function(e){n.push(e.data())})),t({type:mC,payload:n})}))}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UC=n.p+"static/media/vfc.12302f027fd0497ac41f.png",VC=n(184);function BC(){var e=Me(),n=v((0,t.useState)(""),2),r=n[0],i=n[1],a=v((0,t.useState)(""),2),o=a[0],s=a[1],u=v(Jc(IC),2),c=u[0],l=u[1];return(0,t.useEffect)((function(){l||c&&e("/PlayerList")}),[c,l]),(0,VC.jsx)("div",{className:Zc.container,children:(0,VC.jsxs)("form",{className:Zc.containerLogin,children:[(0,VC.jsx)("img",{className:Zc.logo,src:UC,alt:"logo"}),(0,VC.jsx)("div",{children:(0,VC.jsx)("input",{type:"text",className:Zc.inputText,id:"name",placeholder:"Correo electronico",name:"uname",onChange:function(e){return i(e.target.value)}})}),(0,VC.jsx)("div",{children:(0,VC.jsx)("input",{type:"password",className:Zc.inputPassword,id:"password",placeholder:"Contrase\xf1a",name:"psw",onChange:function(e){return s(e.target.value)}})}),(0,VC.jsx)("div",{children:(0,VC.jsx)("div",{className:Zc.linkButton,children:(0,VC.jsx)("button",{type:"button",className:Zc.buttonLogin,onClick:function(){r.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)?o.length<8?vC("error","Password must be at least 8 characters!","error_pwd"):NC(r,o):vC("error","Please insert a valid email!","error_pwd")},children:"Ingresar"})})}),(0,VC.jsx)("span",{className:Zc.cna,children:(0,VC.jsx)($e,{className:Zc.link,to:"/Register",children:"Crear Nueva Cuenta"})})]})})}var zC="Register_containerRegister__BeiFN",qC="Register_titleRegister__pBp9N",HC="Register_inputText__hHmGv",GC="Register_inputPassword__K8XAJ",KC="Register_inputEmail__DGhl5",WC="Register_area__mnPXB",QC="Register_back__HDYjx",$C="Register_link__B+fwh",YC="Register_buttonRegister__cSyfY";function XC(){var e=Me(),n=v((0,t.useState)(""),2),r=n[0],i=n[1],a=v((0,t.useState)(""),2),o=a[0],s=a[1],u=v((0,t.useState)(""),2),c=u[0],l=u[1],f=v((0,t.useState)(""),2),h=f[0],d=f[1],p=v(Jc(IC),2),m=p[0],y=p[1];return(0,t.useEffect)((function(){y||m&&e("/PlayerList")}),[m,y]),(0,VC.jsxs)("form",{className:zC,children:[(0,VC.jsx)("h2",{className:qC,children:"Crear Una Nueva Cuenta"}),(0,VC.jsx)("input",{type:"text",className:HC,placeholder:"Nombre y Apellido",name:"uname",onChange:function(e){var t=e.target;return i(t.value)}}),(0,VC.jsxs)("select",{className:WC,name:"profesion",onChange:function(e){var t=e.target;return d(t.value)},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",name:"sexo",children:"Profesi\xf3n"}),(0,VC.jsx)("option",{value:"doctor",children:"Doctor"}),(0,VC.jsx)("option",{value:"therapist",children:"Fisioterapeuta"}),(0,VC.jsx)("option",{value:"prepare",children:"Preparador fisico"})]}),(0,VC.jsx)("input",{type:"email",className:KC,placeholder:"Correo",name:"email",onChange:function(e){var t=e.target;return s(t.value)},required:!0}),(0,VC.jsx)("input",{type:"password",className:GC,placeholder:"Contrase\xf1a",name:"upassword",onChange:function(e){var t=e.target;return l(t.value)},required:!0}),(0,VC.jsx)("button",{type:"button",className:YC,onClick:function(){r.length<1?vC("error","Please insert a full name!","error_name"):o.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)?c.length<8?vC("error","La contrase\xf1a debe tener al menos 8 caracteres!","error_pwd"):TC(r,h,o,c):vC("error","Please insert a valid email!","error_pwd")},children:"Env\xedar"}),(0,VC.jsx)("span",{className:QC,children:(0,VC.jsx)($e,{className:$C,to:"/",children:"Regresar"})})]})}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JC(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eA="NavBar_nav__BqKBI",tA="NavBar_logo__rurCw",nA="NavBar_link__HF1pP",rA="NavBar_j__eA8Dh",iA="NavBar_navMenu__o9hUA",aA="NavBar_navMenuItem__2qv3g",oA="NavBar_tooltip__qdml1";var sA=K((function(e){return{userName:e.patients.userName}}))((function(e){var n=e.userName,r=v(Jc(IC),1)[0],i=Me(),a=J();return(0,t.useEffect)((function(){r&&CC(null===r||void 0===r?void 0:r.uid,a)}),[]),(0,VC.jsxs)("nav",{className:eA,children:[(0,VC.jsxs)("div",{className:rA,children:[(0,VC.jsx)("img",{src:UC,alt:"logo",className:tA}),(0,VC.jsx)("h2",{className:oA,children:null===n||void 0===n?void 0:n.name})]}),(0,VC.jsxs)("ul",{className:iA,children:[(0,VC.jsx)("li",{className:aA,children:(0,VC.jsx)($e,{className:nA,to:"/PlayerList",children:"Jugadores"})}),(0,VC.jsx)("li",{className:aA,children:(0,VC.jsx)($e,{className:nA,to:"/NewPatient",children:"Nuevo Paciente"})}),(0,VC.jsx)("li",{className:aA,children:(0,VC.jsx)($e,{className:nA,to:"/",onClick:function(){IC.signOut(),i("/")},children:"Cerrar Sesi\xf3n"})})]})]})})),uA="ClinicHistory_container__AV9uK",cA="ClinicHistory_containerForm__UocEQ",lA="ClinicHistory_title__hC0KF",fA="ClinicHistory_title2__TNwXy",hA="ClinicHistory_rows__noEPt",dA="ClinicHistory_rowTextbox__UH5yN",pA="ClinicHistory_field__8PzGS",vA="ClinicHistory_check__L9hdv",mA="ClinicHistory_files__E+cH9",yA="ClinicHistory_textBox__HFJ5H",gA="ClinicHistory_radio__vMfjp",bA="ClinicHistory_send_history__7HlFF",kA="ClinicHistory_antecedentesF__Mnaxl";var wA=K((function(e){return{userName:e.patients.userName}}))((function(e){var n=e.userName,r=e.sendExploration,i=e.setSendExploration,a=v((0,t.useState)({}),2),o=a[0],s=a[1],u=Me(),c=Fe().id;return(0,t.useEffect)((function(){r&&(MC(ZC(ZC({},o),{},{prepare:n.name,idDoc:c}),u),i(!1))}),[r]),console.log("localPrepare:",o),(0,VC.jsxs)("form",{className:cA,children:[(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"fc",children:"Signos vitales: "}),(0,VC.jsx)("input",{type:"text",placeholder:"Frecuencia Cardiaca",name:"fc",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"fr"}),(0,VC.jsx)("input",{type:"text",placeholder:"Frecuancia Respiratoria",name:"fr",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"ta"}),(0,VC.jsx)("input",{type:"text",placeholder:"Tension Arterial",name:"ta",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"bt"}),(0,VC.jsx)("input",{type:"text",placeholder:"Temperatura Corporal",name:"bt",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"size",children:"Antropometr\xeda: "}),(0,VC.jsx)("input",{type:"text",placeholder:"Talla:",name:"size",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"weight"}),(0,VC.jsx)("input",{type:"text",placeholder:"Peso:",name:"weight",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"mci"}),(0,VC.jsx)("input",{type:"text",placeholder:"IMC:",name:"mci",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"testMmss",children:"Flexibilidad (MMSS): "}),(0,VC.jsx)("input",{type:"text",placeholder:"Prueba",name:"testMmss",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"rhandMmss"}),(0,VC.jsx)("input",{type:"text",placeholder:"Derecha:",name:"rhandMmss",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"lhandMmss"}),(0,VC.jsx)("input",{type:"text",placeholder:"Izquierda:",name:"lhandMmss",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"testMmii",children:"Flexibilidad (MMII): "}),(0,VC.jsx)("input",{type:"text",placeholder:"Prueba",name:"testMmii",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"rhandMmii"}),(0,VC.jsx)("input",{type:"text",placeholder:"Derecha:",name:"rhandMmii",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"lhandMmii"}),(0,VC.jsx)("input",{type:"text",placeholder:"Izquierda:",name:"lhandMmii",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"painBool",children:" Dolor: "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"painBool",value:"si",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"painBool",value:"no",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})," ","No"]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"painScale",children:"Escala de dolor (1 - 10)"}),(0,VC.jsx)("input",{type:"number",name:"painScale",min:"1",max:"10",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"edema",children:" Edema: "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"edema",value:"Si",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"edema",value:"No",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})," ","No"]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"place",children:"Lugar"}),(0,VC.jsx)("input",{type:"text",name:"place",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"fovea",children:" F\xf3vea "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"fovea",value:"Si",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"fovea",value:"No",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})," ","No"]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"perometer",children:"Per\xedmetro: "}),(0,VC.jsxs)("select",{name:"perometer",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"izquierdo",name:"fovea",children:"Izquierdo"}),(0,VC.jsx)("option",{value:"derecho",name:"fovea",children:"Derecho"})]})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:yA,children:[(0,VC.jsx)("label",{htmlFor:"goniometry",children:" Goniometr\xeda: "}),(0,VC.jsx)("textarea",{name:"goniometry",cols:"30",rows:"3",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:yA,children:[(0,VC.jsx)("label",{htmlFor:"march",children:" Marcha: "}),(0,VC.jsx)("textarea",{name:"march",cols:"30",rows:"3",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))}})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"partidos1",children:"Partidos 1\xb0 Semestre:"}),(0,VC.jsx)("input",{type:"number",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},name:"partidos1"})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"goles1",children:"Goles 1\xb0 Semestre:"}),(0,VC.jsx)("input",{type:"number",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},name:"goles1"})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"amarillas1",children:"Tarjetas Amarillas:"}),(0,VC.jsx)("input",{type:"number",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},name:"amarillas1"})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"rojas1",children:"Tarjetas Rojas:"}),(0,VC.jsx)("input",{type:"number",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},name:"rojas1"})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"partidos2",children:"Partidos 2\xb0 Semestre:"}),(0,VC.jsx)("input",{type:"number",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},name:"partidos2"})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"goles2",children:"Goles 2\xb0 Semestre:"}),(0,VC.jsx)("input",{type:"number",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},name:"goles2"})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"amarillas2",children:"Tarjetas Amarillas:"}),(0,VC.jsx)("input",{type:"number",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},name:"amarillas2"})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"rojas2",children:"Tarjetas Rojas:"}),(0,VC.jsx)("input",{type:"number",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},name:"rojas2"})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"testyoyo",children:"TEST YOYO: "}),(0,VC.jsxs)("select",{name:"testyoyo",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"+16,5",children:"ELITE (+16,5)"}),(0,VC.jsx)("option",{value:"15,6 - 16,4",children:"EXCELENTE (15,6 - 16,4)"}),(0,VC.jsx)("option",{value:"14,8 - 15,5",children:"BUENO (14,8 - 15,5)"}),(0,VC.jsx)("option",{value:"14,1 - 14,7",children:"MEDIO (14,1 - 14,7)"}),(0,VC.jsx)("option",{value:"-13,9",children:"MALO (-13,9)"})]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"testcooper",children:"TEST COOPER: "}),(0,VC.jsxs)("select",{name:"testcooper",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"+2.800 mts",children:"EXCELENTE (+2.800 mts)"}),(0,VC.jsx)("option",{value:"2.400 - 2799 mts",children:"BUENO (2.400 - 2799 mts)"}),(0,VC.jsx)("option",{value:"2.200 - 2399 mts",children:"REGULAR (2.200 - 2399 mts)"}),(0,VC.jsx)("option",{value:"-2.199 mts",children:"MALO (-2.199 mts)"})]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"testabdominal",children:"TEST ABDOMINAL (1 Min): "}),(0,VC.jsxs)("select",{name:"testabdominal",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"+44",children:"EXCELENTE (+44)"}),(0,VC.jsx)("option",{value:"34 - 43",children:"BUENO (34 - 43)"}),(0,VC.jsx)("option",{value:"25 - 33",children:"REGULAR (25 - 33)"}),(0,VC.jsx)("option",{value:"-24",children:"MALO (24 -)"})]})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"testvelocidad",children:"TEST VELOCIDAD (40 mt): "}),(0,VC.jsxs)("select",{name:"testvelocidad",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"4.5 seg",children:"EXCELENTE (4.5 seg)"}),(0,VC.jsx)("option",{value:"4.4 - 5,1 seg",children:"BUENO (4.4 - 5,1 seg)"}),(0,VC.jsx)("option",{value:"5.2 - 5.9 seg",children:"REGULAR (5.2 - 5.9 seg)"}),(0,VC.jsx)("option",{value:"+6.0 seg",children:"MALO (6.0 seg +)"})]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"testsaltos",children:"TEST SALTOS (Vertical): "}),(0,VC.jsxs)("select",{name:"testsaltos",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"+10.1 mts",children:"MUY ALTO (+10.1 mts)"}),(0,VC.jsx)("option",{value:"8.5 - 10 mts",children:"ALTO (8.5 - 10 mts)"}),(0,VC.jsx)("option",{value:"7.0 - 8.4 mts",children:"MODERADO (7.0 - 8.4 mts)"}),(0,VC.jsx)("option",{value:"6.0 - 6.9 mts",children:"BAJO (6.0 - 6.9 mts)"}),(0,VC.jsx)("option",{value:"-5,9 mts",children:"MUY BAJO (-5,9 mts) "})]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"testflexibilidad",children:"TEST FLEXIBILIDAD (Piernas) : "}),(0,VC.jsxs)("select",{name:"testflexibilidad",onChange:function(e){var t=e.target;return s(ZC(ZC({},o),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"+38,16 cem",children:"EXCELENTE (+38,16 cem)"}),(0,VC.jsx)("option",{value:"31.08 - 38.15 cem",children:"BUENO (31.08 - 38.15 cem)"}),(0,VC.jsx)("option",{value:"24.00 - 31.07 cem",children:"ACEPTABLE (24.00 - 31.07 cem)"}),(0,VC.jsx)("option",{value:"16.22 - 23.99 cem",children:"DEFICIENTE (16.22 - 23.99 cem)"}),(0,VC.jsx)("option",{value:"-16,21 cem",children:"CRITICO (-16,21 cem)"})]})]})]})]})}));var xA=K((function(e){return{userName:e.patients.userName}}))((function(e){var n=e.userName,r=v((0,t.useState)({}),2),i=r[0],a=r[1],o=v((0,t.useState)(!1),2),s=o[0],u=o[1],c=Me(),l=Fe().id;return console.log("setLocalTherapy:",i),(0,VC.jsxs)(VC.Fragment,{children:[(0,VC.jsx)("header",{children:(0,VC.jsx)(sA,{})}),(0,VC.jsxs)("main",{className:uA,children:[(0,VC.jsxs)("h1",{className:lA,style:{marginTop:"10px"},children:["FISIOTERAPIA: ",n.name]}),(0,VC.jsx)("h2",{className:fA,children:"FORMATO DE EVALUACI\xd3N DE LESIONES VFC"}),(0,VC.jsxs)("form",{className:cA,children:[(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"inDate",children:"Fecha de ingreso: "}),(0,VC.jsx)("input",{type:"date",name:"inDate",required:!0,onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"outDate",children:"Fecha de egreso: "}),(0,VC.jsx)("input",{type:"date",name:"outDate",required:!0,onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"injuryDate",children:"Fecha de lesi\xf3n: "}),(0,VC.jsx)("input",{type:"date",name:"injuryDate",required:!0,onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"injuryBool",children:"Reporte de lesi\xf3n: "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"injuryBool",value:"Si",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}}),"Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"injuryBool",value:"No",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}}),"No"]})]}),(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"orthesisBool",children:" Uso de Ortesis: "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"orthesisBool",value:"Si",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}}),"Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"orthesisBool",value:"No",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}}),"No"]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"orthesis",children:"\xbfCu\xe1l ortesis? "}),(0,VC.jsx)("input",{type:"text",name:"orthesis",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:yA,children:[(0,VC.jsx)("label",{htmlFor:"diagnosis",children:" Diagnostico medico: "}),(0,VC.jsx)("textarea",{name:"diagnosis",cols:"30",rows:"3",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:yA,children:[(0,VC.jsx)("label",{htmlFor:"record",children:" Antecedentes: "}),(0,VC.jsx)("textarea",{name:"record",cols:"30",rows:"3",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]})]})]}),(0,VC.jsx)("h2",{className:fA,children:"FORMATO DE EVALUACI\xd3N F\xcdSICA"}),(0,VC.jsx)(wA,{sendExploration:s,setSendExploration:u}),(0,VC.jsx)("button",{type:"button",className:bA,onClick:function(){return LC(ZC(ZC({},i),{},{therapist:n.name,idDoc:l}),c),void u(!0)},children:"Enviar"})]})]})})),_A="PlayerList_container__gfE-Q",EA="PlayerList_table__xNBfj",IA="PlayerList_link__8+E9S",SA="PlayerList_no_players__02mRo";var TA=K((function(e){return{patientList:e.patients.patientList}}))((function(e){var n=e.patientList,r=J();return(0,t.useEffect)((function(){FC(r)}),[]),(0,VC.jsxs)(VC.Fragment,{children:[(0,VC.jsx)("header",{children:(0,VC.jsx)(sA,{})}),(0,VC.jsxs)("main",{className:_A,children:[(0,VC.jsxs)("table",{className:EA,children:[(0,VC.jsxs)("tr",{children:[(0,VC.jsx)("th",{children:"NOMBRE COMPLETO"})," ",(0,VC.jsx)("th",{children:"EDAD"})," ",(0,VC.jsx)("th",{children:"C.C"})," ",(0,VC.jsx)("th",{children:"CORREO"})," ",(0,VC.jsx)("th",{children:"CELULAR"})," ",(0,VC.jsx)("th",{children:"PESO"})]}),n.map((function(e){return(0,VC.jsxs)("tr",{children:[(0,VC.jsxs)("td",{children:[" ",(0,VC.jsx)($e,{className:IA,to:"/".concat(e.idDoc,"/PlayerView"),children:e.nameP})]}),(0,VC.jsx)("td",{children:(0,VC.jsx)($e,{className:IA,to:"/".concat(e.idDoc,"/PlayerView"),children:e.age})}),(0,VC.jsx)("td",{children:(0,VC.jsx)($e,{className:IA,to:"/".concat(e.idDoc,"/PlayerView"),children:e.idDoc})}),(0,VC.jsx)("td",{children:(0,VC.jsx)($e,{className:IA,to:"/".concat(e.idDoc,"/PlayerView"),children:e.email})}),(0,VC.jsx)("td",{children:(0,VC.jsx)($e,{className:IA,to:"/".concat(e.idDoc,"/PlayerView"),children:e.tel})}),(0,VC.jsx)("td",{children:(0,VC.jsx)($e,{className:IA,to:"/".concat(e.idDoc,"/PlayerView"),children:e.weight})})]},"tr-elemt".concat(e.idDoc))}))]}),n.length<=0&&(0,VC.jsx)("h1",{className:SA,children:"Aun no existen registro de jugadores"})]})]})})),NA={container:"NewPatient_container__3o9eZ",containerForm:"NewPatient_containerForm__bwthA",inputName:"NewPatient_inputName__z0arv",input:"NewPatient_input__80gEu",button:"NewPatient_button__oLKQy",logo:"NewPatient_logo__F3svs",back:"NewPatient_back__9oOWu",link:"NewPatient_link__1UXNJ"};var CA=K((function(e){return{userName:e.patients.userName}}))((function(e){var n=e.userName,r=v((0,t.useState)({nameP:"",age:"",bdate:"",idDoc:"",address:"",email:"",tel:"",weight:"",height:"",inCharge:n.name}),2),i=r[0],a=r[1],o=Me();return console.log("userName",n),(0,VC.jsxs)(VC.Fragment,{children:[(0,VC.jsx)("header",{children:(0,VC.jsx)(sA,{})}),(0,VC.jsx)("div",{className:NA.container,children:(0,VC.jsxs)("form",{className:NA.containerForm,children:[(0,VC.jsx)("img",{src:UC,alt:"logo",className:NA.logo}),(0,VC.jsx)("h2",{className:NA.titleRegister,children:"Nuevo Paciente"}),(0,VC.jsx)("div",{children:(0,VC.jsx)("input",{type:"text",className:NA.inputName,placeholder:"Nombre del paciente",name:"nameP",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"number",className:NA.input,placeholder:"Edad",name:"age",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("input",{type:"date",className:NA.input,placeholder:"",name:"bdate",required:!0,onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"number",className:NA.input,placeholder:"cc",name:"idDoc",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("input",{type:"text",className:NA.input,placeholder:"Direccion",name:"address",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"email",className:NA.input,placeholder:"Correo",name:"email",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("input",{type:"number",className:NA.input,placeholder:"Telefono",name:"tel",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"number",className:NA.input,placeholder:"peso (Kg)",name:"weight",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,"".concat(t.value," kg"))))}}),(0,VC.jsx)("input",{type:"number",className:NA.input,placeholder:"Estatura (Cm)",name:"height",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,"".concat(t.value," cm"))))}})]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("label",{children:"Subir una foto"})," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("input",{type:"file",className:NA.inputPic,placeholder:"Agregar Foto",name:"pic",onChange:function(e){var t=e.target;return a(ZC(ZC({},i),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsx)("div",{children:(0,VC.jsx)("button",{type:"button",className:NA.button,onClick:function(){DC(i,o)},children:"Env\xedar"})}),(0,VC.jsx)("span",{children:(0,VC.jsx)($e,{className:NA.link,to:"/PlayerList",children:"Regresar"})})]})})]})}));var AA=K((function(e){var t=e.patients;return{patientList:t.patientList,userName:t.userName}}))((function(e){var n=e.patientList,r=e.userName,i=v((0,t.useState)({}),2),a=i[0],o=i[1],s=v((0,t.useState)({}),2),u=s[0],c=s[1];console.log("files:",u);var l=Me(),f=Fe().id,h=(null===n||void 0===n?void 0:n.filter((function(e){return e.idDoc===f})))[0];return(0,VC.jsxs)(VC.Fragment,{children:[(0,VC.jsx)("header",{children:(0,VC.jsx)(sA,{})}),(0,VC.jsxs)("main",{className:uA,children:[(0,VC.jsx)("h1",{className:lA,children:"Historia Cl\xednica"}),(0,VC.jsxs)("h2",{style:{marginLeft:"20px"},children:[(0,VC.jsx)("b",{children:"Paciente: "})," ",h.nameP]}),(0,VC.jsxs)("form",{className:cA,children:[(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"cc",children:"N\xb0 Identificaci\xf3n: "}),(0,VC.jsx)("input",{type:"number",name:"cc",value:h.idDoc,disabled:!0})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"sexo",children:"Sexo: "}),(0,VC.jsxs)("select",{name:"sex",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",name:"sexo",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"M",name:"sexo",children:"Maculino"}),(0,VC.jsx)("option",{value:"F",name:"sexo",children:"Fememino"})]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"number",children:"Numero: "}),(0,VC.jsx)("input",{type:"number",name:"number",value:h.tel,disabled:!0})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n: "}),(0,VC.jsx)("input",{type:"text",name:"direccion",value:h.address,disabled:!0})]})]}),(0,VC.jsxs)("div",{className:dA,children:[(0,VC.jsxs)("div",{className:yA,children:[(0,VC.jsxs)("label",{htmlFor:"consulta",children:[" ",(0,VC.jsx)("h4",{children:"Motivo de consulta: "})," "]}),(0,VC.jsx)("textarea",{name:"consultation",cols:"30",rows:"5",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:yA,children:[(0,VC.jsxs)("label",{htmlFor:"lesion",children:[" ",(0,VC.jsx)("h4",{children:"Descripci\xf3n de la lesi\xf3n: "})," "]}),(0,VC.jsx)("textarea",{name:"injury",cols:"30",rows:"5",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:yA,children:[(0,VC.jsxs)("label",{htmlFor:"enfermedad",children:[" ",(0,VC.jsx)("h4",{children:"Enfermedad actual (Descripci\xf3n): "})," "]}),(0,VC.jsx)("textarea",{name:"illness",cols:"30",rows:"5",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"medicamento",children:"Est\xe1 tomando alg\xfan medicamento: "}),(0,VC.jsx)("input",{type:"text",placeholder:"\xbfCu\xe1l?",name:"medicine",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"alergia",children:"Alergias a medicamentos: "}),(0,VC.jsx)("input",{type:"text",placeholder:"\xbfCuales?",name:"allergy",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"tipoSangre",children:"Grupo sangu\xedneo: "}),(0,VC.jsxs)("select",{name:"bloodType",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))},children:[(0,VC.jsx)("option",{selected:!0,disabled:!0,value:"X",name:"tipoSangre",children:"Seleccione una Opci\xf3n"}),(0,VC.jsx)("option",{value:"o-",name:"tipoSangre",children:"O-"}),(0,VC.jsx)("option",{value:"o+",name:"tipoSangre",children:"O+"}),(0,VC.jsx)("option",{value:"a-",name:"tipoSangre",children:"A-"}),(0,VC.jsx)("option",{value:"a+",name:"tipoSangre",children:"A+"}),(0,VC.jsx)("option",{value:"b-",name:"tipoSangre",children:"B-"}),(0,VC.jsx)("option",{value:"b+",name:"tipoSangre",children:"B+"}),(0,VC.jsx)("option",{value:"ab-",name:"tipoSangre",children:"AB-"}),(0,VC.jsx)("option",{value:"ab+",name:"tipoSangre",children:"AB+"})]})]}),(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"tranfusion",children:"\xbfHas hecho alguna transfusi\xf3n?"}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"tranfusion",value:"Si",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"tranfusion",value:"No",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","No"]})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"inconveniente",children:"\xbfHas tenido alguna reacci\xf3n a la transfusi\xf3n?"}),(0,VC.jsx)("input",{type:"text",placeholder:"\xbfCu\xe1l?",name:"tranfusionReaction",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"cirugia",children:"\xbfHas tenido alguna cirug\xeda? "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"surgeryBool",value:"Si",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"surgeryBool",value:"No",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","No"]})]}),(0,VC.jsx)("div",{className:yA,children:(0,VC.jsx)("textarea",{name:"surgery",cols:"30",rows:"5",placeholder:"\xbfCu\xe1l? \xbfCu\xe1ndo?",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"doctor",children:"Doctor responsable:"}),(0,VC.jsx)("input",{type:"text",name:"doctor",value:r.name,onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:vA,children:[(0,VC.jsx)("h3",{children:"Antecedentes Personales Patologicos"}),(0,VC.jsx)("div",{style:{width:"50%",display:"flex",flexWrap:"wrap"},children:[{label:"Cardiocvascular",name:"cardio"},{label:"Pulmonar",name:"pulmonary"},{label:"Digestivios",name:"digestive"},{label:"Diabetes",name:"diabetes"},{label:"Renales",name:"renal"},{label:"Qir\xfargico",name:"surgical"}].map((function(e){return(0,VC.jsxs)("div",{children:[(0,VC.jsx)("label",{htmlFor:e.name,children:e.label}),(0,VC.jsx)("input",{style:{margin:"8px"},type:"checkbox",name:e.name,onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]},e.name)}))})]}),(0,VC.jsx)("div",{className:yA,children:(0,VC.jsx)("textarea",{name:"medicamentos_APP",cols:"30",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))},rows:"5",placeholder:"Medicamentos:"})}),(0,VC.jsx)("div",{className:yA,children:(0,VC.jsx)("textarea",{name:"especifique_APP",cols:"30",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))},rows:"5",placeholder:"Especifique:"})})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:vA,children:[(0,VC.jsx)("h3",{children:"Antecedentes Personales No Patologicos"}),(0,VC.jsx)("label",{htmlFor:"alcohol",children:"Alcoholismo"}),(0,VC.jsx)("input",{type:"checkbox",value:"alcohol",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"tabaquismo",children:"Tabaquismo"}),(0,VC.jsx)("input",{type:"checkbox",value:"tabaquismo",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}}),(0,VC.jsx)("label",{htmlFor:"inmunizaciones",children:"Inmunizaciones"}),(0,VC.jsx)("input",{type:"checkbox",value:"inmunizaciones",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsx)("div",{className:yA,children:(0,VC.jsx)("textarea",{name:"drugs_types",cols:"30",rows:"5",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))},placeholder:"\xbfCuales Drogas?"})}),(0,VC.jsx)("div",{className:yA,children:(0,VC.jsx)("textarea",{name:"other_drugs",cols:"30",rows:"5",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))},placeholder:"Otros:"})})]}),(0,VC.jsx)("h3",{className:kA,children:"Antecedentes Familiares"}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"viveP",children:" Padre: Vive "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"viveP",value:"Si",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"viveP",value:"No",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","No"]})]}),(0,VC.jsx)("div",{className:yA,children:(0,VC.jsx)("textarea",{name:"enfermedadesP",cols:"20",rows:"5",placeholder:"Enfermedades que padece:",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})}),(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"viveM",children:" Madre: Vive "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"viveM",value:"Si",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"viveM",value:"No",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","No"]})]}),(0,VC.jsx)("div",{className:yA,children:(0,VC.jsx)("textarea",{name:"enfermedadesM",cols:"20",rows:"5",placeholder:"Enfermedades que padece:",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:gA,children:[(0,VC.jsx)("label",{htmlFor:"viveH",children:" Hermanos: Vive "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"viveH",value:"Si",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"viveH",value:"No",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})," ","No"]})]}),(0,VC.jsxs)("div",{className:pA,children:[(0,VC.jsx)("label",{htmlFor:"numerohermanos",children:"Cuantos? "}),(0,VC.jsx)("input",{type:"number",name:"numerohermanos",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})]}),(0,VC.jsx)("div",{className:yA,children:(0,VC.jsx)("textarea",{name:"enfermedadesH",cols:"20",rows:"5",placeholder:"Enfermedades que padece:",onChange:function(e){var t=e.target;return o(ZC(ZC({},a),{},Zt({},t.name,t.value)))}})})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:mA,children:[(0,VC.jsx)("label",{htmlFor:"ecografia",children:(0,VC.jsx)("b",{children:"ECOGRAFIAS"})}),(0,VC.jsx)("input",{type:"file",onChange:function(e){var t=e.target;return c(ZC(ZC({},u),{},Zt({},t.name,t.files[0])))},name:"ecografia"})]}),(0,VC.jsxs)("div",{className:mA,children:[(0,VC.jsx)("label",{htmlFor:"radiografia",children:(0,VC.jsx)("b",{children:"RADIOGRAFIAS"})}),(0,VC.jsx)("input",{type:"file",onChange:function(e){var t=e.target;return c(ZC(ZC({},u),{},Zt({},t.name,t.files[0])))},name:"radiografia"})]}),(0,VC.jsxs)("div",{className:mA,children:[(0,VC.jsx)("label",{htmlFor:"resonancia",children:(0,VC.jsx)("b",{children:"RESONANCIAS"})}),(0,VC.jsx)("input",{type:"file",onChange:function(e){var t=e.target;return c(ZC(ZC({},u),{},Zt({},t.name,t.files[0])))},name:"resonancia"})]}),(0,VC.jsxs)("div",{className:mA,children:[(0,VC.jsx)("label",{htmlFor:"ecocardiogramas",children:(0,VC.jsx)("b",{children:"ECOCARDIOGRAMAS"})}),(0,VC.jsx)("input",{type:"file",onChange:function(e){var t=e.target;return c(ZC(ZC({},u),{},Zt({},t.name,t.files[0])))},name:"ecocardiogramas"})]})]}),(0,VC.jsxs)("div",{className:hA,children:[(0,VC.jsxs)("div",{className:mA,children:[(0,VC.jsxs)("label",{htmlFor:"electrocardiograma",children:[" ",(0,VC.jsx)("b",{children:"ELECTROCARDIOGRAMA"})]}),(0,VC.jsx)("input",{type:"file",onChange:function(e){var t=e.target;return c(ZC(ZC({},u),{},Zt({},t.name,t.files[0])))},name:"electrocardiograma"})]}),(0,VC.jsxs)("div",{className:mA,children:[(0,VC.jsx)("label",{htmlFor:"examenesLab",children:(0,VC.jsx)("b",{children:"EXAMENES DE LABORATORIO"})}),(0,VC.jsx)("input",{type:"file",onChange:function(e){var t=e.target;return c(ZC(ZC({},u),{},Zt({},t.name,t.files[0])))},name:"examenesLab"})]}),(0,VC.jsxs)("div",{className:mA,children:[(0,VC.jsx)("label",{htmlFor:"cuadroHematico",children:(0,VC.jsx)("b",{children:"CUADRO HEMATICO"})}),(0,VC.jsx)("input",{type:"file",onChange:function(e){var t=e.target;return c(ZC(ZC({},u),{},Zt({},t.name,t.files[0])))},name:"cuadroHematico"})]}),(0,VC.jsxs)("div",{className:mA,children:[(0,VC.jsx)("label",{htmlFor:"parcialOrina",children:(0,VC.jsx)("b",{children:"PARCIAL DE ORINA"})}),(0,VC.jsx)("input",{type:"file",onChange:function(e){var t=e.target;return c(ZC(ZC({},u),{},Zt({},t.name,t.files[0])))},name:"parcialOrina"})]})]})]}),(0,VC.jsx)("button",{type:"button",className:bA,onClick:function(){jC(ZC(ZC({},a),{},{doctor:r.name,idDoc:f,files:u}),l)},children:"Enviar"})]})]})})),PA={container:"Therapy_container__24fzV",containerForm:"Therapy_containerForm__dEJwQ",cols:"Therapy_cols__-acXN",buttonContainer:"Therapy_buttonContainer__ItNqY",button:"Therapy_button__9POXb",imgContainer:"Therapy_imgContainer__nw2C1",playerName:"Therapy_playerName__HJB+E",player:"Therapy_player__leGWn",items:"Therapy_items__ypUmV",item:"Therapy_item__kHIJK",titleHc:"Therapy_titleHc__R9UcQ",titleFt:"Therapy_titleFt__wh7Gs",containerFt:"Therapy_containerFt__Fr2Nr",titleFe:"Therapy_titleFe__ndoZc",rows:"Therapy_rows__4WImI",rowsT:"Therapy_rowsT__Y7ANo",field:"Therapy_field__RiZtB",textBox:"Therapy_textBox__Yv1DT",radio:"Therapy_radio__RMLhm"};var OA=K((function(e){var t=e.patients;return{patientList:t.patientList,userName:t.userName}}))((function(e){var n=e.patientList,r=e.userName,i=v((0,t.useState)({}),1)[0],a=Me(),o=Fe().id,s=(null===n||void 0===n?void 0:n.filter((function(e){return e.idDoc===o})))[0];return(0,VC.jsxs)(VC.Fragment,{children:[(0,VC.jsx)("header",{children:(0,VC.jsx)(sA,{})}),(0,VC.jsxs)("main",{className:PA.container,children:[(0,VC.jsx)("h1",{className:PA.titleFt,children:"Fisio-Terapia"}),(0,VC.jsxs)("h2",{style:{marginLeft:"20px"},children:[(0,VC.jsx)("b",{children:"Paciente: "})," ",s.nameP]}),(0,VC.jsxs)("form",{className:PA.containerForm,children:[(0,VC.jsxs)("div",{className:PA.cols,children:[(0,VC.jsxs)("div",{className:PA.field,children:[(0,VC.jsx)("label",{htmlFor:"dateI",children:"Fecha de ingreso: "}),(0,VC.jsx)("input",{type:"date",name:"dateI",required:!0})]}),(0,VC.jsxs)("div",{className:PA.radio,children:[(0,VC.jsx)("label",{htmlFor:"injury",children:"Reporte de lesi\xf3n: "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"injury",value:"si"})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"injury",value:"no"})," ","No"]})]}),(0,VC.jsxs)("div",{className:PA.field,children:[(0,VC.jsx)("label",{htmlFor:"dateL",children:"Fecha de lesi\xf3n: "}),(0,VC.jsx)("input",{type:"date",name:"dateL",required:!0})]}),(0,VC.jsxs)("div",{className:PA.textBox,children:[(0,VC.jsx)("label",{htmlFor:"dignostic",children:" Diagnostico medico: "}),(0,VC.jsx)("textarea",{name:"diagnostic",cols:"30",rows:"3"})]})]}),(0,VC.jsx)("div",{className:PA.cols,children:(0,VC.jsxs)("div",{className:PA.field,children:[(0,VC.jsx)("label",{htmlFor:"dateE",children:"Fecha de egreso: "}),(0,VC.jsx)("input",{type:"date",name:"dateE",required:!0})]})}),(0,VC.jsxs)("div",{className:PA.rows,children:[(0,VC.jsxs)("div",{className:PA.radio,children:[(0,VC.jsx)("label",{htmlFor:"ortesis",children:" Uso de Ortesis: "}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"ortesis",value:"si"})," ","Si"]}),(0,VC.jsxs)("div",{children:[(0,VC.jsx)("input",{type:"radio",name:"ortesis",value:"no"})," ","No"]})]}),(0,VC.jsxs)("div",{className:PA.field,children:[(0,VC.jsx)("label",{htmlFor:"ortesis1",children:"\xbfCu\xe1l ortesis? "}),(0,VC.jsx)("input",{type:"text",name:"ortesis1"})]})]}),(0,VC.jsx)("div",{className:PA.rows,children:(0,VC.jsxs)("div",{className:PA.textBox,children:[(0,VC.jsx)("label",{htmlFor:"historyInjuries",children:" Antecedentes: "}),(0,VC.jsx)("textarea",{name:"historyInjuries",cols:"30",rows:"3"})]})})]}),(0,VC.jsx)("button",{type:"button",className:PA.send_history,onClick:function(){LC(ZC(ZC({},i),{},{doctor:r.name,idDoc:o}),a)},children:"Enviar"})]})]})})),RA="PlayerView_container__IZy9s",DA="PlayerView_buttonContainer__jvAIc",jA="PlayerView_button__G41cW",LA="PlayerView_imgContainer__blm+W",MA="PlayerView_buttonCenter__cx9fd",FA="PlayerView_playerName__C2-en",UA="PlayerView_items__OD4CV",VA="PlayerView_item__9xzRx",BA="PlayerView_titleHc__MNice",zA="PlayerView_titleFt__5Nzw7",qA="PlayerView_containerFt__vFYfC",HA="PlayerView_titleFe__Tt2bH";var GA=K((function(e){var t=e.patients;return{patientList:t.patientList,clinicalHistoryFireBase:t.clinicalHistoryFireBase,therapy:t.therapy,prepare:t.prepare,userName:t.userName}}))((function(e){var n,r,i=e.patientList,a=e.clinicalHistoryFireBase,o=e.therapy,s=e.prepare,u=e.userName,c=Fe();console.log("clinicalHistoryFireBase:",a);var l=c.id,f=null===i||void 0===i?void 0:i.filter((function(e){return e.idDoc===l})),h=J();return(0,t.useEffect)((function(){l&&(AC(l,h),PC(l,h),OC(l,h))}),[]),console.log(s),(0,VC.jsxs)(VC.Fragment,{children:[(0,VC.jsx)("header",{children:(0,VC.jsx)(sA,{})}),(0,VC.jsx)("main",{children:(0,VC.jsxs)("div",{className:RA,children:[(0,VC.jsxs)("div",{className:LA,children:[(0,VC.jsx)("h3",{className:FA,children:null===(n=f[0])||void 0===n?void 0:n.nameP}),"doctor"===u.profesion&&(0,VC.jsx)("div",{className:DA,children:(0,VC.jsx)($e,{to:"/".concat(l,"/ClinicHistory"),children:(0,VC.jsx)("button",{type:"submit",className:jA,children:"Actualizar Historia Clinica"})})})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"EDAD: "})," ",(0,VC.jsx)("br",{})," ",f[0].age," ","A\xf1os"]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"No. DOCUMENTO: "})," ",(0,VC.jsx)("br",{})," ",l]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"DIRECCION: "})," ",(0,VC.jsx)("br",{})," ",f[0].address]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"CELULAR: "})," ",(0,VC.jsx)("br",{})," ",f[0].tel]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"CORREO: "})," ",f[0].email]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"PESO: "})," ",f[0].weight]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"ESTATURA: "}),f[0].height]})]}),(0,VC.jsx)("h2",{className:BA,children:"HISTORIA CLINICA"}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"DOCTOR: "})," ",(0,VC.jsx)("br",{})," ",null===(r=f[0])||void 0===r?void 0:r.inCharge]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"MOTIVO DE CONSULTA"})," ",(0,VC.jsx)("br",{})," ",null===a||void 0===a?void 0:a.consultation]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"DESCRIPCI\xd3N DE LA LESI\xd3N: "})," ",(0,VC.jsx)("br",{})," ",null===a||void 0===a?void 0:a.injury]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"ENFERMEDAD ACTUAL: "})," ",(0,VC.jsx)("br",{})," ",null===a||void 0===a?void 0:a.illness]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"MEDICAMENTOS EN USO ACTUALMENTE: "})," ",null===a||void 0===a?void 0:a.medicine]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"ALERGIAS A MEDICAMENTOS: "})," ",null===a||void 0===a?void 0:a.allergy]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"GRUPO SANGUINEO: "})," ",null===a||void 0===a?void 0:a.bloodType]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"REACCI\xd3N A TRANSFUSIONES: "})," ",null===a||void 0===a?void 0:a.tranfusion]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"CIRUGIAS: "})," ",null===a||void 0===a?void 0:a.surgeryBool]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"ANTECEDENTES PERSONALES PATOLOGICOS: "})," ",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.cardio?" -Cardiovascular":"",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.pulmonary?" -Pulmonar":"",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.digestive?" -Digestivos":"",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.diabetes?" -Diabetes":"",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.renal?" -Renales":"",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.surgical?" -Qu\xedrurgicos":""]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"TRATAMIENTO PARA LA PATOLOGIA: "})," ",(0,VC.jsx)("br",{}),null===a||void 0===a?void 0:a.medicamentos_APP]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"ANTECEDENTES PERSONALES NO PATOLOGICOS: "})," ",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.alcohol?" -Alcoholismo":"",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.smook?" -Tabaquismo":"",(0,VC.jsx)("br",{}),null!==a&&void 0!==a&&a.inmun?" -Inmunizaciones":""]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"TIPOS DE DROGAS "})," ",(0,VC.jsx)("br",{}),null===a||void 0===a?void 0:a.drugs_types]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"OTRAS DROGAS "})," ",(0,VC.jsx)("br",{}),null===a||void 0===a?void 0:a.other_drugs]})]}),(0,VC.jsxs)("div",{className:qA,children:[(0,VC.jsxs)("div",{className:MA,children:[(0,VC.jsx)("h2",{className:zA,children:"FISIOTERAPIA"}),(0,VC.jsx)("h3",{className:HA,children:"FORMATO DE EVALUACI\xd3N DE LESIONES VFC"}),"therapist"===u.profesion&&(0,VC.jsx)("div",{className:DA,children:(0,VC.jsx)($e,{to:"/".concat(l,"/Physiotherapy"),children:(0,VC.jsx)("button",{type:"submit",className:jA,children:"Actualizar Datos"})})})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"FECHA DE INGRESO: "})," ",(0,VC.jsx)("br",{}),o.inDate]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"FECHA DE ENGRESO: "})," ",(0,VC.jsx)("br",{}),o.outDate]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"REPORTE DE LESI\xd3N: "})," ",o.injuryBool]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"FECHA DE LESI\xd3N: "})," ",(0,VC.jsx)("br",{}),o.injuryDate]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"USO DE ORTESIS: "})," ",o.orthesisBool]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"QU\xc9 ORTESIS:"})," ",o.orthesis]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"DIAGNOSTICO FISIOTERAPEUTICO: "})," ",(0,VC.jsx)("br",{})," ",o.diagnosis]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"ANTECEDENTES: "})," ",(0,VC.jsx)("br",{})," ",o.record]})]}),(0,VC.jsx)("div",{className:MA,children:(0,VC.jsx)("h2",{className:zA,children:"EXPLORACI\xd3N FIS\xcdCA"})}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"SIGNOS VITALES: "}),(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"FC:"})," ",s.fc,(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"FR:"})," ",s.fr,(0,VC.jsxs)("b",{children:[" ",(0,VC.jsx)("br",{})," ","TA:"]})," ",s.ta,(0,VC.jsxs)("b",{children:[" ",(0,VC.jsx)("br",{})," ","TC:"]})," ",s.bt]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"ANTROPOMETR\xcdA: "}),(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"TALLA:"})," ",s.size,(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"PESO:"})," ",s.weight,(0,VC.jsxs)("b",{children:[" ",(0,VC.jsx)("br",{})," ","IMC:"]})," ",s.mci]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"FLEXIBILIDAD "}),"(MMSS) :"," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"PRUEBA:"})," ",s.testMmss," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"DERECHA:"})," ",s.rhandMmss,(0,VC.jsxs)("b",{children:[" ",(0,VC.jsx)("br",{})," ","IZQUIERDA:"]})," ",s.lhandMmss]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"FLEXIBILIDAD "}),"(MMII) :"," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"PRUEBA:"})," ",s.testMmii," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"DERECHA:"})," ",s.rhandMmii,(0,VC.jsxs)("b",{children:[" ",(0,VC.jsx)("br",{})," ","IZQUIERDA:"]})," ",s.lhandMmii]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"DOLOR:"})," ",s.painBool]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"ESCALA DE DOLOR:"})," ",s.painScale]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"EDEMA:"})," ",s.edema]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"LUGAR:"})," ",s.place]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"F\xd3VEA:"})," ",s.fovea]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"PERIMETRO:"})," ",s.perometer]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"GONIOMETR\xcdA:"})," ",s.goniometry]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"MARCHA:"})," ",s.march]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"No. DE PARTIDOS "}),(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"1\xb0 Semestre: "})," ",s.partidos1,(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"2\xb0 Semestre:"})," ",s.partidos2]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"No. DE GOLES: "}),(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"1\xb0 Semestre:"})," ",s.goles1,(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"2\xb0 Semestre:"})," ",s.goles2]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"No. TARJ. AMARILLAS "})," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"1\xb0 Semestre:"})," ",s.amarillas1," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"2\xb0 Semestre:"})," ",s.amarillas2]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"No. TARJ. ROJAS "})," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"1\xb0 Semestre:"})," ",s.rojas1,(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"2\xb0 Semestre:"})," ",s.rojas2]})]}),(0,VC.jsxs)("ul",{className:UA,children:[(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"TEST ABDOMINAL: "})," ",(0,VC.jsx)("br",{}),s.testabdominal,(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"TEST COOPER:"}),(0,VC.jsx)("br",{})," ",s.testcooper]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"TEST FLEXIBILIDAD:"})," ",(0,VC.jsx)("br",{}),s.testflexibilidad,(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"TEST SALTOS:"})," ",(0,VC.jsx)("br",{}),s.testsaltos]}),(0,VC.jsxs)("li",{className:VA,children:[(0,VC.jsx)("b",{children:"TEST VELOCIDAD"})," ",(0,VC.jsx)("br",{}),s.testvelocidad," ",(0,VC.jsx)("br",{}),(0,VC.jsx)("b",{children:"TEST YOYO:"}),(0,VC.jsx)("br",{})," ",s.testyoyo]})]})]})]})})]})}));function KA(){return(0,VC.jsxs)("main",{children:[(0,VC.jsxs)(qe,{children:[(0,VC.jsx)(Be,{path:"/",element:(0,VC.jsx)(BC,{})}),(0,VC.jsx)(Be,{path:"/Register",element:(0,VC.jsx)(XC,{})}),(0,VC.jsx)(Be,{path:"/PlayerList",element:(0,VC.jsx)(TA,{})}),(0,VC.jsx)(Be,{path:"/NewPatient",element:(0,VC.jsx)(CA,{})}),(0,VC.jsx)(Be,{path:"/:id/Therapy",element:(0,VC.jsx)(OA,{})}),(0,VC.jsx)(Be,{path:"/:id/ClinicHistory",element:(0,VC.jsx)(AA,{})}),(0,VC.jsx)(Be,{path:"/:id/PlayerView",element:(0,VC.jsx)(GA,{})}),(0,VC.jsx)(Be,{path:"/:id/Physiotherapy",element:(0,VC.jsx)(xA,{})}),(0,VC.jsx)(Be,{path:"/:id/PhysicalExploration",element:(0,VC.jsx)(wA,{})})]}),(0,VC.jsx)(Et,{position:"top-right",autoClose:2500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,VC.jsx)(Et,{})]})}function WA(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var QA="function"===typeof Symbol&&Symbol.observable||"@@observable",$A=function(){return Math.random().toString(36).substring(7).split("").join(".")},YA={INIT:"@@redux/INIT"+$A(),REPLACE:"@@redux/REPLACE"+$A(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$A()}};function XA(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function JA(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(WA(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(WA(1));return n(JA)(e,t)}if("function"!==typeof e)throw new Error(WA(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(WA(3));return a}function f(e){if("function"!==typeof e)throw new Error(WA(4));if(u)throw new Error(WA(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(WA(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!XA(e))throw new Error(WA(7));if("undefined"===typeof e.type)throw new Error(WA(8));if(u)throw new Error(WA(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(WA(10));i=e,h({type:YA.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(WA(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[QA]=function(){return this},e}return h({type:YA.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[QA]=p,r}function ZA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function eP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(WA(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=ZA.apply(void 0,a)(n.dispatch),ZC(ZC({},n),{},{dispatch:r})}}}var tP="persist:",nP="persist/FLUSH",rP="persist/REHYDRATE",iP="persist/PAUSE",aP="persist/PERSIST",oP="persist/PURGE",sP="persist/REGISTER";function uP(e){return uP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uP(e)}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fP(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cP(n,!0).forEach((function(t){lP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===uP(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function hP(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:tP).concat(e.key),s=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:dP;var u=e.writeFailHandler||null,c={},l={},f=[],h=null,d=null;function p(){if(0===f.length)return h&&clearInterval(h),void(h=null);var e=f.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete l[e];0===f.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),d=s.setItem(o,t(l)).catch(m))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function m(e){u&&u(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&c[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&v(t)&&-1===f.indexOf(t)&&void 0!==c[t]&&f.push(t)})),null===h&&(h=setInterval(p,a)),c=e},flush:function(){for(;0!==f.length;)p();return d||Promise.resolve()}}}function dP(e){return JSON.stringify(e)}function pP(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:tP).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:vP,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function vP(e){return JSON.parse(e)}function mP(e){0}function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yP(n,!0).forEach((function(t){bP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wP(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?fP:e.stateReconciler),i=e.getStoredState||pP,a=void 0!==e.timeout?e.timeout:5e3,o=null,s=!1,u=!0,c=function(e){return e._persist.rehydrated&&o&&!u&&o.update(e),e};return function(l,f){var h=l||{},d=h._persist,p=kP(h,["_persist"]);if(f.type===aP){var v=!1,m=function(t,n){v||(f.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),u=!1,o||(o=hP(e)),d)return gP({},t(p,f),{_persist:d});if("function"!==typeof f.rehydrate||"function"!==typeof f.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){m(e)}),(function(e){m(void 0,e)}))}),(function(e){m(void 0,e)})),gP({},t(p,f),{_persist:{version:n,rehydrated:!1}})}if(f.type===oP)return s=!0,f.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:tP).concat(e.key);return t.removeItem(n,mP)}(e)),gP({},t(p,f),{_persist:d});if(f.type===nP)return f.result(o&&o.flush()),gP({},t(p,f),{_persist:d});if(f.type===iP)u=!0;else if(f.type===rP){if(s)return gP({},p,{_persist:gP({},d,{rehydrated:!0})});if(f.key===e.key){var y=t(p,f),g=f.payload,b=gP({},!1!==r&&void 0!==g?r(g,l,y,e):y,{_persist:gP({},d,{rehydrated:!0})});return c(b)}}if(!d)return t(l,f);var k=t(p,f);return k===p?l:c(gP({},k,{_persist:d}))}}function xP(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_P(n,!0).forEach((function(t){IP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SP={registry:[],bootstrapped:!1},TP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SP,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sP:return EP({},e,{registry:[].concat(xP(e.registry),[t.key])});case rP:var n=e.registry.indexOf(t.key),r=xP(e.registry);return r.splice(n,1),EP({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function NP(e,t,n){var r=n||!1,i=JA(TP,SP,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:sP,key:e})},o=function(t,n,a){var o={type:rP,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&s.getState().bootstrapped&&(r(),r=!1)},s=EP({},i,{purge:function(){var t=[];return e.dispatch({type:oP,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:nP,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:iP})},persist:function(){e.dispatch({type:aP,register:a,rehydrate:o})}});return t&&t.manualPersist||s.persist(),s}var CP=n(752);function AP(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var PP=AP();PP.withExtraArgument=AP;var OP=PP,RP={allergy:"NA",bloodType:"NA",consultation:"NA",doctor:"NA",idDoc:"NA",illness:"NA",injury:"NA",medicine:"NA",sex:"NA",surgery:"NA",surgeryBool:"NA",tranfusion:"NA",tranfusionReaction:"NA",viveH:"NA",viveM:"NA",viveP:"NA",simbIllness:"NA",renal:"NA",motherIllness:"NA",fatherIllness:"NA",cardio:"NA",medicamentos_APP:"NA",numberSimblings:"NA",alcohol:"NA",smook:"NA",inmun:"NA"},DP={inDate:"",outDate:"",injuryBool:"",injuryDate:"",orthesisBool:"",orthesis:"",diagnosis:"",record:"",idDoc:""},jP={amarillas1:"",amarillas2:"",bt:"",edema:"",fc:"",fovea:"",fr:"",goles1:"",goles2:"",goniometry:"",lhandMmii:"",lhandMmss:"",march:"",mci:"",painBool:"",painScale:"",partidos1:"",partidos2:"",perometer:"",place:"",rhandMmii:"",rhandMmss:"",rojas1:"",rojas2:"",size:"",ta:"",testMmii:"",testMmss:"",weight:"",testabdominal:"",testcooper:"",testflexibilidad:"",testsaltos:"",testvelocidad:"",testyoyo:""},LP={patientList:[],userName:{},therapy:DP,clinicalHistoryFireBase:RP,prepare:jP},MP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LP,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case mC:return ZC(ZC({},e),{},{patientList:r});case yC:return ZC(ZC({},e),{},{userName:r});case gC:return ZC(ZC({},e),{},{clinicalHistoryFireBase:r});case bC:return ZC(ZC({},e),{},{clinicalHistoryFireBase:RP});case kC:return ZC(ZC({},e),{},{therapy:r});case wC:return ZC(ZC({},e),{},{therapy:DP});case xC:return ZC(ZC({},e),{},{prepare:r});case _C:return ZC(ZC({},e),{},{prepare:jP});default:return e}},FP=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:YA.INIT}))throw new Error(WA(12));if("undefined"===typeof n(void 0,{type:YA.PROBE_UNKNOWN_ACTION()}))throw new Error(WA(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(WA(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({patients:MP});var UP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=[OP],r=ZA.apply(void 0,[eP.apply(void 0,n)].concat(t)),i=JA(wP({key:"root",storage:CP.Z},FP),e,r),a=NP(i,null,(function(){}));return{store:i,persistor:a}},VP=UP(),BP=VP.store,zP=VP.persistor;r.render((0,VC.jsx)(W,{store:BP,children:(0,VC.jsx)(ue,{loading:null,persistor:zP,children:(0,VC.jsx)(Qe,{basename:"/vpfc",children:(0,VC.jsx)(KA,{})})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.c63f819f.js.map